(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1401:(Rn,ht,j)=>{"use strict";j.d(ht,{Am:()=>fr,Bd:()=>Se,FA:()=>mt,Fy:()=>He,I9:()=>Nn,Im:()=>Gt,Ku:()=>sn,Ll:()=>wt,T9:()=>dt,Uj:()=>Ke,XA:()=>ge,ZQ:()=>Xe,bD:()=>zt,c1:()=>Xt,cY:()=>Ce,eX:()=>Ee,g:()=>Ze,gR:()=>nr,hp:()=>Bn,jZ:()=>Ct,lT:()=>Ut,lV:()=>un,mS:()=>Le,nr:()=>me,p7:()=>Wt,sr:()=>wn,tD:()=>Er,u:()=>Ae,zW:()=>J,zw:()=>Re});const H=function(ve){const Te=[];let Ve=0;for(let Ot=0;Ot<ve.length;Ot++){let Ye=ve.charCodeAt(Ot);Ye<128?Te[Ve++]=Ye:Ye<2048?(Te[Ve++]=Ye>>6|192,Te[Ve++]=63&Ye|128):55296==(64512&Ye)&&Ot+1<ve.length&&56320==(64512&ve.charCodeAt(Ot+1))?(Ye=65536+((1023&Ye)<<10)+(1023&ve.charCodeAt(++Ot)),Te[Ve++]=Ye>>18|240,Te[Ve++]=Ye>>12&63|128,Te[Ve++]=Ye>>6&63|128,Te[Ve++]=63&Ye|128):(Te[Ve++]=Ye>>12|224,Te[Ve++]=Ye>>6&63|128,Te[Ve++]=63&Ye|128)}return Te},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,Te){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ot=[];for(let Ye=0;Ye<ve.length;Ye+=3){const Cn=ve[Ye],Fn=Ye+1<ve.length,Bt=Fn?ve[Ye+1]:0,yr=Ye+2<ve.length,cr=yr?ve[Ye+2]:0;let Tn=(15&Bt)<<2|cr>>6,gi=63&cr;yr||(gi=64,Fn||(Tn=64)),Ot.push(Ve[Cn>>2],Ve[(3&Cn)<<4|Bt>>4],Ve[Tn],Ve[gi])}return Ot.join("")},encodeString(ve,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(ve):this.encodeByteArray(H(ve),Te)},decodeString(ve,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(ve):function(ve){const Te=[];let Ve=0,Ot=0;for(;Ve<ve.length;){const Ye=ve[Ve++];if(Ye<128)Te[Ot++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const Cn=ve[Ve++];Te[Ot++]=String.fromCharCode((31&Ye)<<6|63&Cn)}else if(Ye>239&&Ye<365){const yr=((7&Ye)<<18|(63&ve[Ve++])<<12|(63&ve[Ve++])<<6|63&ve[Ve++])-65536;Te[Ot++]=String.fromCharCode(55296+(yr>>10)),Te[Ot++]=String.fromCharCode(56320+(1023&yr))}else{const Cn=ve[Ve++],Fn=ve[Ve++];Te[Ot++]=String.fromCharCode((15&Ye)<<12|(63&Cn)<<6|63&Fn)}}return Te.join("")}(this.decodeStringToByteArray(ve,Te))},decodeStringToByteArray(ve,Te){this.init_();const Ve=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ot=[];for(let Ye=0;Ye<ve.length;){const Cn=Ve[ve.charAt(Ye++)],Bt=Ye<ve.length?Ve[ve.charAt(Ye)]:0;++Ye;const cr=Ye<ve.length?Ve[ve.charAt(Ye)]:64;++Ye;const Jt=Ye<ve.length?Ve[ve.charAt(Ye)]:64;if(++Ye,null==Cn||null==Bt||null==cr||null==Jt)throw new te;Ot.push(Cn<<2|Bt>>4),64!==cr&&(Ot.push(Bt<<4&240|cr>>2),64!==Jt&&Ot.push(cr<<6&192|Jt))}return Ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ke=function(ve){return function(ve){const Te=H(ve);return he.encodeByteArray(Te,!0)}(ve).replace(/\./g,"")},Ae=function(ve){try{return he.decodeString(ve,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function Re(ve,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return Te}for(const Ve in Te)!Te.hasOwnProperty(Ve)||!Ue(Ve)||(ve[Ve]=Re(ve[Ve],Te[Ve]));return ve}function Ue(ve){return"__proto__"!==ve}function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rt=()=>{try{return Le().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Te=ve&&Ae(ve[1]);return Te&&JSON.parse(Te)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},dt=()=>{var ve;return null===(ve=rt())||void 0===ve?void 0:ve.config},ge=ve=>{var Te;return null===(Te=rt())||void 0===Te?void 0:Te[`_${ve}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,Ve)=>{this.resolve=Te,this.reject=Ve})}wrapCallback(Te){return(Ve,Ot)=>{Ve?this.reject(Ve):this.resolve(Ot),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(Ve):Te(Ve,Ot))}}}function He(ve,Te){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ot=Te||"demo-project",Ye=ve.iat||0,Cn=ve.sub||ve.user_id;if(!Cn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fn=Object.assign({iss:`https://securetoken.google.com/${Ot}`,aud:Ot,iat:Ye,exp:Ye+3600,auth_time:Ye,sub:Cn,user_id:Cn,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(Fn)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function wt(){var ve;const Te=null===(ve=rt())||void 0===ve?void 0:ve.forceEnvironment;if("node"===Te)return!0;if("browser"===Te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return typeof window<"u"||Wt()}function Wt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Xt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function wn(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function un(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ut(){const ve=Xe();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function me(){return!wt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){try{return"object"==typeof indexedDB}catch{return!1}}function Ee(){return new Promise((ve,Te)=>{try{let Ve=!0;const Ot="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(Ot);Ye.onsuccess=()=>{Ye.result.close(),Ve||self.indexedDB.deleteDatabase(Ot),ve(!0)},Ye.onupgradeneeded=()=>{Ve=!1},Ye.onerror=()=>{var Cn;Te((null===(Cn=Ye.error)||void 0===Cn?void 0:Cn.message)||"")}}catch(Ve){Te(Ve)}})}class Ze extends Error{constructor(Te,Ve,Ot){super(Ve),this.code=Te,this.customData=Ot,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(Te,Ve,Ot){this.service=Te,this.serviceName=Ve,this.errors=Ot}create(Te,...Ve){const Ot=Ve[0]||{},Ye=`${this.service}/${Te}`,Cn=this.errors[Te],Fn=Cn?function _n(ve,Te){return ve.replace(ln,(Ve,Ot)=>{const Ye=Te[Ot];return null!=Ye?String(Ye):`<${Ot}?>`})}(Cn,Ot):"Error";return new Ze(Ye,`${this.serviceName}: ${Fn} (${Ye}).`,Ot)}}const ln=/\{\$([^}]+)}/g;function nr(ve,Te){return Object.prototype.hasOwnProperty.call(ve,Te)}function Gt(ve){for(const Te in ve)if(Object.prototype.hasOwnProperty.call(ve,Te))return!1;return!0}function zt(ve,Te){if(ve===Te)return!0;const Ve=Object.keys(ve),Ot=Object.keys(Te);for(const Ye of Ve){if(!Ot.includes(Ye))return!1;const Cn=ve[Ye],Fn=Te[Ye];if(ft(Cn)&&ft(Fn)){if(!zt(Cn,Fn))return!1}else if(Cn!==Fn)return!1}for(const Ye of Ot)if(!Ve.includes(Ye))return!1;return!0}function ft(ve){return null!==ve&&"object"==typeof ve}function fr(ve){const Te=[];for(const[Ve,Ot]of Object.entries(ve))Array.isArray(Ot)?Ot.forEach(Ye=>{Te.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Ye))}):Te.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Ot));return Te.length?"&"+Te.join("&"):""}function Nn(ve){const Te={};return ve.replace(/^\?/,"").split("&").forEach(Ot=>{if(Ot){const[Ye,Cn]=Ot.split("=");Te[decodeURIComponent(Ye)]=decodeURIComponent(Cn)}}),Te}function Bn(ve){const Te=ve.indexOf("?");if(!Te)return"";const Ve=ve.indexOf("#",Te);return ve.substring(Te,Ve>0?Ve:void 0)}function Er(ve,Te){const Ve=new lr(ve,Te);return Ve.subscribe.bind(Ve)}class lr{constructor(Te,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{Te(this)}).catch(Ot=>{this.error(Ot)})}next(Te){this.forEachObserver(Ve=>{Ve.next(Te)})}error(Te){this.forEachObserver(Ve=>{Ve.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,Ve,Ot){let Ye;if(void 0===Te&&void 0===Ve&&void 0===Ot)throw new Error("Missing Observer.");Ye=function wr(ve,Te){if("object"!=typeof ve||null===ve)return!1;for(const Ve of Te)if(Ve in ve&&"function"==typeof ve[Ve])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:Ve,complete:Ot},void 0===Ye.next&&(Ye.next=Ti),void 0===Ye.error&&(Ye.error=Ti),void 0===Ye.complete&&(Ye.complete=Ti);const Cn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch{}}),this.observers.push(Ye),Cn}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,Te)}sendOne(Te,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{Ve(this.observers[Te])}catch(Ot){typeof console<"u"&&console.error&&console.error(Ot)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ti(){}function sn(ve){return ve&&ve._delegate?ve._delegate:ve}},4442:(Rn,ht,j)=>{"use strict";j.d(ht,{L:()=>De,a:()=>he,b:()=>te,c:()=>Ne,d:()=>Ke,g:()=>Ut}),j(5531);const De="ionViewWillEnter",he="ionViewDidEnter",te="ionViewWillLeave",Ne="ionViewDidLeave",Ke="ionViewWillUnload",Ut=_e=>_e.classList.contains("ion-page")?_e:_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||_e},5531:(Rn,ht,j)=>{"use strict";j.d(ht,{a:()=>Ae,c:()=>f,g:()=>Ke});class c{constructor(){this.m=new Map}reset(_e){this.m=new Map(Object.entries(_e))}get(_e,ye){const me=this.m.get(_e);return void 0!==me?me:ye}getBoolean(_e,ye=!1){const me=this.m.get(_e);return void 0===me?ye:"string"==typeof me?"true"===me:!!me}getNumber(_e,ye){const me=parseFloat(this.m.get(_e));return isNaN(me)?void 0!==ye?ye:NaN:me}set(_e,ye){this.m.set(_e,ye)}}const f=new c,Ke=Ut=>ce(Ut),Ae=(Ut,_e)=>("string"==typeof Ut&&(_e=Ut,Ut=void 0),Ke(Ut).includes(_e)),ce=(Ut=window)=>{if(typeof Ut>"u")return[];Ut.Ionic=Ut.Ionic||{};let _e=Ut.Ionic.platforms;return null==_e&&(_e=Ut.Ionic.platforms=Re(Ut),_e.forEach(ye=>Ut.document.documentElement.classList.add(`plt-${ye}`))),_e},Re=Ut=>{const _e=f.get("platform");return Object.keys(Xt).filter(ye=>{const me=null==_e?void 0:_e[ye];return"function"==typeof me?me(Ut):Xt[ye](Ut)})},Le=Ut=>!!(Se(Ut,/iPad/i)||Se(Ut,/Macintosh/i)&&dt(Ut)),tt=Ut=>Se(Ut,/android|sink/i),dt=Ut=>Wt(Ut,"(any-pointer:coarse)"),Ce=Ut=>He(Ut)||Xe(Ut),He=Ut=>!!(Ut.cordova||Ut.phonegap||Ut.PhoneGap),Xe=Ut=>{const _e=Ut.Capacitor;return!(null==_e||!_e.isNative)},Se=(Ut,_e)=>_e.test(Ut.navigator.userAgent),Wt=(Ut,_e)=>{var ye;return null===(ye=Ut.matchMedia)||void 0===ye?void 0:ye.call(Ut,_e).matches},Xt={ipad:Le,iphone:Ut=>Se(Ut,/iPhone/i),ios:Ut=>Se(Ut,/iPhone|iPod/i)||Le(Ut),android:tt,phablet:Ut=>{const _e=Ut.innerWidth,ye=Ut.innerHeight,me=Math.min(_e,ye),J=Math.max(_e,ye);return me>390&&me<520&&J>620&&J<800},tablet:Ut=>{const _e=Ut.innerWidth,ye=Ut.innerHeight,me=Math.min(_e,ye),J=Math.max(_e,ye);return Le(Ut)||(Ut=>tt(Ut)&&!Se(Ut,/mobile/i))(Ut)||me>460&&me<820&&J>780&&J<1400},cordova:He,capacitor:Xe,electron:Ut=>Se(Ut,/electron/i),pwa:Ut=>{var _e;return!!(null!==(_e=Ut.matchMedia)&&void 0!==_e&&_e.call(Ut,"(display-mode: standalone)").matches||Ut.navigator.standalone)},mobile:dt,mobileweb:Ut=>dt(Ut)&&!Ce(Ut),desktop:Ut=>!dt(Ut),hybrid:Ce}},9986:(Rn,ht,j)=>{"use strict";j.d(ht,{c:()=>he});var c=j(8476);let f;const H=(te,Ne,Ke)=>{const Ae=Ne.startsWith("animation")?(te=>(void 0===f&&(f=void 0===te.style.animationName&&void 0!==te.style.webkitAnimationName?"-webkit-":""),f))(te):"";te.style.setProperty(Ae+Ne,Ke)},De=(te=[],Ne)=>{if(void 0!==Ne){const Ke=Array.isArray(Ne)?Ne:[Ne];return[...te,...Ke]}return te},he=te=>{let Ne,Ke,Ae,ce,Re,Ue,rt,Ct,wt,Se,un,Le=[],lt=[],at=[],tt=!1,pt={},ut=[],dt=[],ge={},Ce=0,He=!1,Xe=!1,Wt=!0,Xt=!1,wn=!0,Un=!1;const Ut=te,_e=[],ye=[],me=[],J=[],Ee=[],ze=[],Fe=[],Ze=[],mt=[],_n=[],ln=[],Hn="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,mn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Hn,Nt=()=>ln,nr=(ct,Yt)=>{const bn=Yt.findIndex(Xn=>Xn.c===ct);bn>-1&&Yt.splice(bn,1)},Gt=(ct,Yt)=>((null!=Yt&&Yt.oneTimeCallback?ye:_e).push({c:ct,o:Yt}),un),zt=()=>{mn&&(ln.forEach(ct=>{ct.cancel()}),ln.length=0)},ft=()=>{ze.forEach(ct=>{null!=ct&&ct.parentNode&&ct.parentNode.removeChild(ct)}),ze.length=0},sr=()=>void 0!==Re?Re:rt?rt.getFill():"both",Mi=()=>void 0!==Ct?Ct:void 0!==Ue?Ue:rt?rt.getDirection():"normal",pr=()=>He?"linear":void 0!==Ae?Ae:rt?rt.getEasing():"linear",$i=()=>Xe?0:void 0!==wt?wt:void 0!==Ke?Ke:rt?rt.getDuration():0,ai=()=>void 0!==ce?ce:rt?rt.getIterations():1,ur=()=>void 0!==Se?Se:void 0!==Ne?Ne:rt?rt.getDelay():0,Fn=()=>{0!==Ce&&(Ce--,0===Ce&&((()=>{mt.forEach(En=>En()),_n.forEach(En=>En());const ct=Wt?1:0,Yt=ut,bn=dt,Xn=ge;J.forEach(En=>{const Xr=En.classList;Yt.forEach(Ir=>Xr.add(Ir)),bn.forEach(Ir=>Xr.remove(Ir));for(const Ir in Xn)Xn.hasOwnProperty(Ir)&&H(En,Ir,Xn[Ir])}),wt=void 0,Ct=void 0,Se=void 0,_e.forEach(En=>En.c(ct,un)),ye.forEach(En=>En.c(ct,un)),ye.length=0,wn=!0,Wt&&(Xt=!0),Wt=!0})(),rt&&rt.animationFinish()))},yr=()=>{(()=>{Fe.forEach(Xn=>Xn()),Ze.forEach(Xn=>Xn());const ct=lt,Yt=at,bn=pt;J.forEach(Xn=>{const En=Xn.classList;ct.forEach(Xr=>En.add(Xr)),Yt.forEach(Xr=>En.remove(Xr));for(const Xr in bn)bn.hasOwnProperty(Xr)&&H(Xn,Xr,bn[Xr])})})(),Le.length>0&&mn&&(J.forEach(ct=>{const Yt=ct.animate(Le,{id:Ut,delay:ur(),duration:$i(),easing:pr(),iterations:ai(),fill:sr(),direction:Mi()});Yt.pause(),ln.push(Yt)}),ln.length>0&&(ln[0].onfinish=()=>{Fn()})),tt=!0},cr=ct=>{ct=Math.min(Math.max(ct,0),.9999),mn&&ln.forEach(Yt=>{Yt.currentTime=Yt.effect.getComputedTiming().delay+$i()*ct,Yt.pause()})},Vr=ct=>{ln.forEach(Yt=>{Yt.effect.updateTiming({delay:ur(),duration:$i(),easing:pr(),iterations:ai(),fill:sr(),direction:Mi()})}),void 0!==ct&&cr(ct)},Jt=(ct=!1,Yt=!0,bn)=>(ct&&Ee.forEach(Xn=>{Xn.update(ct,Yt,bn)}),mn&&Vr(bn),un),Mt=()=>{tt&&(mn?ln.forEach(ct=>{ct.pause()}):J.forEach(ct=>{H(ct,"animation-play-state","paused")}),Un=!0)},Pr=ct=>new Promise(Yt=>{null!=ct&&ct.sync&&(Xe=!0,Gt(()=>Xe=!1,{oneTimeCallback:!0})),tt||yr(),Xt&&(mn&&(cr(0),Vr()),Xt=!1),wn&&(Ce=Ee.length+1,wn=!1);const bn=()=>{nr(Xn,ye),Yt()},Xn=()=>{nr(bn,me),Yt()};Gt(Xn,{oneTimeCallback:!0}),(ct=>{me.push({c:ct,o:{oneTimeCallback:!0}})})(bn),Ee.forEach(En=>{En.play()}),mn?(ln.forEach(ct=>{ct.play()}),(0===Le.length||0===J.length)&&Fn()):Fn(),Un=!1}),it=(ct,Yt)=>{const bn=Le[0];return void 0===bn||void 0!==bn.offset&&0!==bn.offset?Le=[{offset:0,[ct]:Yt},...Le]:bn[ct]=Yt,un};return un={parentAnimation:rt,elements:J,childAnimations:Ee,id:Ut,animationFinish:Fn,from:it,to:(ct,Yt)=>{const bn=Le[Le.length-1];return void 0===bn||void 0!==bn.offset&&1!==bn.offset?Le=[...Le,{offset:1,[ct]:Yt}]:bn[ct]=Yt,un},fromTo:(ct,Yt,bn)=>it(ct,Yt).to(ct,bn),parent:ct=>(rt=ct,un),play:Pr,pause:()=>(Ee.forEach(ct=>{ct.pause()}),Mt(),un),stop:()=>{Ee.forEach(ct=>{ct.stop()}),tt&&(zt(),tt=!1),He=!1,Xe=!1,wn=!0,Ct=void 0,wt=void 0,Se=void 0,Ce=0,Xt=!1,Wt=!0,Un=!1,me.forEach(ct=>ct.c(0,un)),me.length=0},destroy:ct=>(Ee.forEach(Yt=>{Yt.destroy(ct)}),(ct=>{zt(),ct&&ft()})(ct),J.length=0,Ee.length=0,Le.length=0,_e.length=0,ye.length=0,tt=!1,wn=!0,un),keyframes:ct=>{const Yt=Le!==ct;return Le=ct,Yt&&(ct=>{mn&&Nt().forEach(Yt=>{const bn=Yt.effect;if(bn.setKeyframes)bn.setKeyframes(ct);else{const Xn=new KeyframeEffect(bn.target,ct,bn.getTiming());Yt.effect=Xn}})})(Le),un},addAnimation:ct=>{if(null!=ct)if(Array.isArray(ct))for(const Yt of ct)Yt.parent(un),Ee.push(Yt);else ct.parent(un),Ee.push(ct);return un},addElement:ct=>{if(null!=ct)if(1===ct.nodeType)J.push(ct);else if(ct.length>=0)for(let Yt=0;Yt<ct.length;Yt++)J.push(ct[Yt]);else console.error("Invalid addElement value");return un},update:Jt,fill:ct=>(Re=ct,Jt(!0),un),direction:ct=>(Ue=ct,Jt(!0),un),iterations:ct=>(ce=ct,Jt(!0),un),duration:ct=>(!mn&&0===ct&&(ct=1),Ke=ct,Jt(!0),un),easing:ct=>(Ae=ct,Jt(!0),un),delay:ct=>(Ne=ct,Jt(!0),un),getWebAnimations:Nt,getKeyframes:()=>Le,getFill:sr,getDirection:Mi,getDelay:ur,getIterations:ai,getEasing:pr,getDuration:$i,afterAddRead:ct=>(mt.push(ct),un),afterAddWrite:ct=>(_n.push(ct),un),afterClearStyles:(ct=[])=>{for(const Yt of ct)ge[Yt]="";return un},afterStyles:(ct={})=>(ge=ct,un),afterRemoveClass:ct=>(dt=De(dt,ct),un),afterAddClass:ct=>(ut=De(ut,ct),un),beforeAddRead:ct=>(Fe.push(ct),un),beforeAddWrite:ct=>(Ze.push(ct),un),beforeClearStyles:(ct=[])=>{for(const Yt of ct)pt[Yt]="";return un},beforeStyles:(ct={})=>(pt=ct,un),beforeRemoveClass:ct=>(at=De(at,ct),un),beforeAddClass:ct=>(lt=De(lt,ct),un),onFinish:Gt,isRunning:()=>0!==Ce&&!Un,progressStart:(ct=!1,Yt)=>(Ee.forEach(bn=>{bn.progressStart(ct,Yt)}),Mt(),He=ct,tt||yr(),Jt(!1,!0,Yt),un),progressStep:ct=>(Ee.forEach(Yt=>{Yt.progressStep(ct)}),cr(ct),un),progressEnd:(ct,Yt,bn)=>(He=!1,Ee.forEach(Xn=>{Xn.progressEnd(ct,Yt,bn)}),void 0!==bn&&(wt=bn),Xt=!1,Wt=!0,0===ct?(Ct="reverse"===Mi()?"normal":"reverse","reverse"===Ct&&(Wt=!1),mn?(Jt(),cr(1-Yt)):(Se=(1-Yt)*$i()*-1,Jt(!1,!1))):1===ct&&(mn?(Jt(),cr(Yt)):(Se=Yt*$i()*-1,Jt(!1,!1))),void 0!==ct&&!rt&&Pr(),un)}}},464:(Rn,ht,j)=>{"use strict";j.d(ht,{E:()=>Ae,a:()=>c,s:()=>Ne});const c=ce=>{try{if(ce instanceof te)return ce.value;if(!H()||"string"!=typeof ce||""===ce)return ce;if(ce.includes("onload="))return"";const Re=document.createDocumentFragment(),Ue=document.createElement("div");Re.appendChild(Ue),Ue.innerHTML=ce,he.forEach(tt=>{const rt=Re.querySelectorAll(tt);for(let pt=rt.length-1;pt>=0;pt--){const ut=rt[pt];ut.parentNode?ut.parentNode.removeChild(ut):Re.removeChild(ut);const dt=xe(ut);for(let ge=0;ge<dt.length;ge++)f(dt[ge])}});const Le=xe(Re);for(let tt=0;tt<Le.length;tt++)f(Le[tt]);const lt=document.createElement("div");lt.appendChild(Re);const at=lt.querySelector("div");return null!==at?at.innerHTML:lt.innerHTML}catch(Re){return console.error(Re),""}},f=ce=>{if(ce.nodeType&&1!==ce.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ce.attributes instanceof NamedNodeMap))return void ce.remove();for(let Ue=ce.attributes.length-1;Ue>=0;Ue--){const Le=ce.attributes.item(Ue),lt=Le.name;if(!De.includes(lt.toLowerCase())){ce.removeAttribute(lt);continue}const at=Le.value,tt=ce[lt];(null!=at&&at.toLowerCase().includes("javascript:")||null!=tt&&tt.toLowerCase().includes("javascript:"))&&ce.removeAttribute(lt)}const Re=xe(ce);for(let Ue=0;Ue<Re.length;Ue++)f(Re[Ue])},xe=ce=>null!=ce.children?ce.children:ce.childNodes,H=()=>{var ce;const Re=window,Ue=null===(ce=null==Re?void 0:Re.Ionic)||void 0===ce?void 0:ce.config;return!Ue||(Ue.get?Ue.get("sanitizerEnabled",!0):!0===Ue.sanitizerEnabled||void 0===Ue.sanitizerEnabled)},De=["class","id","href","src","name","slot"],he=["script","style","iframe","meta","link","object","embed"];class te{constructor(Re){this.value=Re}}const Ne=ce=>{const Re=window,Ue=Re.Ionic;if(!Ue||!Ue.config||"Object"===Ue.config.constructor.name)return Re.Ionic=Re.Ionic||{},Re.Ionic.config=Object.assign(Object.assign({},Re.Ionic.config),ce),Re.Ionic.config},Ae=!1},8621:(Rn,ht,j)=>{"use strict";j.d(ht,{C:()=>De,a:()=>xe,d:()=>H});var c=j(467),f=j(4920);const xe=function(){var he=(0,c.A)(function*(te,Ne,Ke,Ae,ce,Re){var Ue;if(te)return te.attachViewToDom(Ne,Ke,ce,Ae);if(!(Re||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const Le="string"==typeof Ke?null===(Ue=Ne.ownerDocument)||void 0===Ue?void 0:Ue.createElement(Ke):Ke;return Ae&&Ae.forEach(lt=>Le.classList.add(lt)),ce&&Object.assign(Le,ce),Ne.appendChild(Le),yield new Promise(lt=>(0,f.c)(Le,lt)),Le});return function(Ne,Ke,Ae,ce,Re,Ue){return he.apply(this,arguments)}}(),H=(he,te)=>{if(te){if(he)return he.removeViewFromDom(te.parentElement,te);te.remove()}return Promise.resolve()},De=()=>{let he,te;return{attachViewToDom:function(){var Ae=(0,c.A)(function*(ce,Re,Ue={},Le=[]){var lt,at;let tt;if(he=ce,Re){const pt="string"==typeof Re?null===(lt=he.ownerDocument)||void 0===lt?void 0:lt.createElement(Re):Re;Le.forEach(ut=>pt.classList.add(ut)),Object.assign(pt,Ue),he.appendChild(pt),tt=pt,yield new Promise(ut=>(0,f.c)(pt,ut))}else if(he.children.length>0&&("ION-MODAL"===he.tagName||"ION-POPOVER"===he.tagName)&&!(tt=he.children[0]).classList.contains("ion-delegate-host")){const ut=null===(at=he.ownerDocument)||void 0===at?void 0:at.createElement("div");ut.classList.add("ion-delegate-host"),Le.forEach(dt=>ut.classList.add(dt)),ut.append(...he.children),he.appendChild(ut),tt=ut}const rt=document.querySelector("ion-app")||document.body;return te=document.createComment("ionic teleport"),he.parentNode.insertBefore(te,he),rt.appendChild(he),null!=tt?tt:he});return function(Re,Ue){return Ae.apply(this,arguments)}}(),removeViewFromDom:()=>(he&&te&&(te.parentNode.insertBefore(he,te),te.remove()),Promise.resolve())}}},1970:(Rn,ht,j)=>{"use strict";j.d(ht,{B:()=>H,G:()=>De});class f{constructor(te,Ne,Ke,Ae,ce){this.id=Ne,this.name=Ke,this.disableScroll=ce,this.priority=1e6*Ae+Ne,this.ctrl=te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const te=this.ctrl.capture(this.name,this.id,this.priority);return te&&this.disableScroll&&this.ctrl.disableScroll(this.id),te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class xe{constructor(te,Ne,Ke,Ae){this.id=Ne,this.disable=Ke,this.disableScroll=Ae,this.ctrl=te}block(){if(this.ctrl){if(this.disable)for(const te of this.disable)this.ctrl.disableGesture(te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const te of this.disable)this.ctrl.enableGesture(te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const H="backdrop-no-scroll",De=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(te){var Ne;return new f(this,this.newID(),te.name,null!==(Ne=te.priority)&&void 0!==Ne?Ne:0,!!te.disableScroll)}createBlocker(te={}){return new xe(this,this.newID(),te.disable,!!te.disableScroll)}start(te,Ne,Ke){return this.canStart(te)?(this.requestedStart.set(Ne,Ke),!0):(this.requestedStart.delete(Ne),!1)}capture(te,Ne,Ke){if(!this.start(te,Ne,Ke))return!1;const Ae=this.requestedStart;let ce=-1e4;if(Ae.forEach(Re=>{ce=Math.max(ce,Re)}),ce===Ke){this.capturedId=Ne,Ae.clear();const Re=new CustomEvent("ionGestureCaptured",{detail:{gestureName:te}});return document.dispatchEvent(Re),!0}return Ae.delete(Ne),!1}release(te){this.requestedStart.delete(te),this.capturedId===te&&(this.capturedId=void 0)}disableGesture(te,Ne){let Ke=this.disabledGestures.get(te);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(te,Ke)),Ke.add(Ne)}enableGesture(te,Ne){const Ke=this.disabledGestures.get(te);void 0!==Ke&&Ke.delete(Ne)}disableScroll(te){this.disabledScroll.add(te),1===this.disabledScroll.size&&document.body.classList.add(H)}enableScroll(te){this.disabledScroll.delete(te),0===this.disabledScroll.size&&document.body.classList.remove(H)}canStart(te){return!(void 0!==this.capturedId||this.isDisabled(te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(te){const Ne=this.disabledGestures.get(te);return!!(Ne&&Ne.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Rn,ht,j)=>{"use strict";j.r(ht),j.d(ht,{MENU_BACK_BUTTON_PRIORITY:()=>Ke,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ne,blockHardwareBackButton:()=>he,shouldUseCloseWatcher:()=>De,startHardwareBackButton:()=>te});var c=j(467),f=j(8476),xe=j(9483);j(4261);const De=()=>xe.c.get("experimentalCloseWatcher",!1)&&void 0!==f.w&&"CloseWatcher"in f.w,he=()=>{document.addEventListener("backbutton",()=>{})},te=()=>{const Ae=document;let ce=!1;const Re=()=>{if(ce)return;let Ue=0,Le=[];const lt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(rt,pt){Le.push({priority:rt,handler:pt,id:Ue++})}}});Ae.dispatchEvent(lt);const at=function(){var rt=(0,c.A)(function*(pt){try{if(null!=pt&&pt.handler){const ut=pt.handler(tt);null!=ut&&(yield ut)}}catch(ut){console.error(ut)}});return function(ut){return rt.apply(this,arguments)}}(),tt=()=>{if(Le.length>0){let rt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Le.forEach(pt=>{pt.priority>=rt.priority&&(rt=pt)}),ce=!0,Le=Le.filter(pt=>pt.id!==rt.id),at(rt).then(()=>ce=!1)}};tt()};if(De()){let Ue;const Le=()=>{null==Ue||Ue.destroy(),Ue=new f.w.CloseWatcher,Ue.onclose=()=>{Re(),Le()}};Le()}else Ae.addEventListener("backbutton",Re)},Ne=100,Ke=99},4920:(Rn,ht,j)=>{"use strict";j.d(ht,{a:()=>Ne,b:()=>Ke,c:()=>xe,d:()=>Le,e:()=>pt,f:()=>Ue,g:()=>Ae,h:()=>De,i:()=>te,j:()=>lt,k:()=>H,l:()=>Re,m:()=>at,n:()=>rt,o:()=>ut,p:()=>tt,r:()=>ce,s:()=>dt,t:()=>c});const c=(ge,Ce=0)=>new Promise(He=>{f(ge,Ce,He)}),f=(ge,Ce=0,He)=>{let Xe,Ct;const wt={passive:!0},Wt=()=>{Xe&&Xe()},Xt=wn=>{(void 0===wn||ge===wn.target)&&(Wt(),He(wn))};return ge&&(ge.addEventListener("webkitTransitionEnd",Xt,wt),ge.addEventListener("transitionend",Xt,wt),Ct=setTimeout(Xt,Ce+500),Xe=()=>{void 0!==Ct&&(clearTimeout(Ct),Ct=void 0),ge.removeEventListener("webkitTransitionEnd",Xt,wt),ge.removeEventListener("transitionend",Xt,wt)}),Wt},xe=(ge,Ce)=>{ge.componentOnReady?ge.componentOnReady().then(He=>Ce(He)):ce(()=>Ce(ge))},H=ge=>void 0!==ge.componentOnReady,De=(ge,Ce=[])=>{const He={};return Ce.forEach(Xe=>{ge.hasAttribute(Xe)&&(null!==ge.getAttribute(Xe)&&(He[Xe]=ge.getAttribute(Xe)),ge.removeAttribute(Xe))}),He},he=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],te=(ge,Ce)=>{let He=he;return Ce&&Ce.length>0&&(He=He.filter(Xe=>!Ce.includes(Xe))),De(ge,He)},Ne=(ge,Ce,He,Xe)=>{var Ct;if(typeof window<"u"){const wt=window,Se=null===(Ct=null==wt?void 0:wt.Ionic)||void 0===Ct?void 0:Ct.config;if(Se){const Wt=Se.get("_ael");if(Wt)return Wt(ge,Ce,He,Xe);if(Se._ael)return Se._ael(ge,Ce,He,Xe)}}return ge.addEventListener(Ce,He,Xe)},Ke=(ge,Ce,He,Xe)=>{var Ct;if(typeof window<"u"){const wt=window,Se=null===(Ct=null==wt?void 0:wt.Ionic)||void 0===Ct?void 0:Ct.config;if(Se){const Wt=Se.get("_rel");if(Wt)return Wt(ge,Ce,He,Xe);if(Se._rel)return Se._rel(ge,Ce,He,Xe)}}return ge.removeEventListener(Ce,He,Xe)},Ae=(ge,Ce=ge)=>ge.shadowRoot||Ce,ce=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge),Re=ge=>!!ge.shadowRoot&&!!ge.attachShadow,Ue=ge=>{if(ge.focus(),ge.classList.contains("ion-focusable")){const Ce=ge.closest("ion-app");Ce&&Ce.setFocus([ge])}},Le=(ge,Ce,He,Xe,Ct)=>{if(ge||Re(Ce)){let wt=Ce.querySelector("input.aux-input");wt||(wt=Ce.ownerDocument.createElement("input"),wt.type="hidden",wt.classList.add("aux-input"),Ce.appendChild(wt)),wt.disabled=Ct,wt.name=He,wt.value=Xe||""}},lt=(ge,Ce,He)=>Math.max(ge,Math.min(Ce,He)),at=(ge,Ce)=>{if(!ge){const He="ASSERT: "+Ce;throw console.error(He),new Error(He)}},tt=ge=>{if(ge){const Ce=ge.changedTouches;if(Ce&&Ce.length>0){const He=Ce[0];return{x:He.clientX,y:He.clientY}}if(void 0!==ge.pageX)return{x:ge.pageX,y:ge.pageY}}return{x:0,y:0}},rt=ge=>{const Ce="rtl"===document.dir;switch(ge){case"start":return Ce;case"end":return!Ce;default:throw new Error(`"${ge}" is not a valid value for [side]. Use "start" or "end" instead.`)}},pt=(ge,Ce)=>{const He=ge._original||ge;return{_original:ge,emit:ut(He.emit.bind(He),Ce)}},ut=(ge,Ce=0)=>{let He;return(...Xe)=>{clearTimeout(He),He=setTimeout(ge,Ce,...Xe)}},dt=(ge,Ce)=>{if(null!=ge||(ge={}),null!=Ce||(Ce={}),ge===Ce)return!0;const He=Object.keys(ge);if(He.length!==Object.keys(Ce).length)return!1;for(const Xe of He)if(!(Xe in Ce)||ge[Xe]!==Ce[Xe])return!1;return!0}},1702:(Rn,ht,j)=>{"use strict";j.d(ht,{m:()=>Ue});var c=j(467),f=j(8476),xe=j(7192),H=j(4929),De=j(4920),he=j(9483),te=j(9986);const Ne=Le=>(0,te.c)().duration(Le?400:300),Ke=Le=>{let lt,at;const tt=Le.width+8,rt=(0,te.c)(),pt=(0,te.c)();Le.isEndSide?(lt=tt+"px",at="0px"):(lt=-tt+"px",at="0px"),rt.addElement(Le.menuInnerEl).fromTo("transform",`translateX(${lt})`,`translateX(${at})`);const dt="ios"===(0,he.b)(Le),ge=dt?.2:.25;return pt.addElement(Le.backdropEl).fromTo("opacity",.01,ge),Ne(dt).addAnimation([rt,pt])},Ae=Le=>{let lt,at;const tt=(0,he.b)(Le),rt=Le.width;Le.isEndSide?(lt=-rt+"px",at=rt+"px"):(lt=rt+"px",at=-rt+"px");const pt=(0,te.c)().addElement(Le.menuInnerEl).fromTo("transform",`translateX(${at})`,"translateX(0px)"),ut=(0,te.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${lt})`),dt=(0,te.c)().addElement(Le.backdropEl).fromTo("opacity",.01,.32);return Ne("ios"===tt).addAnimation([pt,ut,dt])},ce=Le=>{const lt=(0,he.b)(Le),at=Le.width*(Le.isEndSide?-1:1)+"px",tt=(0,te.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${at})`);return Ne("ios"===lt).addAnimation(tt)},Ue=(()=>{const Le=new Map,lt=[],at=function(){var me=(0,c.A)(function*(J){const Ee=yield Ce(J,!0);return!!Ee&&Ee.open()});return function(Ee){return me.apply(this,arguments)}}(),tt=function(){var me=(0,c.A)(function*(J){const Ee=yield void 0!==J?Ce(J,!0):He();return void 0!==Ee&&Ee.close()});return function(Ee){return me.apply(this,arguments)}}(),rt=function(){var me=(0,c.A)(function*(J){const Ee=yield Ce(J,!0);return!!Ee&&Ee.toggle()});return function(Ee){return me.apply(this,arguments)}}(),pt=function(){var me=(0,c.A)(function*(J,Ee){const ze=yield Ce(Ee);return ze&&(ze.disabled=!J),ze});return function(Ee,ze){return me.apply(this,arguments)}}(),ut=function(){var me=(0,c.A)(function*(J,Ee){const ze=yield Ce(Ee);return ze&&(ze.swipeGesture=J),ze});return function(Ee,ze){return me.apply(this,arguments)}}(),dt=function(){var me=(0,c.A)(function*(J){if(null!=J){const Ee=yield Ce(J);return void 0!==Ee&&Ee.isOpen()}return void 0!==(yield He())});return function(Ee){return me.apply(this,arguments)}}(),ge=function(){var me=(0,c.A)(function*(J){const Ee=yield Ce(J);return!!Ee&&!Ee.disabled});return function(Ee){return me.apply(this,arguments)}}(),Ce=function(){var me=(0,c.A)(function*(J,Ee=!1){if(yield ye(),"start"===J||"end"===J){const Fe=lt.filter(mt=>mt.side===J&&!mt.disabled);if(Fe.length>=1)return Fe.length>1&&Ee&&(0,H.p)(`menuController queried for a menu on the "${J}" side, but ${Fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Fe.map(mt=>mt.el)),Fe[0].el;const Ze=lt.filter(mt=>mt.side===J);if(Ze.length>=1)return Ze.length>1&&Ee&&(0,H.p)(`menuController queried for a menu on the "${J}" side, but ${Ze.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ze.map(mt=>mt.el)),Ze[0].el}else if(null!=J)return _e(Fe=>Fe.menuId===J);return _e(Fe=>!Fe.disabled)||(lt.length>0?lt[0].el:void 0)});return function(Ee){return me.apply(this,arguments)}}(),He=function(){var me=(0,c.A)(function*(){return yield ye(),un()});return function(){return me.apply(this,arguments)}}(),Xe=function(){var me=(0,c.A)(function*(){return yield ye(),Un()});return function(){return me.apply(this,arguments)}}(),Ct=function(){var me=(0,c.A)(function*(){return yield ye(),Ut()});return function(){return me.apply(this,arguments)}}(),wt=(me,J)=>{Le.set(me,J)},Xt=function(){var me=(0,c.A)(function*(J,Ee,ze,Fe){if(Ut())return!1;if(Ee){const Ze=yield He();Ze&&J.el!==Ze&&(yield Ze.setOpen(!1,!1))}return J._setOpen(Ee,ze,Fe)});return function(Ee,ze,Fe,Ze){return me.apply(this,arguments)}}(),un=()=>_e(me=>me._isOpen),Un=()=>lt.map(me=>me.el),Ut=()=>lt.some(me=>me.isAnimating),_e=me=>{const J=lt.find(me);if(void 0!==J)return J.el},ye=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(me=>new Promise(J=>(0,De.c)(me,J))));return wt("reveal",ce),wt("push",Ae),wt("overlay",Ke),null==f.d||f.d.addEventListener("ionBackButton",me=>{const J=un();J&&me.detail.register(xe.MENU_BACK_BUTTON_PRIORITY,()=>J.close())}),{registerAnimation:wt,get:Ce,getMenus:Xe,getOpen:He,isEnabled:ge,swipeGesture:ut,isAnimating:Ct,isOpen:dt,enable:pt,toggle:rt,close:tt,open:at,_getOpenSync:un,_createAnimation:(me,J)=>{const Ee=Le.get(me);if(!Ee)throw new Error("animation not registered");return Ee(J)},_register:me=>{lt.indexOf(me)<0&&lt.push(me)},_unregister:me=>{const J=lt.indexOf(me);J>-1&&lt.splice(J,1)},_setOpen:Xt}})()},4261:(Rn,ht,j)=>{"use strict";j.d(ht,{B:()=>he,a:()=>wn,b:()=>Nr,c:()=>sr,d:()=>ai,e:()=>mt,f:()=>Bn,g:()=>Mi,h:()=>fr,i:()=>$i,j:()=>vn,k:()=>ln,r:()=>Ke,w:()=>_n});var c=j(467);var H=Object.defineProperty,he={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},te=new WeakMap,Ne=K=>te.get(K),Ke=(K,oe)=>te.set(oe.$lazyInstance$=K,oe),ce=(K,oe)=>oe in K,Re=(K,oe)=>(0,console.error)(K,oe),Ue=new Map,lt=new Map,at=[],dt="s-id",Xe="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ct="http://www.w3.org/1999/xlink",wt=typeof window<"u"?window:{},Se=wt.document||{head:{}},Xt={$flags$:0,$resourcesUrl$:"",jmp:K=>K(),raf:K=>requestAnimationFrame(K),ael:(K,oe,we,Oe)=>K.addEventListener(oe,we,Oe),rel:(K,oe,we,Oe)=>K.removeEventListener(oe,we,Oe),ce:(K,oe)=>new CustomEvent(K,oe)},wn=K=>{Object.assign(Xt,K)},Un=(()=>{let K=!1;try{Se.addEventListener("e",null,Object.defineProperty({},"passive",{get(){K=!0}}))}catch{}return K})(),_e=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ye=!1,me=[],J=[],Ee=(K,oe)=>we=>{K.push(we),ye||(ye=!0,oe&&4&Xt.$flags$?Ze(Fe):Xt.raf(Fe))},ze=K=>{for(let oe=0;oe<K.length;oe++)try{K[oe](performance.now())}catch(we){Re(we)}K.length=0},Fe=()=>{ze(me),ze(J),(ye=me.length>0)&&Xt.raf(Fe)},Ze=K=>Promise.resolve(void 0).then(K),mt=Ee(me,!1),_n=Ee(J,!0),ln=K=>{const oe=new URL(K,Xt.$resourcesUrl$);return oe.origin!==wt.location.origin?oe.href:oe.pathname},Hn={},Fr=K=>"object"==(K=typeof K)||"function"===K;function Gn(K){var oe,we,Oe;return null!=(Oe=null==(we=null==(oe=K.head)?void 0:oe.querySelector('meta[name="csp-nonce"]'))?void 0:we.getAttribute("content"))?Oe:void 0}((K,oe)=>{for(var we in oe)H(K,we,{get:oe[we],enumerable:!0})})({},{err:()=>zr,map:()=>Gt,ok:()=>nr,unwrap:()=>St,unwrapErr:()=>zt});var nr=K=>({isOk:!0,isErr:!1,value:K}),zr=K=>({isOk:!1,isErr:!0,value:K});function Gt(K,oe){if(K.isOk){const we=oe(K.value);return we instanceof Promise?we.then(Oe=>nr(Oe)):nr(we)}if(K.isErr)return zr(K.value);throw"should never get here"}var St=K=>{if(K.isOk)return K.value;throw K.value},zt=K=>{if(K.isErr)return K.value;throw K.value},fr=(K,oe,...we)=>{let Oe=null,et=null,qe=null,Qt=!1,_t=!1;const qt=[],rn=Pn=>{for(let qn=0;qn<Pn.length;qn++)Oe=Pn[qn],Array.isArray(Oe)?rn(Oe):null!=Oe&&"boolean"!=typeof Oe&&((Qt="function"!=typeof K&&!Fr(Oe))&&(Oe=String(Oe)),Qt&&_t?qt[qt.length-1].$text$+=Oe:qt.push(Qt?Nn(null,Oe):Oe),_t=Qt)};if(rn(we),oe){oe.key&&(et=oe.key),oe.name&&(qe=oe.name);{const Pn=oe.className||oe.class;Pn&&(oe.class="object"!=typeof Pn?Pn:Object.keys(Pn).filter(qn=>Pn[qn]).join(" "))}}if("function"==typeof K)return K(null===oe?{}:oe,qt,Er);const An=Nn(K,null);return An.$attrs$=oe,qt.length>0&&(An.$children$=qt),An.$key$=et,An.$name$=qe,An},Nn=(K,oe)=>({$flags$:0,$tag$:K,$text$:oe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Bn={},Er={forEach:(K,oe)=>K.map(lr).forEach(oe),map:(K,oe)=>K.map(lr).map(oe).map(gr)},lr=K=>({vattrs:K.$attrs$,vchildren:K.$children$,vkey:K.$key$,vname:K.$name$,vtag:K.$tag$,vtext:K.$text$}),gr=K=>{if("function"==typeof K.vtag){const we={...K.vattrs};return K.vkey&&(we.key=K.vkey),K.vname&&(we.name=K.vname),fr(K.vtag,we,...K.vchildren||[])}const oe=Nn(K.vtag,K.vtext);return oe.$attrs$=K.vattrs,oe.$children$=K.vchildren,oe.$key$=K.vkey,oe.$name$=K.vname,oe},Ti=(K,oe,we,Oe,et,qe,Qt)=>{let _t,qt,rn,An;if(1===qe.nodeType){if(_t=qe.getAttribute("c-id"),_t&&(qt=_t.split("."),(qt[0]===Qt||"0"===qt[0])&&(rn={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:qe.tagName.toLowerCase(),$elm$:qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},oe.push(rn),qe.removeAttribute("c-id"),K.$children$||(K.$children$=[]),K.$children$[rn.$index$]=rn,K=rn,Oe&&"0"===rn.$depth$&&(Oe[rn.$index$]=rn.$elm$))),qe.shadowRoot)for(An=qe.shadowRoot.childNodes.length-1;An>=0;An--)Ti(K,oe,we,Oe,et,qe.shadowRoot.childNodes[An],Qt);for(An=qe.childNodes.length-1;An>=0;An--)Ti(K,oe,we,Oe,et,qe.childNodes[An],Qt)}else if(8===qe.nodeType)qt=qe.nodeValue.split("."),(qt[1]===Qt||"0"===qt[1])&&(_t=qt[0],rn={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_t?(rn.$elm$=qe.nextSibling,rn.$elm$&&3===rn.$elm$.nodeType&&(rn.$text$=rn.$elm$.textContent,oe.push(rn),qe.remove(),K.$children$||(K.$children$=[]),K.$children$[rn.$index$]=rn,Oe&&"0"===rn.$depth$&&(Oe[rn.$index$]=rn.$elm$))):rn.$hostId$===Qt&&("s"===_t?(rn.$tag$="slot",qe["s-sn"]=qt[5]?rn.$name$=qt[5]:"",qe["s-sr"]=!0,Oe&&(rn.$elm$=Se.createElement(rn.$tag$),rn.$name$&&rn.$elm$.setAttribute("name",rn.$name$),qe.parentNode.insertBefore(rn.$elm$,qe),qe.remove(),"0"===rn.$depth$&&(Oe[rn.$index$]=rn.$elm$)),we.push(rn),K.$children$||(K.$children$=[]),K.$children$[rn.$index$]=rn):"r"===_t&&(Oe?qe.remove():(et["s-cr"]=qe,qe["s-cn"]=!0))));else if(K&&"style"===K.$tag$){const Pn=Nn(null,qe.textContent);Pn.$elm$=qe,Pn.$index$="0",K.$children$=[Pn]}},mr=(K,oe)=>{if(1===K.nodeType){let we=0;if(K.shadowRoot)for(;we<K.shadowRoot.childNodes.length;we++)mr(K.shadowRoot.childNodes[we],oe);for(we=0;we<K.childNodes.length;we++)mr(K.childNodes[we],oe)}else if(8===K.nodeType){const we=K.nodeValue.split(".");"o"===we[0]&&(oe.set(we[1]+"."+we[2],K),K.nodeValue="",K["s-en"]=we[3])}},sr=K=>at.push(K),Mi=K=>Ne(K).$modeName$,$i=K=>Ne(K).$hostElement$,ai=(K,oe,we)=>{const Oe=$i(K);return{emit:et=>ur(Oe,oe,{bubbles:!!(4&we),composed:!!(2&we),cancelable:!!(1&we),detail:et})}},ur=(K,oe,we)=>{const Oe=Xt.ce(oe,we);return K.dispatchEvent(Oe),Oe},Pi=new WeakMap,Rt=(K,oe,we)=>{var Oe;const et=kt(oe,we),qe=lt.get(et);if(K=11===K.nodeType?K:Se,qe)if("string"==typeof qe){let _t,Qt=Pi.get(K=K.head||K);if(Qt||Pi.set(K,Qt=new Set),!Qt.has(et)){if(K.host&&(_t=K.querySelector(`[sty-id="${et}"]`)))_t.innerHTML=qe;else{_t=Se.createElement("style"),_t.innerHTML=qe;const qt=null!=(Oe=Xt.$nonce$)?Oe:Gn(Se);null!=qt&&_t.setAttribute("nonce",qt),(!(1&oe.$flags$)||1&oe.$flags$&&"HEAD"!==K.nodeName)&&K.insertBefore(_t,K.querySelector("link"))}4&oe.$flags$&&(_t.innerHTML+=Xe),Qt&&Qt.add(et)}}else K.adoptedStyleSheets.includes(qe)||(K.adoptedStyleSheets=[...K.adoptedStyleSheets,qe]);return et},kt=(K,oe)=>"sc-"+(oe&&32&K.$flags$?K.$tagName$+"-"+oe:K.$tagName$),Qe=(K,oe,we,Oe,et,qe)=>{if(we!==Oe){let Qt=ce(K,oe),_t=oe.toLowerCase();if("class"===oe){const qt=K.classList,rn=sn(we),An=sn(Oe);qt.remove(...rn.filter(Pn=>Pn&&!An.includes(Pn))),qt.add(...An.filter(Pn=>Pn&&!rn.includes(Pn)))}else if("style"===oe){for(const qt in we)(!Oe||null==Oe[qt])&&(qt.includes("-")?K.style.removeProperty(qt):K.style[qt]="");for(const qt in Oe)(!we||Oe[qt]!==we[qt])&&(qt.includes("-")?K.style.setProperty(qt,Oe[qt]):K.style[qt]=Oe[qt])}else if("key"!==oe)if("ref"===oe)Oe&&Oe(K);else if(Qt||"o"!==oe[0]||"n"!==oe[1]){const qt=Fr(Oe);if((Qt||qt&&null!==Oe)&&!et)try{if(K.tagName.includes("-"))K[oe]=Oe;else{const An=null==Oe?"":Oe;"list"===oe?Qt=!1:(null==we||K[oe]!=An)&&(K[oe]=An)}}catch{}let rn=!1;_t!==(_t=_t.replace(/^xlink\:?/,""))&&(oe=_t,rn=!0),null==Oe||!1===Oe?(!1!==Oe||""===K.getAttribute(oe))&&(rn?K.removeAttributeNS(Ct,oe):K.removeAttribute(oe)):(!Qt||4&qe||et)&&!qt&&(Oe=!0===Oe?"":Oe,rn?K.setAttributeNS(Ct,oe,Oe):K.setAttribute(oe,Oe))}else if(oe="-"===oe[2]?oe.slice(3):ce(wt,_t)?_t.slice(2):_t[2]+oe.slice(3),we||Oe){const qt=oe.endsWith(ve);oe=oe.replace(Te,""),we&&Xt.rel(K,oe,we,qt),Oe&&Xt.ael(K,oe,Oe,qt)}}},Je=/\s/,sn=K=>K?K.split(Je):[],ve="Capture",Te=new RegExp(ve+"$"),Ve=(K,oe,we)=>{const Oe=11===oe.$elm$.nodeType&&oe.$elm$.host?oe.$elm$.host:oe.$elm$,et=K&&K.$attrs$||Hn,qe=oe.$attrs$||Hn;for(const Qt of Ot(Object.keys(et)))Qt in qe||Qe(Oe,Qt,et[Qt],void 0,we,oe.$flags$);for(const Qt of Ot(Object.keys(qe)))Qe(Oe,Qt,et[Qt],qe[Qt],we,oe.$flags$)};function Ot(K){return K.includes("ref")?[...K.filter(oe=>"ref"!==oe),"ref"]:K}var Ye,Cn,Fn,Bt=!1,yr=!1,cr=!1,Vr=!1,Jt=(K,oe,we,Oe)=>{var et;const qe=oe.$children$[we];let _t,qt,rn,Qt=0;if(Bt||(cr=!0,"slot"===qe.$tag$&&(Ye&&Oe.classList.add(Ye+"-s"),qe.$flags$|=qe.$children$?2:1)),null!==qe.$text$)_t=qe.$elm$=Se.createTextNode(qe.$text$);else if(1&qe.$flags$)_t=qe.$elm$=Se.createTextNode("");else{if(Vr||(Vr="svg"===qe.$tag$),_t=qe.$elm$=Se.createElementNS(Vr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Bt&&2&qe.$flags$?"slot-fb":qe.$tag$),Vr&&"foreignObject"===qe.$tag$&&(Vr=!1),Ve(null,qe,Vr),!!_t.getRootNode().querySelector("body")&&(K=>null!=K)(Ye)&&_t["s-si"]!==Ye&&_t.classList.add(_t["s-si"]=Ye),Xn(_t,Oe),qe.$children$)for(Qt=0;Qt<qe.$children$.length;++Qt)qt=Jt(K,qe,Qt,_t),qt&&_t.appendChild(qt);"svg"===qe.$tag$?Vr=!1:"foreignObject"===_t.tagName&&(Vr=!0)}return _t["s-hn"]=Fn,3&qe.$flags$&&(_t["s-sr"]=!0,_t["s-cr"]=Cn,_t["s-sn"]=qe.$name$||"",_t["s-rf"]=null==(et=qe.$attrs$)?void 0:et.ref,rn=K&&K.$children$&&K.$children$[we],rn&&rn.$tag$===qe.$tag$&&K.$elm$&&Tn(K.$elm$)),_t},Tn=K=>{Xt.$flags$|=1;const oe=K.closest(Fn.toLowerCase());if(null!=oe){const we=Array.from(oe.childNodes).find(et=>et["s-cr"]),Oe=Array.from(K.childNodes);for(const et of we?Oe.reverse():Oe)null!=et["s-sh"]&&(Yt(oe,et,null!=we?we:null),et["s-sh"]=void 0,cr=!0)}Xt.$flags$&=-2},gi=(K,oe)=>{Xt.$flags$|=1;const we=Array.from(K.childNodes);if(K["s-sr"]){let Oe=K;for(;Oe=Oe.nextSibling;)Oe&&Oe["s-sn"]===K["s-sn"]&&Oe["s-sh"]===Fn&&we.push(Oe)}for(let Oe=we.length-1;Oe>=0;Oe--){const et=we[Oe];et["s-hn"]!==Fn&&et["s-ol"]&&(Yt(to(et),et,Vi(et)),et["s-ol"].remove(),et["s-ol"]=void 0,et["s-sh"]=void 0,cr=!0),oe&&gi(et,oe)}Xt.$flags$&=-2},Lt=(K,oe,we,Oe,et,qe)=>{let _t,Qt=K["s-cr"]&&K["s-cr"].parentNode||K;for(Qt.shadowRoot&&Qt.tagName===Fn&&(Qt=Qt.shadowRoot);et<=qe;++et)Oe[et]&&(_t=Jt(null,we,et,K),_t&&(Oe[et].$elm$=_t,Yt(Qt,_t,Vi(oe))))},Mt=(K,oe,we)=>{for(let Oe=oe;Oe<=we;++Oe){const et=K[Oe];if(et){const qe=et.$elm$;ct(et),qe&&(yr=!0,qe["s-ol"]?qe["s-ol"].remove():gi(qe,!0),qe.remove())}}},Ur=(K,oe,we=!1)=>!(K.$tag$!==oe.$tag$||("slot"===K.$tag$?"$nodeId$"in K&&we&&8!==K.$elm$.nodeType||K.$name$!==oe.$name$:!we&&K.$key$!==oe.$key$)),Vi=K=>K&&K["s-ol"]||K,to=K=>(K["s-ol"]?K["s-ol"]:K).parentNode,Pr=(K,oe,we=!1)=>{const Oe=oe.$elm$=K.$elm$,et=K.$children$,qe=oe.$children$,Qt=oe.$tag$,_t=oe.$text$;let qt;null===_t?(Vr="svg"===Qt||"foreignObject"!==Qt&&Vr,"slot"!==Qt||Bt?Ve(K,oe,Vr):K.$name$!==oe.$name$&&(oe.$elm$["s-sn"]=oe.$name$||"",Tn(oe.$elm$.parentElement)),null!==et&&null!==qe?((K,oe,we,Oe,et=!1)=>{let ci,Di,qe=0,Qt=0,_t=0,qt=0,rn=oe.length-1,An=oe[0],Pn=oe[rn],qn=Oe.length-1,Wn=Oe[0],Zr=Oe[qn];for(;qe<=rn&&Qt<=qn;)if(null==An)An=oe[++qe];else if(null==Pn)Pn=oe[--rn];else if(null==Wn)Wn=Oe[++Qt];else if(null==Zr)Zr=Oe[--qn];else if(Ur(An,Wn,et))Pr(An,Wn,et),An=oe[++qe],Wn=Oe[++Qt];else if(Ur(Pn,Zr,et))Pr(Pn,Zr,et),Pn=oe[--rn],Zr=Oe[--qn];else if(Ur(An,Zr,et))("slot"===An.$tag$||"slot"===Zr.$tag$)&&gi(An.$elm$.parentNode,!1),Pr(An,Zr,et),Yt(K,An.$elm$,Pn.$elm$.nextSibling),An=oe[++qe],Zr=Oe[--qn];else if(Ur(Pn,Wn,et))("slot"===An.$tag$||"slot"===Zr.$tag$)&&gi(Pn.$elm$.parentNode,!1),Pr(Pn,Wn,et),Yt(K,Pn.$elm$,An.$elm$),Pn=oe[--rn],Wn=Oe[++Qt];else{for(_t=-1,qt=qe;qt<=rn;++qt)if(oe[qt]&&null!==oe[qt].$key$&&oe[qt].$key$===Wn.$key$){_t=qt;break}_t>=0?(Di=oe[_t],Di.$tag$!==Wn.$tag$?ci=Jt(oe&&oe[Qt],we,_t,K):(Pr(Di,Wn,et),oe[_t]=void 0,ci=Di.$elm$),Wn=Oe[++Qt]):(ci=Jt(oe&&oe[Qt],we,Qt,K),Wn=Oe[++Qt]),ci&&Yt(to(An.$elm$),ci,Vi(An.$elm$))}qe>rn?Lt(K,null==Oe[qn+1]?null:Oe[qn+1].$elm$,we,Oe,Qt,qn):Qt>qn&&Mt(oe,qe,rn)})(Oe,et,oe,qe,we):null!==qe?(null!==K.$text$&&(Oe.textContent=""),Lt(Oe,null,oe,qe,0,qe.length-1)):!we&&null!==et&&Mt(et,0,et.length-1),Vr&&"svg"===Qt&&(Vr=!1)):(qt=Oe["s-cr"])?qt.parentNode.textContent=_t:K.$text$!==_t&&(Oe.data=_t)},Pt=K=>{const oe=K.childNodes;for(const we of oe)if(1===we.nodeType){if(we["s-sr"]){const Oe=we["s-sn"];we.hidden=!1;for(const et of oe)if(et!==we)if(et["s-hn"]!==we["s-hn"]||""!==Oe){if(1===et.nodeType&&(Oe===et.getAttribute("slot")||Oe===et["s-sn"])||3===et.nodeType&&Oe===et["s-sn"]){we.hidden=!0;break}}else if(1===et.nodeType||3===et.nodeType&&""!==et.textContent.trim()){we.hidden=!0;break}}Pt(we)}},it=[],Ht=K=>{let oe,we,Oe;for(const et of K.childNodes){if(et["s-sr"]&&(oe=et["s-cr"])&&oe.parentNode){we=oe.parentNode.childNodes;const qe=et["s-sn"];for(Oe=we.length-1;Oe>=0;Oe--)if(oe=we[Oe],!(oe["s-cn"]||oe["s-nr"]||oe["s-hn"]===et["s-hn"]||oe["s-sh"]&&oe["s-sh"]===et["s-hn"]))if(Sn(oe,qe)){let Qt=it.find(_t=>_t.$nodeToRelocate$===oe);yr=!0,oe["s-sn"]=oe["s-sn"]||qe,Qt?(Qt.$nodeToRelocate$["s-sh"]=et["s-hn"],Qt.$slotRefNode$=et):(oe["s-sh"]=et["s-hn"],it.push({$slotRefNode$:et,$nodeToRelocate$:oe})),oe["s-sr"]&&it.map(_t=>{Sn(_t.$nodeToRelocate$,oe["s-sn"])&&(Qt=it.find(qt=>qt.$nodeToRelocate$===oe),Qt&&!_t.$slotRefNode$&&(_t.$slotRefNode$=Qt.$slotRefNode$))})}else it.some(Qt=>Qt.$nodeToRelocate$===oe)||it.push({$nodeToRelocate$:oe})}1===et.nodeType&&Ht(et)}},Sn=(K,oe)=>1===K.nodeType?null===K.getAttribute("slot")&&""===oe||K.getAttribute("slot")===oe:K["s-sn"]===oe||""===oe,ct=K=>{K.$attrs$&&K.$attrs$.ref&&K.$attrs$.ref(null),K.$children$&&K.$children$.map(ct)},Yt=(K,oe,we)=>{const Oe=null==K?void 0:K.insertBefore(oe,we);return Xn(oe,K),Oe},bn=K=>{const oe=[];return K&&oe.push(...K["s-scs"]||[],K["s-si"],K["s-sc"],...bn(K.parentElement)),oe},Xn=(K,oe,we=!1)=>{var Oe;if(K&&oe&&1===K.nodeType){const et=new Set(bn(oe).filter(Boolean));if(et.size&&(null==(Oe=K.classList)||Oe.add(...K["s-scs"]=[...et]),K["s-ol"]||we))for(const qe of Array.from(K.childNodes))Xn(qe,K,!0)}},Xr=(K,oe)=>{oe&&!K.$onRenderResolve$&&oe["s-p"]&&oe["s-p"].push(new Promise(we=>K.$onRenderResolve$=we))},Ir=(K,oe)=>{if(K.$flags$|=16,!(4&K.$flags$))return Xr(K,K.$ancestorComponent$),_n(()=>Ln(K,oe));K.$flags$|=512},Ln=(K,oe)=>{const et=K.$lazyInstance$;if(!et)throw new Error(`Can't render component <${K.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let qe;return oe&&(K.$flags$|=256,K.$queuedListeners$&&(K.$queuedListeners$.map(([Qt,_t])=>mi(et,Qt,_t)),K.$queuedListeners$=void 0),qe=mi(et,"componentWillLoad")),qe=On(qe,()=>mi(et,"componentWillRender")),On(qe,()=>vr(K,et,oe))},On=(K,oe)=>Ar(K)?K.then(oe).catch(we=>{console.error(we),oe()}):oe(),Ar=K=>K instanceof Promise||K&&K.then&&"function"==typeof K.then,vr=function(){var K=(0,c.A)(function*(oe,we,Oe){var et;const qe=oe.$hostElement$,_t=qe["s-rc"];Oe&&(K=>{const oe=K.$cmpMeta$,we=K.$hostElement$,Oe=oe.$flags$,qe=Rt(we.shadowRoot?we.shadowRoot:we.getRootNode(),oe,K.$modeName$);10&Oe&&2&Oe&&(we["s-sc"]=qe,we.classList.add(qe+"-h"),2&Oe&&we.classList.add(qe+"-s"))})(oe);ds(oe,we,qe,Oe),_t&&(_t.map(rn=>rn()),qe["s-rc"]=void 0);{const rn=null!=(et=qe["s-p"])?et:[],An=()=>Qr(oe);0===rn.length?An():(Promise.all(rn).then(An),oe.$flags$|=4,rn.length=0)}});return function(we,Oe,et){return K.apply(this,arguments)}}(),ds=(K,oe,we,Oe)=>{try{oe=oe.render&&oe.render(),K.$flags$&=-17,K.$flags$|=2,((K,oe,we=!1)=>{var Oe,et,qe,Qt,_t;const qt=K.$hostElement$,rn=K.$cmpMeta$,An=K.$vnode$||Nn(null,null),Pn=(K=>K&&K.$tag$===Bn)(oe)?oe:fr(null,null,oe);if(Fn=qt.tagName,rn.$attrsToReflect$&&(Pn.$attrs$=Pn.$attrs$||{},rn.$attrsToReflect$.map(([qn,Wn])=>Pn.$attrs$[Wn]=qt[qn])),we&&Pn.$attrs$)for(const qn of Object.keys(Pn.$attrs$))qt.hasAttribute(qn)&&!["key","ref","style","class"].includes(qn)&&(Pn.$attrs$[qn]=qt[qn]);if(Pn.$tag$=null,Pn.$flags$|=4,K.$vnode$=Pn,Pn.$elm$=An.$elm$=qt.shadowRoot||qt,Ye=qt["s-sc"],Bt=!!(1&rn.$flags$),Cn=qt["s-cr"],yr=!1,Pr(An,Pn,we),Xt.$flags$|=1,cr){Ht(Pn.$elm$);for(const qn of it){const Wn=qn.$nodeToRelocate$;if(!Wn["s-ol"]){const Zr=Se.createTextNode("");Zr["s-nr"]=Wn,Yt(Wn.parentNode,Wn["s-ol"]=Zr,Wn)}}for(const qn of it){const Wn=qn.$nodeToRelocate$,Zr=qn.$slotRefNode$;if(Zr){const ci=Zr.parentNode;let Di=Zr.nextSibling;if(Di&&1===Di.nodeType){let ri=null==(Oe=Wn["s-ol"])?void 0:Oe.previousSibling;for(;ri;){let wi=null!=(et=ri["s-nr"])?et:null;if(wi&&wi["s-sn"]===Wn["s-sn"]&&ci===wi.parentNode){for(wi=wi.nextSibling;wi===Wn||null!=wi&&wi["s-sr"];)wi=null==wi?void 0:wi.nextSibling;if(!wi||!wi["s-nr"]){Di=wi;break}}ri=ri.previousSibling}}(!Di&&ci!==Wn.parentNode||Wn.nextSibling!==Di)&&Wn!==Di&&(Yt(ci,Wn,Di),1===Wn.nodeType&&(Wn.hidden=null!=(qe=Wn["s-ih"])&&qe)),Wn&&"function"==typeof Zr["s-rf"]&&Zr["s-rf"](Wn)}else 1===Wn.nodeType&&(we&&(Wn["s-ih"]=null!=(Qt=Wn.hidden)&&Qt),Wn.hidden=!0)}}if(yr&&Pt(Pn.$elm$),Xt.$flags$&=-2,it.length=0,2&rn.$flags$)for(const qn of Pn.$elm$.childNodes)qn["s-hn"]!==Fn&&!qn["s-sh"]&&(we&&null==qn["s-ih"]&&(qn["s-ih"]=null!=(_t=qn.hidden)&&_t),qn.hidden=!0);Cn=void 0})(K,oe,Oe)}catch(et){Re(et,K.$hostElement$)}return null},Qr=K=>{const we=K.$hostElement$,et=K.$lazyInstance$,qe=K.$ancestorComponent$;mi(et,"componentDidRender"),64&K.$flags$?mi(et,"componentDidUpdate"):(K.$flags$|=64,Xi(we),mi(et,"componentDidLoad"),K.$onReadyResolve$(we),qe||bo()),K.$onInstanceResolve$(we),K.$onRenderResolve$&&(K.$onRenderResolve$(),K.$onRenderResolve$=void 0),512&K.$flags$&&Ze(()=>Ir(K,!1)),K.$flags$&=-517},vn=K=>{{const oe=Ne(K),we=oe.$hostElement$.isConnected;return we&&2==(18&oe.$flags$)&&Ir(oe,!1),we}},bo=K=>{Xi(Se.documentElement),Ze(()=>ur(wt,"appload",{detail:{namespace:"ionic"}}))},mi=(K,oe,we)=>{if(K&&K[oe])try{return K[oe](we)}catch(Oe){Re(Oe)}},Xi=K=>K.classList.add("hydrated"),go=(K,oe,we)=>{var Oe,et;const qe=K.prototype;if(oe.$members$||oe.$watchers$||K.watchers){K.watchers&&!oe.$watchers$&&(oe.$watchers$=K.watchers);const Qt=Object.entries(null!=(Oe=oe.$members$)?Oe:{});if(Qt.map(([_t,[qt]])=>{31&qt||2&we&&32&qt?Object.defineProperty(qe,_t,{get(){return((K,oe)=>Ne(this).$instanceValues$.get(oe))(0,_t)},set(rn){((K,oe,we,Oe)=>{const et=Ne(K);if(!et)throw new Error(`Couldn't find host element for "${Oe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const qe=et.$hostElement$,Qt=et.$instanceValues$.get(oe),_t=et.$flags$,qt=et.$lazyInstance$;we=((K,oe)=>null==K||Fr(K)?K:4&oe?"false"!==K&&(""===K||!!K):2&oe?parseFloat(K):1&oe?String(K):K)(we,Oe.$members$[oe][0]);const rn=Number.isNaN(Qt)&&Number.isNaN(we);if((!(8&_t)||void 0===Qt)&&we!==Qt&&!rn&&(et.$instanceValues$.set(oe,we),qt)){if(Oe.$watchers$&&128&_t){const Pn=Oe.$watchers$[oe];Pn&&Pn.map(qn=>{try{qt[qn](we,Qt,oe)}catch(Wn){Re(Wn,qe)}})}2==(18&_t)&&Ir(et,!1)}})(this,_t,rn,oe)},configurable:!0,enumerable:!0}):1&we&&64&qt&&Object.defineProperty(qe,_t,{value(...rn){var An;const Pn=Ne(this);return null==(An=null==Pn?void 0:Pn.$onInstancePromise$)?void 0:An.then(()=>{var qn;return null==(qn=Pn.$lazyInstance$)?void 0:qn[_t](...rn)})}})}),1&we){const _t=new Map;qe.attributeChangedCallback=function(qt,rn,An){Xt.jmp(()=>{var Pn;const qn=_t.get(qt);if(this.hasOwnProperty(qn))An=this[qn],delete this[qn];else{if(qe.hasOwnProperty(qn)&&"number"==typeof this[qn]&&this[qn]==An)return;if(null==qn){const Wn=Ne(this),Zr=null==Wn?void 0:Wn.$flags$;if(Zr&&!(8&Zr)&&128&Zr&&An!==rn){const ci=Wn.$lazyInstance$,Di=null==(Pn=oe.$watchers$)?void 0:Pn[qt];null==Di||Di.forEach(ri=>{null!=ci[ri]&&ci[ri].call(ci,An,rn,qt)})}return}}this[qn]=(null!==An||"boolean"!=typeof this[qn])&&An})},K.observedAttributes=Array.from(new Set([...Object.keys(null!=(et=oe.$watchers$)?et:{}),...Qt.filter(([qt,rn])=>15&rn[0]).map(([qt,rn])=>{var An;const Pn=rn[1]||qt;return _t.set(Pn,qt),512&rn[0]&&(null==(An=oe.$attrsToReflect$)||An.push([qt,Pn])),Pn})]))}}return K},Do=function(){var K=(0,c.A)(function*(oe,we,Oe,et){let qe;if(!(32&we.$flags$)){if(we.$flags$|=32,Oe.$lazyBundleId$){const rn=(K=>{const Oe=K.$tagName$.replace(/-/g,"_"),et=K.$lazyBundleId$;if(!et)return;const qe=Ue.get(et);return qe?qe[Oe]:j(8996)(`./${et}.entry.js`).then(Qt=>(Ue.set(et,Qt),Qt[Oe]),Re)})(Oe);if(rn&&"then"in rn){const Pn=()=>{};qe=yield rn,Pn()}else qe=rn;if(!qe)throw new Error(`Constructor for "${Oe.$tagName$}#${we.$modeName$}" was not found`);qe.isProxied||(Oe.$watchers$=qe.watchers,go(qe,Oe,2),qe.isProxied=!0);const An=()=>{};we.$flags$|=8;try{new qe(we)}catch(Pn){Re(Pn)}we.$flags$&=-9,we.$flags$|=128,An(),ns(we.$lazyInstance$)}else qe=oe.constructor,customElements.whenDefined(oe.localName).then(()=>we.$flags$|=128);if(qe&&qe.style){let rn;"string"==typeof qe.style?rn=qe.style:"string"!=typeof qe.style&&(we.$modeName$=(K=>at.map(oe=>oe(K)).find(oe=>!!oe))(oe),we.$modeName$&&(rn=qe.style[we.$modeName$]));const An=kt(Oe,we.$modeName$);if(!lt.has(An)){const Pn=()=>{};((K,oe,we)=>{let Oe=lt.get(K);_e&&we?(Oe=Oe||new CSSStyleSheet,"string"==typeof Oe?Oe=oe:Oe.replaceSync(oe)):Oe=oe,lt.set(K,Oe)})(An,rn,!!(1&Oe.$flags$)),Pn()}}}const Qt=we.$ancestorComponent$,_t=()=>Ir(we,!0);Qt&&Qt["s-rc"]?Qt["s-rc"].push(_t):_t()});return function(we,Oe,et,qe){return K.apply(this,arguments)}}(),ns=K=>{mi(K,"connectedCallback")},yi=K=>{const oe=K["s-cr"]=Se.createComment("");oe["s-cn"]=!0,Yt(K,oe,K.firstChild)},xi=K=>{mi(K,"disconnectedCallback")},As=function(){var K=(0,c.A)(function*(oe){if(!(1&Xt.$flags$)){const we=Ne(oe);we.$rmListeners$&&(we.$rmListeners$.map(Oe=>Oe()),we.$rmListeners$=void 0),null!=we&&we.$lazyInstance$?xi(we.$lazyInstance$):null!=we&&we.$onReadyPromise$&&we.$onReadyPromise$.then(()=>xi(we.$lazyInstance$))}});return function(we){return K.apply(this,arguments)}}(),Tr=K=>{const oe=K.cloneNode;K.cloneNode=function(we){const Oe=this,et=Oe.shadowRoot&&true,qe=oe.call(Oe,!!et&&we);if(!et&&we){let _t,qt,Qt=0;const rn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Qt<Oe.childNodes.length;Qt++)_t=Oe.childNodes[Qt]["s-nr"],qt=rn.every(An=>!Oe.childNodes[Qt][An]),_t&&(qe.__appendChild?qe.__appendChild(_t.cloneNode(!0)):qe.appendChild(_t.cloneNode(!0))),qt&&qe.appendChild(Oe.childNodes[Qt].cloneNode(!0))}return qe}},Ko=K=>{K.__appendChild=K.appendChild,K.appendChild=function(oe){const we=oe["s-sn"]=hs(oe),Oe=Uo(this.childNodes,we,this.tagName);if(Oe){const et=Ps(Oe,we),qe=et[et.length-1],Qt=Yt(qe.parentNode,oe,qe.nextSibling);return Pt(this),Qt}return this.__appendChild(oe)}},yt=K=>{K.__removeChild=K.removeChild,K.removeChild=function(oe){if(oe&&typeof oe["s-sn"]<"u"){const we=Uo(this.childNodes,oe["s-sn"],this.tagName);if(we){const et=Ps(we,oe["s-sn"]).find(qe=>qe===oe);if(et)return et.remove(),void Pt(this)}}return this.__removeChild(oe)}},qo=K=>{const oe=K.prepend;K.prepend=function(...we){we.forEach(Oe=>{"string"==typeof Oe&&(Oe=this.ownerDocument.createTextNode(Oe));const et=Oe["s-sn"]=hs(Oe),qe=Uo(this.childNodes,et,this.tagName);if(qe){const Qt=document.createTextNode("");Qt["s-nr"]=Oe,qe["s-cr"].parentNode.__appendChild(Qt),Oe["s-ol"]=Qt;const qt=Ps(qe,et)[0];return Yt(qt.parentNode,Oe,qt.nextSibling)}return 1===Oe.nodeType&&Oe.getAttribute("slot")&&(Oe.hidden=!0),oe.call(this,Oe)})}},ji=K=>{K.append=function(...oe){oe.forEach(we=>{"string"==typeof we&&(we=this.ownerDocument.createTextNode(we)),this.appendChild(we)})}},ta=K=>{const oe=K.insertAdjacentHTML;K.insertAdjacentHTML=function(we,Oe){if("afterbegin"!==we&&"beforeend"!==we)return oe.call(this,we,Oe);const et=this.ownerDocument.createElement("_");let qe;if(et.innerHTML=Oe,"afterbegin"===we)for(;qe=et.firstChild;)this.prepend(qe);else if("beforeend"===we)for(;qe=et.firstChild;)this.append(qe)}},Cs=K=>{K.insertAdjacentText=function(oe,we){this.insertAdjacentHTML(oe,we)}},xr=K=>{const oe=K.insertAdjacentElement;K.insertAdjacentElement=function(we,Oe){return"afterbegin"!==we&&"beforeend"!==we?oe.call(this,we,Oe):"afterbegin"===we?(this.prepend(Oe),Oe):("beforeend"===we&&this.append(Oe),Oe)}},mo=K=>{const oe=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(K,"__textContent",oe),Object.defineProperty(K,"textContent",{get(){return" "+bi(this.childNodes).map(et=>{var qe,Qt;const _t=[];let qt=et.nextSibling;for(;qt&&qt["s-sn"]===et["s-sn"];)(3===qt.nodeType||1===qt.nodeType)&&_t.push(null!=(Qt=null==(qe=qt.textContent)?void 0:qe.trim())?Qt:""),qt=qt.nextSibling;return _t.filter(rn=>""!==rn).join(" ")}).filter(et=>""!==et).join(" ")+" "},set(we){bi(this.childNodes).forEach(et=>{let qe=et.nextSibling;for(;qe&&qe["s-sn"]===et["s-sn"];){const Qt=qe;qe=qe.nextSibling,Qt.remove()}if(""===et["s-sn"]){const Qt=this.ownerDocument.createTextNode(we);Qt["s-sn"]="",Yt(et.parentElement,Qt,et.nextSibling)}else et.remove()})}})},Ts=(K,oe)=>{class we extends Array{item(et){return this[et]}}if(8&oe.$flags$){const Oe=K.__lookupGetter__("childNodes");Object.defineProperty(K,"children",{get(){return this.childNodes.map(et=>1===et.nodeType)}}),Object.defineProperty(K,"childElementCount",{get:()=>K.children.length}),Object.defineProperty(K,"childNodes",{get(){const et=Oe.call(this);if(!(1&Xt.$flags$)&&2&Ne(this).$flags$){const qe=new we;for(let Qt=0;Qt<et.length;Qt++){const _t=et[Qt]["s-nr"];_t&&qe.push(_t)}return qe}return we.from(et)}})}},bi=K=>{const oe=[];for(const we of Array.from(K))we["s-sr"]&&oe.push(we),oe.push(...bi(we.childNodes));return oe},hs=K=>K["s-sn"]||1===K.nodeType&&K.getAttribute("slot")||"",Uo=(K,oe,we)=>{let et,Oe=0;for(;Oe<K.length;Oe++)if(et=K[Oe],et["s-sr"]&&et["s-sn"]===oe&&et["s-hn"]===we||(et=Uo(et.childNodes,oe,we),et))return et;return null},Ps=(K,oe)=>{const we=[K];for(;(K=K.nextSibling)&&K["s-sn"]===oe;)we.push(K);return we},Nr=(K,oe={})=>{var we;const et=[],qe=oe.exclude||[],Qt=wt.customElements,_t=Se.head,qt=_t.querySelector("meta[charset]"),rn=Se.createElement("style"),An=[];let Pn,qn=!0;Object.assign(Xt,oe),Xt.$resourcesUrl$=new URL(oe.resourcesUrl||"./",Se.baseURI).href,Xt.$flags$|=2;let Wn=!1;if(K.map(Zr=>{Zr[1].map(ci=>{var Di;const ri={$flags$:ci[0],$tagName$:ci[1],$members$:ci[2],$listeners$:ci[3]};4&ri.$flags$&&(Wn=!0),ri.$members$=ci[2],ri.$listeners$=ci[3],ri.$attrsToReflect$=[],ri.$watchers$=null!=(Di=ci[4])?Di:{};const wi=ri.$tagName$,lo=class extends HTMLElement{constructor(wo){if(super(wo),this.hasRegisteredEventListeners=!1,((K,oe)=>{const we={$flags$:0,$hostElement$:K,$cmpMeta$:oe,$instanceValues$:new Map};we.$onInstancePromise$=new Promise(Oe=>we.$onInstanceResolve$=Oe),we.$onReadyPromise$=new Promise(Oe=>we.$onReadyResolve$=Oe),K["s-p"]=[],K["s-rc"]=[],te.set(K,we)})(wo=this,ri),1&ri.$flags$)if(wo.shadowRoot){if("open"!==wo.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${ri.$tagName$}! Mode is set to ${wo.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else wo.attachShadow({mode:"open",delegatesFocus:!!(16&ri.$flags$)})}connectedCallback(){const wo=Ne(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,li(this,wo,ri.$listeners$)),Pn&&(clearTimeout(Pn),Pn=null),qn?An.push(this):Xt.jmp(()=>(K=>{if(!(1&Xt.$flags$)){const oe=Ne(K),we=oe.$cmpMeta$,Oe=()=>{};if(1&oe.$flags$)li(K,oe,we.$listeners$),null!=oe&&oe.$lazyInstance$?ns(oe.$lazyInstance$):null!=oe&&oe.$onReadyPromise$&&oe.$onReadyPromise$.then(()=>ns(oe.$lazyInstance$));else{let et;if(oe.$flags$|=1,et=K.getAttribute(dt),et){if(1&we.$flags$){const qe=Rt(K.shadowRoot,we,K.getAttribute("s-mode"));K.classList.remove(qe+"-h",qe+"-s")}((K,oe,we,Oe)=>{const qe=K.shadowRoot,Qt=[],qt=qe?[]:null,rn=Oe.$vnode$=Nn(oe,null);Xt.$orgLocNodes$||mr(Se.body,Xt.$orgLocNodes$=new Map),K[dt]=we,K.removeAttribute(dt),Ti(rn,Qt,[],qt,K,K,we),Qt.map(An=>{const Pn=An.$hostId$+"."+An.$nodeId$,qn=Xt.$orgLocNodes$.get(Pn),Wn=An.$elm$;qn&&""===qn["s-en"]&&qn.parentNode.insertBefore(Wn,qn.nextSibling),qe||(Wn["s-hn"]=oe,qn&&(Wn["s-ol"]=qn,Wn["s-ol"]["s-nr"]=Wn)),Xt.$orgLocNodes$.delete(Pn)}),qe&&qt.map(An=>{An&&qe.appendChild(An)})})(K,we.$tagName$,et,oe)}et||12&we.$flags$&&yi(K);{let qe=K;for(;qe=qe.parentNode||qe.host;)if(1===qe.nodeType&&qe.hasAttribute("s-id")&&qe["s-p"]||qe["s-p"]){Xr(oe,oe.$ancestorComponent$=qe);break}}we.$members$&&Object.entries(we.$members$).map(([qe,[Qt]])=>{if(31&Qt&&K.hasOwnProperty(qe)){const _t=K[qe];delete K[qe],K[qe]=_t}}),Do(K,oe,we)}Oe()}})(this))}disconnectedCallback(){Xt.jmp(()=>As(this))}componentOnReady(){return Ne(this).$onReadyPromise$}};2&ri.$flags$&&((K,oe)=>{Tr(K),Ko(K),ji(K),qo(K),xr(K),ta(K),Cs(K),mo(K),Ts(K,oe),yt(K)})(lo.prototype,ri),ri.$lazyBundleId$=Zr[0],!qe.includes(wi)&&!Qt.get(wi)&&(et.push(wi),Qt.define(wi,go(lo,ri,1)))})}),et.length>0&&(Wn&&(rn.textContent+=Xe),rn.textContent+=et.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",rn.innerHTML.length)){rn.setAttribute("data-styles","");const Zr=null!=(we=Xt.$nonce$)?we:Gn(Se);null!=Zr&&rn.setAttribute("nonce",Zr),_t.insertBefore(rn,qt?qt.nextSibling:_t.firstChild)}qn=!1,An.length?An.map(Zr=>Zr.connectedCallback()):Xt.jmp(()=>Pn=setTimeout(bo,30))},li=(K,oe,we,Oe)=>{we&&we.map(([et,qe,Qt])=>{const _t=xo(K,et),qt=yn(oe,Qt),rn=fs(et);Xt.ael(_t,qe,qt,rn),(oe.$rmListeners$=oe.$rmListeners$||[]).push(()=>Xt.rel(_t,qe,qt,rn))})},yn=(K,oe)=>we=>{var Oe;try{256&K.$flags$?null==(Oe=K.$lazyInstance$)||Oe[oe](we):(K.$queuedListeners$=K.$queuedListeners$||[]).push([oe,we])}catch(et){Re(et)}},xo=(K,oe)=>4&oe?Se:8&oe?wt:16&oe?Se.body:K,fs=K=>Un?{passive:!!(1&K),capture:!!(2&K)}:!!(2&K)},8607:(Rn,ht,j)=>{"use strict";j.r(ht),j.d(ht,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ke});var c=j(1970);const f=(Ue,Le,lt,at)=>{const tt=xe(Ue)?{capture:!!at.capture,passive:!!at.passive}:!!at.capture;let rt,pt;return Ue.__zone_symbol__addEventListener?(rt="__zone_symbol__addEventListener",pt="__zone_symbol__removeEventListener"):(rt="addEventListener",pt="removeEventListener"),Ue[rt](Le,lt,tt),()=>{Ue[pt](Le,lt,tt)}},xe=Ue=>{if(void 0===H)try{const Le=Object.defineProperty({},"passive",{get:()=>{H=!0}});Ue.addEventListener("optsTest",()=>{},Le)}catch{H=!1}return!!H};let H;const te=Ue=>Ue instanceof Document?Ue:Ue.ownerDocument,Ke=Ue=>{let Le=!1,lt=!1,at=!0,tt=!1;const rt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ue),pt=rt.canStart,ut=rt.onWillStart,dt=rt.onStart,ge=rt.onEnd,Ce=rt.notCaptured,He=rt.onMove,Xe=rt.threshold,Ct=rt.passive,wt=rt.blurOnStart,Se={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Wt=((Ue,Le,lt)=>{const at=lt*(Math.PI/180),tt="x"===Ue,rt=Math.cos(at),pt=Le*Le;let ut=0,dt=0,ge=!1,Ce=0;return{start(He,Xe){ut=He,dt=Xe,Ce=0,ge=!0},detect(He,Xe){if(!ge)return!1;const Ct=He-ut,wt=Xe-dt,Se=Ct*Ct+wt*wt;if(Se<pt)return!1;const Wt=Math.sqrt(Se),Xt=(tt?Ct:wt)/Wt;return Ce=Xt>rt?1:Xt<-rt?-1:0,ge=!1,!0},isGesture:()=>0!==Ce,getDirection:()=>Ce}})(rt.direction,rt.threshold,rt.maxAngle),Xt=c.G.createGesture({name:Ue.gestureName,priority:Ue.gesturePriority,disableScroll:Ue.disableScroll}),Un=()=>{Le&&(tt=!1,He&&He(Se))},Ut=()=>!!Xt.capture()&&(Le=!0,at=!1,Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime,ut?ut(Se).then(ye):ye(),!0),ye=()=>{wt&&(()=>{if(typeof document<"u"){const Fe=document.activeElement;null!=Fe&&Fe.blur&&Fe.blur()}})(),dt&&dt(Se),at=!0},me=()=>{Le=!1,lt=!1,tt=!1,at=!0,Xt.release()},J=Fe=>{const Ze=Le,mt=at;if(me(),mt){if(Ae(Se,Fe),Ze)return void(ge&&ge(Se));Ce&&Ce(Se)}},Ee=((Ue,Le,lt,at,tt)=>{let rt,pt,ut,dt,ge,Ce,He,Xe=0;const Ct=_e=>{Xe=Date.now()+2e3,Le(_e)&&(!pt&&lt&&(pt=f(Ue,"touchmove",lt,tt)),ut||(ut=f(_e.target,"touchend",Se,tt)),dt||(dt=f(_e.target,"touchcancel",Se,tt)))},wt=_e=>{Xe>Date.now()||Le(_e)&&(!Ce&&lt&&(Ce=f(te(Ue),"mousemove",lt,tt)),He||(He=f(te(Ue),"mouseup",Wt,tt)))},Se=_e=>{Xt(),at&&at(_e)},Wt=_e=>{wn(),at&&at(_e)},Xt=()=>{pt&&pt(),ut&&ut(),dt&&dt(),pt=ut=dt=void 0},wn=()=>{Ce&&Ce(),He&&He(),Ce=He=void 0},un=()=>{Xt(),wn()},Un=(_e=!0)=>{_e?(rt||(rt=f(Ue,"touchstart",Ct,tt)),ge||(ge=f(Ue,"mousedown",wt,tt))):(rt&&rt(),ge&&ge(),rt=ge=void 0,un())};return{enable:Un,stop:un,destroy:()=>{Un(!1),at=lt=Le=void 0}}})(rt.el,Fe=>{const Ze=Re(Fe);return!(lt||!at||(ce(Fe,Se),Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime=Ze,Se.velocityX=Se.velocityY=Se.deltaX=Se.deltaY=0,Se.event=Fe,pt&&!1===pt(Se))||(Xt.release(),!Xt.start()))&&(lt=!0,0===Xe?Ut():(Wt.start(Se.startX,Se.startY),!0))},Fe=>{Le?!tt&&at&&(tt=!0,Ae(Se,Fe),requestAnimationFrame(Un)):(Ae(Se,Fe),Wt.detect(Se.currentX,Se.currentY)&&(!Wt.isGesture()||!Ut())&&ze())},J,{capture:!1,passive:Ct}),ze=()=>{me(),Ee.stop(),Ce&&Ce(Se)};return{enable(Fe=!0){Fe||(Le&&J(void 0),me()),Ee.enable(Fe)},destroy(){Xt.destroy(),Ee.destroy()}}},Ae=(Ue,Le)=>{if(!Le)return;const lt=Ue.currentX,at=Ue.currentY,tt=Ue.currentTime;ce(Le,Ue);const rt=Ue.currentX,pt=Ue.currentY,dt=(Ue.currentTime=Re(Le))-tt;if(dt>0&&dt<100){const Ce=(pt-at)/dt;Ue.velocityX=(rt-lt)/dt*.7+.3*Ue.velocityX,Ue.velocityY=.7*Ce+.3*Ue.velocityY}Ue.deltaX=rt-Ue.startX,Ue.deltaY=pt-Ue.startY,Ue.event=Le},ce=(Ue,Le)=>{let lt=0,at=0;if(Ue){const tt=Ue.changedTouches;if(tt&&tt.length>0){const rt=tt[0];lt=rt.clientX,at=rt.clientY}else void 0!==Ue.pageX&&(lt=Ue.pageX,at=Ue.pageY)}Le.currentX=lt,Le.currentY=at},Re=Ue=>Ue.timeStamp||Date.now()},3604:(Rn,ht,j)=>{"use strict";j.d(ht,{b:()=>Ne,c:()=>Ke,d:()=>Ae,e:()=>un,g:()=>_e,l:()=>Xt,s:()=>Un,t:()=>rt,w:()=>wn});var c=j(467),f=j(9483),xe=j(4261),H=j(4929),De=j(4920);const Ne="ionViewWillLeave",Ke="ionViewDidLeave",Ae="ionViewWillUnload",ce=ye=>{ye.tabIndex=-1,ye.focus()},Re=ye=>null!==ye.offsetParent,Le="ion-last-focus",tt_saveViewFocus=J=>{if(f.c.get("focusManagerPriority",!1)){const ze=document.activeElement;null!==ze&&null!=J&&J.contains(ze)&&ze.setAttribute(Le,"true")}},tt_setViewFocus=J=>{const Ee=f.c.get("focusManagerPriority",!1);if(Array.isArray(Ee)&&!J.contains(document.activeElement)){const ze=J.querySelector(`[${Le}]`);if(ze&&Re(ze))return void ce(ze);for(const Fe of Ee)switch(Fe){case"content":const Ze=J.querySelector('main, [role="main"]');if(Ze&&Re(Ze))return void ce(Ze);break;case"heading":const mt=J.querySelector('h1, [role="heading"][aria-level="1"]');if(mt&&Re(mt))return void ce(mt);break;case"banner":const _n=J.querySelector('header, [role="banner"]');if(_n&&Re(_n))return void ce(_n);break;default:(0,H.p)(`Unrecognized focus manager priority value ${Fe}`)}ce(J)}},rt=ye=>new Promise((me,J)=>{(0,xe.w)(()=>{pt(ye),ut(ye).then(Ee=>{Ee.animation&&Ee.animation.destroy(),dt(ye),me(Ee)},Ee=>{dt(ye),J(Ee)})})}),pt=ye=>{const me=ye.enteringEl,J=ye.leavingEl;tt_saveViewFocus(J),Ut(me,J,ye.direction),ye.showGoBack?me.classList.add("can-go-back"):me.classList.remove("can-go-back"),Un(me,!1),me.style.setProperty("pointer-events","none"),J&&(Un(J,!1),J.style.setProperty("pointer-events","none"))},ut=function(){var ye=(0,c.A)(function*(me){const J=yield ge(me);return J&&xe.B.isBrowser?Ce(J,me):He(me)});return function(J){return ye.apply(this,arguments)}}(),dt=ye=>{const me=ye.enteringEl,J=ye.leavingEl;me.classList.remove("ion-page-invisible"),me.style.removeProperty("pointer-events"),void 0!==J&&(J.classList.remove("ion-page-invisible"),J.style.removeProperty("pointer-events")),tt_setViewFocus(me)},ge=function(){var ye=(0,c.A)(function*(me){return me.leavingEl&&me.animated&&0!==me.duration?me.animationBuilder?me.animationBuilder:"ios"===me.mode?(yield Promise.resolve().then(j.bind(j,5022))).iosTransitionAnimation:(yield Promise.resolve().then(j.bind(j,3615))).mdTransitionAnimation:void 0});return function(J){return ye.apply(this,arguments)}}(),Ce=function(){var ye=(0,c.A)(function*(me,J){yield Xe(J,!0);const Ee=me(J.baseEl,J);Se(J.enteringEl,J.leavingEl);const ze=yield wt(Ee,J);return J.progressCallback&&J.progressCallback(void 0),ze&&Wt(J.enteringEl,J.leavingEl),{hasCompleted:ze,animation:Ee}});return function(J,Ee){return ye.apply(this,arguments)}}(),He=function(){var ye=(0,c.A)(function*(me){const J=me.enteringEl,Ee=me.leavingEl,ze=f.c.get("focusManagerPriority",!1);return yield Xe(me,ze),Se(J,Ee),Wt(J,Ee),{hasCompleted:!0}});return function(J){return ye.apply(this,arguments)}}(),Xe=function(){var ye=(0,c.A)(function*(me,J){(void 0!==me.deepWait?me.deepWait:J)&&(yield Promise.all([un(me.enteringEl),un(me.leavingEl)])),yield Ct(me.viewIsReady,me.enteringEl)});return function(J,Ee){return ye.apply(this,arguments)}}(),Ct=function(){var ye=(0,c.A)(function*(me,J){me&&(yield me(J))});return function(J,Ee){return ye.apply(this,arguments)}}(),wt=(ye,me)=>{const J=me.progressCallback,Ee=new Promise(ze=>{ye.onFinish(Fe=>ze(1===Fe))});return J?(ye.progressStart(!0),J(ye)):ye.play(),Ee},Se=(ye,me)=>{Xt(me,Ne),Xt(ye,"ionViewWillEnter")},Wt=(ye,me)=>{Xt(ye,"ionViewDidEnter"),Xt(me,Ke)},Xt=(ye,me)=>{if(ye){const J=new CustomEvent(me,{bubbles:!1,cancelable:!1});ye.dispatchEvent(J)}},wn=()=>new Promise(ye=>(0,De.r)(()=>(0,De.r)(()=>ye()))),un=function(){var ye=(0,c.A)(function*(me){const J=me;if(J){if(null!=J.componentOnReady){if(null!=(yield J.componentOnReady()))return}else if(null!=J.__registerHost)return void(yield new Promise(ze=>(0,De.r)(ze)));yield Promise.all(Array.from(J.children).map(un))}});return function(J){return ye.apply(this,arguments)}}(),Un=(ye,me)=>{me?(ye.setAttribute("aria-hidden","true"),ye.classList.add("ion-page-hidden")):(ye.hidden=!1,ye.removeAttribute("aria-hidden"),ye.classList.remove("ion-page-hidden"))},Ut=(ye,me,J)=>{void 0!==ye&&(ye.style.zIndex="back"===J?"99":"101"),void 0!==me&&(me.style.zIndex="100")},_e=ye=>ye.classList.contains("ion-page")?ye:ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ye},4929:(Rn,ht,j)=>{"use strict";j.d(ht,{a:()=>f,b:()=>xe,p:()=>c});const c=(H,...De)=>console.warn(`[Ionic Warning]: ${H}`,...De),f=(H,...De)=>console.error(`[Ionic Error]: ${H}`,...De),xe=(H,...De)=>console.error(`<${H.tagName.toLowerCase()}> must be used inside ${De.join(" or ")}.`)},8476:(Rn,ht,j)=>{"use strict";j.d(ht,{d:()=>f,w:()=>c});const c=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},9483:(Rn,ht,j)=>{"use strict";j.d(ht,{a:()=>ce,b:()=>Un,c:()=>xe,i:()=>Ut});var c=j(4261);class f{constructor(){this.m=new Map}reset(ye){this.m=new Map(Object.entries(ye))}get(ye,me){const J=this.m.get(ye);return void 0!==J?J:me}getBoolean(ye,me=!1){const J=this.m.get(ye);return void 0===J?me:"string"==typeof J?"true"===J:!!J}getNumber(ye,me){const J=parseFloat(this.m.get(ye));return isNaN(J)?void 0!==me?me:NaN:J}set(ye,me){this.m.set(ye,me)}}const xe=new f,Ke="ionic-persist-config",ce=(_e,ye)=>("string"==typeof _e&&(ye=_e,_e=void 0),(_e=>Re(_e))(_e).includes(ye)),Re=(_e=window)=>{if(typeof _e>"u")return[];_e.Ionic=_e.Ionic||{};let ye=_e.Ionic.platforms;return null==ye&&(ye=_e.Ionic.platforms=Ue(_e),ye.forEach(me=>_e.document.documentElement.classList.add(`plt-${me}`))),ye},Ue=_e=>{const ye=xe.get("platform");return Object.keys(wn).filter(me=>{const J=null==ye?void 0:ye[me];return"function"==typeof J?J(_e):wn[me](_e)})},lt=_e=>!!(Wt(_e,/iPad/i)||Wt(_e,/Macintosh/i)&&ge(_e)),rt=_e=>Wt(_e,/android|sink/i),ge=_e=>Xt(_e,"(any-pointer:coarse)"),He=_e=>Xe(_e)||Ct(_e),Xe=_e=>!!(_e.cordova||_e.phonegap||_e.PhoneGap),Ct=_e=>{const ye=_e.Capacitor;return!(null==ye||!ye.isNative)},Wt=(_e,ye)=>ye.test(_e.navigator.userAgent),Xt=(_e,ye)=>{var me;return null===(me=_e.matchMedia)||void 0===me?void 0:me.call(_e,ye).matches},wn={ipad:lt,iphone:_e=>Wt(_e,/iPhone/i),ios:_e=>Wt(_e,/iPhone|iPod/i)||lt(_e),android:rt,phablet:_e=>{const ye=_e.innerWidth,me=_e.innerHeight,J=Math.min(ye,me),Ee=Math.max(ye,me);return J>390&&J<520&&Ee>620&&Ee<800},tablet:_e=>{const ye=_e.innerWidth,me=_e.innerHeight,J=Math.min(ye,me),Ee=Math.max(ye,me);return lt(_e)||(_e=>rt(_e)&&!Wt(_e,/mobile/i))(_e)||J>460&&J<820&&Ee>780&&Ee<1400},cordova:Xe,capacitor:Ct,electron:_e=>Wt(_e,/electron/i),pwa:_e=>{var ye;return!!(null!==(ye=_e.matchMedia)&&void 0!==ye&&ye.call(_e,"(display-mode: standalone)").matches||_e.navigator.standalone)},mobile:ge,mobileweb:_e=>ge(_e)&&!He(_e),desktop:_e=>!ge(_e),hybrid:He};let un;const Un=_e=>_e&&(0,c.g)(_e)||un,Ut=(_e={})=>{if(typeof window>"u")return;const ye=window.document,me=window,J=me.Ionic=me.Ionic||{},Ee={};_e._ael&&(Ee.ael=_e._ael),_e._rel&&(Ee.rel=_e._rel),_e._ce&&(Ee.ce=_e._ce),(0,c.a)(Ee);const ze=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(_e=>{try{const ye=_e.sessionStorage.getItem(Ke);return null!==ye?JSON.parse(ye):{}}catch{return{}}})(me)),{persistConfig:!1}),J.config),(_e=>{const ye={};return _e.location.search.slice(1).split("&").map(me=>me.split("=")).map(([me,J])=>{try{return[decodeURIComponent(me),decodeURIComponent(J)]}catch{return["",""]}}).filter(([me])=>((_e,ye)=>_e.substr(0,ye.length)===ye)(me,"ionic:")).map(([me,J])=>[me.slice(6),J]).forEach(([me,J])=>{ye[me]=J}),ye})(me)),_e);xe.reset(ze),xe.getBoolean("persistConfig")&&((_e,ye)=>{try{_e.sessionStorage.setItem(Ke,JSON.stringify(ye))}catch{return}})(me,ze),Re(me),J.config=xe,J.mode=un=xe.get("mode",ye.documentElement.getAttribute("mode")||(ce(me,"ios")?"ios":"md")),xe.set("mode",un),ye.documentElement.setAttribute("mode",un),ye.documentElement.classList.add(un),xe.getBoolean("_testing")&&xe.set("animated",!1);const Fe=mt=>{var _n;return null===(_n=mt.tagName)||void 0===_n?void 0:_n.startsWith("ION-")},Ze=mt=>["ios","md"].includes(mt);(0,c.c)(mt=>{for(;mt;){const _n=mt.mode||mt.getAttribute("mode");if(_n){if(Ze(_n))return _n;Fe(mt)&&console.warn('Invalid ionic mode: "'+_n+'", expected: "ios" or "md"')}mt=mt.parentElement}return un})}},5022:(Rn,ht,j)=>{"use strict";j.r(ht),j.d(ht,{iosTransitionAnimation:()=>Le,shadow:()=>Ne});var c=j(9986),f=j(3604);j(8476),j(9483),j(4261);const te=at=>document.querySelector(`${at}.ion-cloned-element`),Ne=at=>at.shadowRoot||at,Ke=at=>{const tt="ION-TABS"===at.tagName?at:at.querySelector("ion-tabs"),rt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=tt){const pt=tt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=pt?pt.querySelector(rt):null}return at.querySelector(rt)},Ae=(at,tt)=>{const rt="ION-TABS"===at.tagName?at:at.querySelector("ion-tabs");let pt=[];if(null!=rt){const ut=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ut&&(pt=ut.querySelectorAll("ion-buttons"))}else pt=at.querySelectorAll("ion-buttons");for(const ut of pt){const dt=ut.closest("ion-header"),ge=dt&&!dt.classList.contains("header-collapse-condense-inactive"),Ce=ut.querySelector("ion-back-button"),He=ut.classList.contains("buttons-collapse");if(null!==Ce&&("start"===ut.slot||""===ut.slot)&&(He&&ge&&tt||!He))return Ce}return null},Re=(at,tt,rt,pt,ut,dt,ge,Ce,He)=>{var Xe,Ct;const wt=tt?`calc(100% - ${ut.right+4}px)`:ut.left-4+"px",Se=tt?"right":"left",Wt=tt?"left":"right",Xt=tt?"right":"left";let wn=1,un=1,Un=`scale(${un})`;const Ut="scale(1)";if(dt&&ge){const St=(null===(Xe=dt.textContent)||void 0===Xe?void 0:Xe.trim())===(null===(Ct=Ce.textContent)||void 0===Ct?void 0:Ct.trim());wn=He.width/ge.width,un=(He.height-lt)/ge.height,Un=St?`scale(${wn}, ${un})`:`scale(${un})`}const ye=Ne(pt).querySelector("ion-icon").getBoundingClientRect(),me=tt?ye.width/2-(ye.right-ut.right)+"px":ut.left-ye.width/2+"px",J=tt?`-${window.innerWidth-ut.right}px`:`${ut.left}px`,Ee=`${He.top}px`,ze=`${ut.top}px`,mt=rt?[{offset:0,transform:`translate3d(${J}, ${ze}, 0)`},{offset:1,transform:`translate3d(${me}, ${Ee}, 0)`}]:[{offset:0,transform:`translate3d(${me}, ${Ee}, 0)`},{offset:1,transform:`translate3d(${J}, ${ze}, 0)`}],Hn=rt?[{offset:0,opacity:1,transform:Ut},{offset:1,opacity:0,transform:Un}]:[{offset:0,opacity:0,transform:Un},{offset:1,opacity:1,transform:Ut}],Mr=rt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Fr=(0,c.c)(),Gn=(0,c.c)(),dr=(0,c.c)(),nr=te("ion-back-button"),zr=Ne(nr).querySelector(".button-text"),Gt=Ne(nr).querySelector("ion-icon");nr.text=pt.text,nr.mode=pt.mode,nr.icon=pt.icon,nr.color=pt.color,nr.disabled=pt.disabled,nr.style.setProperty("display","block"),nr.style.setProperty("position","fixed"),Gn.addElement(Gt),Fr.addElement(zr),dr.addElement(nr),dr.beforeStyles({position:"absolute",top:"0px",[Xt]:"0px"}).beforeAddWrite(()=>{pt.style.setProperty("display","none"),nr.style.setProperty(Se,wt)}).afterAddWrite(()=>{pt.style.setProperty("display",""),nr.style.setProperty("display","none"),nr.style.removeProperty(Se)}).keyframes(mt),Fr.beforeStyles({"transform-origin":`${Se} top`}).keyframes(Hn),Gn.beforeStyles({"transform-origin":`${Wt} center`}).keyframes(Mr),at.addAnimation([Fr,Gn,dr])},Ue=(at,tt,rt,pt,ut,dt,ge,Ce,He)=>{var Xe,Ct;const wt=tt?"right":"left",Se=tt?`calc(100% - ${ut.right}px)`:`${ut.left}px`,Xt=`${ut.top}px`;let un=tt?`-${window.innerWidth-ge.right-8}px`:`${ge.x+8}px`,Un=.5;const Ut="scale(1)";let _e=`scale(${Un})`;if(Ce&&He){un=tt?`-${window.innerWidth-He.right-8}px`:He.x-8+"px";const _n=(null===(Xe=Ce.textContent)||void 0===Xe?void 0:Xe.trim())===(null===(Ct=pt.textContent)||void 0===Ct?void 0:Ct.trim());Un=He.height/(dt.height-lt),_e=_n?`scale(${He.width/dt.width}, ${Un})`:`scale(${Un})`}const J=ge.top+ge.height/2-ut.height*Un/2+"px",Fe=rt?[{offset:0,opacity:0,transform:`translate3d(${un}, ${J}, 0) ${_e}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Xt}, 0) ${Ut}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Xt}, 0) ${Ut}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${un}, ${J}, 0) ${_e}`}],Ze=te("ion-title"),mt=(0,c.c)();Ze.innerText=pt.innerText,Ze.size=pt.size,Ze.color=pt.color,mt.addElement(Ze),mt.beforeStyles({"transform-origin":`${wt} top`,height:`${ut.height}px`,display:"",position:"relative",[wt]:Se}).beforeAddWrite(()=>{pt.style.setProperty("opacity","0")}).afterAddWrite(()=>{pt.style.setProperty("opacity",""),Ze.style.setProperty("display","none")}).keyframes(Fe),at.addAnimation(mt)},Le=(at,tt)=>{var rt;try{const pt="cubic-bezier(0.32,0.72,0,1)",ut="opacity",dt="transform",ge="0%",He="rtl"===at.ownerDocument.dir,Xe=He?"-99.5%":"99.5%",Ct=He?"33%":"-33%",wt=tt.enteringEl,Se=tt.leavingEl,Wt="back"===tt.direction,Xt=wt.querySelector(":scope > ion-content"),wn=wt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),un=wt.querySelectorAll(":scope > ion-header > ion-toolbar"),Un=(0,c.c)(),Ut=(0,c.c)();if(Un.addElement(wt).duration((null!==(rt=tt.duration)&&void 0!==rt?rt:0)||540).easing(tt.easing||pt).fill("both").beforeRemoveClass("ion-page-invisible"),Se&&null!=at){const J=(0,c.c)();J.addElement(at),Un.addAnimation(J)}if(Xt||0!==un.length||0!==wn.length?(Ut.addElement(Xt),Ut.addElement(wn)):Ut.addElement(wt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Un.addAnimation(Ut),Wt?Ut.beforeClearStyles([ut]).fromTo("transform",`translateX(${Ct})`,`translateX(${ge})`).fromTo(ut,.8,1):Ut.beforeClearStyles([ut]).fromTo("transform",`translateX(${Xe})`,`translateX(${ge})`),Xt){const J=Ne(Xt).querySelector(".transition-effect");if(J){const Ee=J.querySelector(".transition-cover"),ze=J.querySelector(".transition-shadow"),Fe=(0,c.c)(),Ze=(0,c.c)(),mt=(0,c.c)();Fe.addElement(J).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ze.addElement(Ee).beforeClearStyles([ut]).fromTo(ut,0,.1),mt.addElement(ze).beforeClearStyles([ut]).fromTo(ut,.03,.7),Fe.addAnimation([Ze,mt]),Ut.addAnimation([Fe])}}const _e=wt.querySelector("ion-header.header-collapse-condense"),{forward:ye,backward:me}=((at,tt,rt,pt,ut)=>{const dt=Ae(pt,rt),ge=Ke(ut),Ce=Ke(pt),He=Ae(ut,rt),Xe=null!==dt&&null!==ge&&!rt,Ct=null!==Ce&&null!==He&&rt;if(Xe){const wt=ge.getBoundingClientRect(),Se=dt.getBoundingClientRect(),Wt=Ne(dt).querySelector(".button-text"),Xt=null==Wt?void 0:Wt.getBoundingClientRect(),un=Ne(ge).querySelector(".toolbar-title").getBoundingClientRect();Ue(at,tt,rt,ge,wt,un,Se,Wt,Xt),Re(at,tt,rt,dt,Se,Wt,Xt,ge,un)}else if(Ct){const wt=Ce.getBoundingClientRect(),Se=He.getBoundingClientRect(),Wt=Ne(He).querySelector(".button-text"),Xt=null==Wt?void 0:Wt.getBoundingClientRect(),un=Ne(Ce).querySelector(".toolbar-title").getBoundingClientRect();Ue(at,tt,rt,Ce,wt,un,Se,Wt,Xt),Re(at,tt,rt,He,Se,Wt,Xt,Ce,un)}return{forward:Xe,backward:Ct}})(Un,He,Wt,wt,Se);if(un.forEach(J=>{const Ee=(0,c.c)();Ee.addElement(J),Un.addAnimation(Ee);const ze=(0,c.c)();ze.addElement(J.querySelector("ion-title"));const Fe=(0,c.c)(),Ze=Array.from(J.querySelectorAll("ion-buttons,[menuToggle]")),mt=J.closest("ion-header"),_n=null==mt?void 0:mt.classList.contains("header-collapse-condense-inactive");let ln;ln=Ze.filter(Wt?Fr=>{const Gn=Fr.classList.contains("buttons-collapse");return Gn&&!_n||!Gn}:Fr=>!Fr.classList.contains("buttons-collapse")),Fe.addElement(ln);const Hn=(0,c.c)();Hn.addElement(J.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const mn=(0,c.c)();mn.addElement(Ne(J).querySelector(".toolbar-background"));const Nt=(0,c.c)(),Mr=J.querySelector("ion-back-button");if(Mr&&Nt.addElement(Mr),Ee.addAnimation([ze,Fe,Hn,mn,Nt]),Fe.fromTo(ut,.01,1),Hn.fromTo(ut,.01,1),Wt)_n||ze.fromTo("transform",`translateX(${Ct})`,`translateX(${ge})`).fromTo(ut,.01,1),Hn.fromTo("transform",`translateX(${Ct})`,`translateX(${ge})`),Nt.fromTo(ut,.01,1);else if(_e||ze.fromTo("transform",`translateX(${Xe})`,`translateX(${ge})`).fromTo(ut,.01,1),Hn.fromTo("transform",`translateX(${Xe})`,`translateX(${ge})`),mn.beforeClearStyles([ut,"transform"]),(null==mt?void 0:mt.translucent)?mn.fromTo("transform",He?"translateX(-100%)":"translateX(100%)","translateX(0px)"):mn.fromTo(ut,.01,"var(--opacity)"),ye||Nt.fromTo(ut,.01,1),Mr&&!ye){const Gn=(0,c.c)();Gn.addElement(Ne(Mr).querySelector(".button-text")).fromTo("transform",He?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ee.addAnimation(Gn)}}),Se){const J=(0,c.c)(),Ee=Se.querySelector(":scope > ion-content"),ze=Se.querySelectorAll(":scope > ion-header > ion-toolbar"),Fe=Se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ee||0!==ze.length||0!==Fe.length?(J.addElement(Ee),J.addElement(Fe)):J.addElement(Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Un.addAnimation(J),Wt){J.beforeClearStyles([ut]).fromTo("transform",`translateX(${ge})`,He?"translateX(-100%)":"translateX(100%)");const Ze=(0,f.g)(Se);Un.afterAddWrite(()=>{"normal"===Un.getDirection()&&Ze.style.setProperty("display","none")})}else J.fromTo("transform",`translateX(${ge})`,`translateX(${Ct})`).fromTo(ut,1,.8);if(Ee){const Ze=Ne(Ee).querySelector(".transition-effect");if(Ze){const mt=Ze.querySelector(".transition-cover"),_n=Ze.querySelector(".transition-shadow"),ln=(0,c.c)(),Hn=(0,c.c)(),mn=(0,c.c)();ln.addElement(Ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Hn.addElement(mt).beforeClearStyles([ut]).fromTo(ut,.1,0),mn.addElement(_n).beforeClearStyles([ut]).fromTo(ut,.7,.03),ln.addAnimation([Hn,mn]),J.addAnimation([ln])}}ze.forEach(Ze=>{const mt=(0,c.c)();mt.addElement(Ze);const _n=(0,c.c)();_n.addElement(Ze.querySelector("ion-title"));const ln=(0,c.c)(),Hn=Ze.querySelectorAll("ion-buttons,[menuToggle]"),mn=Ze.closest("ion-header"),Nt=null==mn?void 0:mn.classList.contains("header-collapse-condense-inactive"),Mr=Array.from(Hn).filter(Gt=>{const St=Gt.classList.contains("buttons-collapse");return St&&!Nt||!St});ln.addElement(Mr);const Fr=(0,c.c)(),Gn=Ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Gn.length>0&&Fr.addElement(Gn);const dr=(0,c.c)();dr.addElement(Ne(Ze).querySelector(".toolbar-background"));const nr=(0,c.c)(),zr=Ze.querySelector("ion-back-button");if(zr&&nr.addElement(zr),mt.addAnimation([_n,ln,Fr,nr,dr]),Un.addAnimation(mt),nr.fromTo(ut,.99,0),ln.fromTo(ut,.99,0),Fr.fromTo(ut,.99,0),Wt){if(Nt||_n.fromTo("transform",`translateX(${ge})`,He?"translateX(-100%)":"translateX(100%)").fromTo(ut,.99,0),Fr.fromTo("transform",`translateX(${ge})`,He?"translateX(-100%)":"translateX(100%)"),dr.beforeClearStyles([ut,"transform"]),(null==mn?void 0:mn.translucent)?dr.fromTo("transform","translateX(0px)",He?"translateX(-100%)":"translateX(100%)"):dr.fromTo(ut,"var(--opacity)",0),zr&&!me){const St=(0,c.c)();St.addElement(Ne(zr).querySelector(".button-text")).fromTo("transform",`translateX(${ge})`,`translateX(${(He?-124:124)+"px"})`),mt.addAnimation(St)}}else Nt||_n.fromTo("transform",`translateX(${ge})`,`translateX(${Ct})`).fromTo(ut,.99,0).afterClearStyles([dt,ut]),Fr.fromTo("transform",`translateX(${ge})`,`translateX(${Ct})`).afterClearStyles([dt,ut]),nr.afterClearStyles([ut]),_n.afterClearStyles([ut]),ln.afterClearStyles([ut])})}return Un}catch(pt){throw pt}},lt=10},3615:(Rn,ht,j)=>{"use strict";j.r(ht),j.d(ht,{mdTransitionAnimation:()=>he});var c=j(9986),f=j(3604);j(8476),j(9483),j(4261);const he=(te,Ne)=>{var Ke,Ae,ce;const Le="back"===Ne.direction,at=Ne.leavingEl,tt=(0,f.g)(Ne.enteringEl),rt=tt.querySelector("ion-toolbar"),pt=(0,c.c)();if(pt.addElement(tt).fill("both").beforeRemoveClass("ion-page-invisible"),Le?pt.duration((null!==(Ke=Ne.duration)&&void 0!==Ke?Ke:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):pt.duration((null!==(Ae=Ne.duration)&&void 0!==Ae?Ae:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),rt){const ut=(0,c.c)();ut.addElement(rt),pt.addAnimation(ut)}if(at&&Le){pt.duration((null!==(ce=Ne.duration)&&void 0!==ce?ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ut=(0,c.c)();ut.addElement((0,f.g)(at)).onFinish(dt=>{1===dt&&ut.elements.length>0&&ut.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),pt.addAnimation(ut)}return pt}},3617:(Rn,ht,j)=>{"use strict";j.d(ht,{B:()=>Hn,F:()=>zr,G:()=>mn,O:()=>Nt,a:()=>tt,b:()=>rt,c:()=>ge,d:()=>Mr,e:()=>Fr,f:()=>ye,g:()=>J,h:()=>Fe,i:()=>mt,j:()=>He,k:()=>Xe,m:()=>ut,n:()=>Ae,o:()=>Ut,q:()=>ce,s:()=>ln});var c=j(467),f=j(8476),xe=j(4920),H=j(7192),De=j(9483),he=j(8621),te=j(1970),Ne=j(4929);const Ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ae=(Gt,St)=>{const zt=Gt.querySelector(Ke);Re(zt,null!=St?St:Gt)},ce=(Gt,St)=>{const zt=Array.from(Gt.querySelectorAll(Ke));Re(zt.length>0?zt[zt.length-1]:null,null!=St?St:Gt)},Re=(Gt,St)=>{let zt=Gt;const ft=null==Gt?void 0:Gt.shadowRoot;if(ft&&(zt=ft.querySelector(Ke)||Gt),zt){const hr=zt.closest("ion-radio-group");hr?hr.setFocus():(0,xe.f)(zt)}else St.focus()};let Ue=0,Le=0;const lt=new WeakMap,at=Gt=>({create:St=>Ct(Gt,St),dismiss:(St,zt,ft)=>wn(document,St,zt,Gt,ft),getTop:()=>(0,c.A)(function*(){return Ut(document,Gt)})()}),tt=at("ion-alert"),rt=at("ion-action-sheet"),ut=at("ion-modal"),ge=at("ion-popover"),He=Gt=>{typeof document<"u"&&Xt(document);const St=Ue++;Gt.overlayIndex=St},Xe=Gt=>(Gt.hasAttribute("id")||(Gt.id="ion-overlay-"+ ++Le),Gt.id),Ct=(Gt,St)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Gt).then(()=>{const zt=document.createElement(Gt);return zt.classList.add("overlay-hidden"),Object.assign(zt,Object.assign(Object.assign({},St),{hasController:!0})),Ee(document).appendChild(zt),new Promise(ft=>(0,xe.c)(zt,ft))}):Promise.resolve(),Se=(Gt,St)=>{let zt=Gt;const ft=null==Gt?void 0:Gt.shadowRoot;ft&&(zt=ft.querySelector(Ke)||Gt),zt?(0,xe.f)(zt):St.focus()},Xt=Gt=>{0===Ue&&(Ue=1,Gt.addEventListener("focus",St=>{((Gt,St)=>{const zt=Ut(St,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ft=Gt.target;zt&&ft&&!zt.classList.contains(zr)&&(zt.shadowRoot?(()=>{if(zt.contains(ft))zt.lastFocus=ft;else if("ION-TOAST"===ft.tagName)Se(zt.lastFocus,zt);else{const Nn=zt.lastFocus;Ae(zt),Nn===St.activeElement&&ce(zt),zt.lastFocus=St.activeElement}})():(()=>{if(zt===ft)zt.lastFocus=void 0;else if("ION-TOAST"===ft.tagName)Se(zt.lastFocus,zt);else{const Nn=(0,xe.g)(zt);if(!Nn.contains(ft))return;const Bn=Nn.querySelector(".ion-overlay-wrapper");if(!Bn)return;if(Bn.contains(ft)||ft===Nn.querySelector("ion-backdrop"))zt.lastFocus=ft;else{const _r=zt.lastFocus;Ae(Bn,zt),_r===St.activeElement&&ce(Bn,zt),zt.lastFocus=St.activeElement}}})())})(St,Gt)},!0),Gt.addEventListener("ionBackButton",St=>{const zt=Ut(Gt);null!=zt&&zt.backdropDismiss&&St.detail.register(H.OVERLAY_BACK_BUTTON_PRIORITY,()=>{zt.dismiss(void 0,Hn)})}),(0,H.shouldUseCloseWatcher)()||Gt.addEventListener("keydown",St=>{if("Escape"===St.key){const zt=Ut(Gt);null!=zt&&zt.backdropDismiss&&zt.dismiss(void 0,Hn)}}))},wn=(Gt,St,zt,ft,hr)=>{const fr=Ut(Gt,ft,hr);return fr?fr.dismiss(St,zt):Promise.reject("overlay does not exist")},Un=(Gt,St)=>((Gt,St)=>(void 0===St&&(St="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Gt.querySelectorAll(St)).filter(zt=>zt.overlayIndex>0)))(Gt,St).filter(zt=>!(Gt=>Gt.classList.contains("overlay-hidden"))(zt)),Ut=(Gt,St,zt)=>{const ft=Un(Gt,St);return void 0===zt?ft[ft.length-1]:ft.find(hr=>hr.id===zt)},_e=(Gt=!1)=>{const zt=Ee(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");zt&&(Gt?zt.setAttribute("aria-hidden","true"):zt.removeAttribute("aria-hidden"))},ye=function(){var Gt=(0,c.A)(function*(St,zt,ft,hr,fr){var Nn,Bn;if(St.presented)return;"ION-TOAST"!==St.el.tagName&&_e(!0),document.body.classList.add(te.B),dr(St.el),Gn(St.el),St.presented=!0,St.willPresent.emit(),null===(Nn=St.willPresentShorthand)||void 0===Nn||Nn.emit();const _r=(0,De.b)(St),Er=St.enterAnimation?St.enterAnimation:De.c.get(zt,"ios"===_r?ft:hr);(yield ze(St,Er,St.el,fr))&&(St.didPresent.emit(),null===(Bn=St.didPresentShorthand)||void 0===Bn||Bn.emit()),"ION-TOAST"!==St.el.tagName&&me(St.el),St.keyboardClose&&(null===document.activeElement||!St.el.contains(document.activeElement))&&St.el.focus(),St.el.removeAttribute("aria-hidden")});return function(zt,ft,hr,fr,Nn){return Gt.apply(this,arguments)}}(),me=function(){var Gt=(0,c.A)(function*(St){let zt=document.activeElement;if(!zt)return;const ft=null==zt?void 0:zt.shadowRoot;ft&&(zt=ft.querySelector(Ke)||zt),yield St.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&zt.focus()});return function(zt){return Gt.apply(this,arguments)}}(),J=function(){var Gt=(0,c.A)(function*(St,zt,ft,hr,fr,Nn,Bn){var _r,Er;if(!St.presented)return!1;const lr=void 0!==f.d?Un(f.d).filter(wr=>"ION-TOAST"!==wr.tagName):[];1===lr.length&&lr[0].id===St.el.id&&(_e(!1),document.body.classList.remove(te.B)),St.presented=!1;try{Gn(St.el),St.el.style.setProperty("pointer-events","none"),St.willDismiss.emit({data:zt,role:ft}),null===(_r=St.willDismissShorthand)||void 0===_r||_r.emit({data:zt,role:ft});const wr=(0,De.b)(St),Ti=St.leaveAnimation?St.leaveAnimation:De.c.get(hr,"ios"===wr?fr:Nn);ft!==mn&&(yield ze(St,Ti,St.el,Bn)),St.didDismiss.emit({data:zt,role:ft}),null===(Er=St.didDismissShorthand)||void 0===Er||Er.emit({data:zt,role:ft}),(lt.get(St)||[]).forEach(ir=>ir.destroy()),lt.delete(St),St.el.classList.add("overlay-hidden"),St.el.style.removeProperty("pointer-events"),void 0!==St.el.lastFocus&&(St.el.lastFocus=void 0)}catch(wr){console.error(wr)}return St.el.remove(),nr(),!0});return function(zt,ft,hr,fr,Nn,Bn,_r){return Gt.apply(this,arguments)}}(),Ee=Gt=>Gt.querySelector("ion-app")||Gt.body,ze=function(){var Gt=(0,c.A)(function*(St,zt,ft,hr){ft.classList.remove("overlay-hidden");const Nn=zt(St.el,hr);(!St.animated||!De.c.getBoolean("animated",!0))&&Nn.duration(0),St.keyboardClose&&Nn.beforeAddWrite(()=>{const _r=ft.ownerDocument.activeElement;null!=_r&&_r.matches("input,ion-input, ion-textarea")&&_r.blur()});const Bn=lt.get(St)||[];return lt.set(St,[...Bn,Nn]),yield Nn.play(),!0});return function(zt,ft,hr,fr){return Gt.apply(this,arguments)}}(),Fe=(Gt,St)=>{let zt;const ft=new Promise(hr=>zt=hr);return Ze(Gt,St,hr=>{zt(hr.detail)}),ft},Ze=(Gt,St,zt)=>{const ft=hr=>{(0,xe.b)(Gt,St,ft),zt(hr)};(0,xe.a)(Gt,St,ft)},mt=Gt=>"cancel"===Gt||Gt===Hn,_n=Gt=>Gt(),ln=(Gt,St)=>{if("function"==typeof Gt)return De.c.get("_zoneGate",_n)(()=>{try{return Gt(St)}catch(ft){throw ft}})},Hn="backdrop",mn="gesture",Nt=39,Mr=Gt=>{let zt,St=!1;const ft=(0,he.C)(),hr=(Bn=!1)=>{if(zt&&!Bn)return{delegate:zt,inline:St};const{el:_r,hasController:Er,delegate:lr}=Gt;return St=null!==_r.parentNode&&!Er,zt=St?lr||ft:lr,{inline:St,delegate:zt}};return{attachViewToDom:function(){var Bn=(0,c.A)(function*(_r){const{delegate:Er}=hr(!0);if(Er)return yield Er.attachViewToDom(Gt.el,_r);const{hasController:lr}=Gt;if(lr&&void 0!==_r)throw new Error("framework delegate is missing");return null});return function(Er){return Bn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Bn}=hr();Bn&&void 0!==Gt.el&&Bn.removeViewFromDom(Gt.el.parentElement,Gt.el)}}},Fr=()=>{let Gt;const St=()=>{Gt&&(Gt(),Gt=void 0)};return{addClickListener:(ft,hr)=>{St();const fr=void 0!==hr?document.getElementById(hr):null;fr?Gt=((Bn,_r)=>{const Er=()=>{_r.present()};return Bn.addEventListener("click",Er),()=>{Bn.removeEventListener("click",Er)}})(fr,ft):(0,Ne.p)(`A trigger element with the ID "${hr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ft)},removeClickListener:St}},Gn=Gt=>{void 0!==f.d&&(0,De.a)("android")&&Gt.setAttribute("aria-hidden","true")},dr=Gt=>{var St;if(void 0===f.d)return;const zt=Un(f.d);for(let ft=zt.length-1;ft>=0;ft--){const hr=zt[ft],fr=null!==(St=zt[ft+1])&&void 0!==St?St:Gt;(fr.hasAttribute("aria-hidden")||"ION-TOAST"!==fr.tagName)&&hr.setAttribute("aria-hidden","true")}},nr=()=>{if(void 0===f.d)return;const Gt=Un(f.d);for(let St=Gt.length-1;St>=0;St--){const zt=Gt[St];if(zt.removeAttribute("aria-hidden"),"ION-TOAST"!==zt.tagName)break}},zr="ion-disable-focus-trap"},1493:(Rn,ht,j)=>{"use strict";var c=j(345),f=j(3667),xe=j(4964),H=j(4438);const De=[{path:"",redirectTo:"tab1",pathMatch:"full"},{path:"tab1",loadChildren:()=>j.e(3556).then(j.bind(j,3556)).then(l=>l.Tab1PageModule)},{path:"tab2",loadChildren:()=>j.e(7934).then(j.bind(j,7934)).then(l=>l.Tab2PageModule)},{path:"tab3",loadChildren:()=>j.e(4487).then(j.bind(j,4487)).then(l=>l.Tab3PageModule)}];let he=(()=>{var l;class t{}return(l=t).\u0275fac=function(s){return new(s||l)},l.\u0275mod=H.$C({type:l}),l.\u0275inj=H.G2t({imports:[xe.iI.forRoot(De),xe.iI]}),t})();var te=j(467),Ne=j(9842),Ae=(j(324),j(177)),ce=j(574),Re=j(9253),Ue=j(1413),Le=j(7673),lt=j(1985),at=j(8455),tt=j(6365),rt=j(8750),pt=j(983),ut=j(3794),ge=j(941),Ce=j(5558),He=j(6354),Xe=j(6129);class Ct extends Ue.B{constructor(t=1/0,r=1/0,s=Xe.U){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:s,_infiniteTimeWindow:u,_timestampProvider:p,_windowTime:_}=this;r||(s.push(t),!u&&s.push(p.now()+_)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:u}=this,p=u.slice();for(let _=0;_<p.length&&!t.closed;_+=s?1:2)t.next(p[_]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:s,_infiniteTimeWindow:u}=this,p=(u?1:2)*t;if(t<1/0&&p<s.length&&s.splice(0,s.length-p),!u){const _=r.now();let w=0;for(let x=1;x<s.length&&s[x]<=_;x+=2)w=x;w&&s.splice(0,w+1)}}}var wt=j(7707),Se=j(9974);function Xt(l,t,...r){if(!0===t)return void l();if(!1===t)return;const s=new wt.Ms({next:()=>{s.unsubscribe(),l()}});return(0,rt.Tg)(t(...r)).subscribe(s)}function wn(l,t,r){let s,u=!1;return l&&"object"==typeof l?({bufferSize:s=1/0,windowTime:t=1/0,refCount:u=!1,scheduler:r}=l):s=null!=l?l:1/0,function Wt(l={}){const{connector:t=()=>new Ue.B,resetOnError:r=!0,resetOnComplete:s=!0,resetOnRefCountZero:u=!0}=l;return p=>{let _,w,x,X=0,ae=!1,Ie=!1;const We=()=>{null==w||w.unsubscribe(),w=void 0},Dt=()=>{We(),_=x=void 0,ae=Ie=!1},cn=()=>{const In=_;Dt(),null==In||In.unsubscribe()};return(0,Se.N)((In,pn)=>{X++,!Ie&&!ae&&We();const Vn=x=null!=x?x:t();pn.add(()=>{X--,0===X&&!Ie&&!ae&&(w=Xt(cn,u))}),Vn.subscribe(pn),!_&&X>0&&(_=new wt.Ms({next:rr=>Vn.next(rr),error:rr=>{Ie=!0,We(),w=Xt(Dt,r,rr),Vn.error(rr)},complete:()=>{ae=!0,We(),w=Xt(Dt,s),Vn.complete()}}),(0,rt.Tg)(In).subscribe(_))})(p)}}({connector:()=>new Ct(s,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var un=j(1594),Un=j(8071);function Ut(l,t){return(0,Un.T)(t)?(0,Ce.n)(()=>l,t):(0,Ce.n)(()=>l)}var _e=j(6745),ye=j(5964),me=j(762);const Ee=new H.nKC("angularfire2.auth.use-emulator"),ze=new H.nKC("angularfire2.auth.settings"),Fe=new H.nKC("angularfire2.auth.tenant-id"),Ze=new H.nKC("angularfire2.auth.langugage-code"),mt=new H.nKC("angularfire2.auth.use-device-language"),_n=new H.nKC("angularfire.auth.persistence"),ln=(l,t,r,s,u,p,_,w)=>(0,Re.BM)(`${l.name}.auth`,"AngularFireAuth",l.name,()=>{const x=t.runOutsideAngular(()=>l.auth());if(r&&x.useEmulator(...r),s&&(x.tenantId=s),x.languageCode=u,p&&x.useDeviceLanguage(),_)for(const[X,ae]of Object.entries(_))x.settings[X]=ae;return w&&x.setPersistence(w),x},[r,s,u,p,_,w]);let Hn=(()=>{var l;class t{constructor(s,u,p,_,w,x,X,ae,Ie,We,Dt,cn){(0,Ne.A)(this,"authState",void 0),(0,Ne.A)(this,"idToken",void 0),(0,Ne.A)(this,"user",void 0),(0,Ne.A)(this,"idTokenResult",void 0),(0,Ne.A)(this,"credential",void 0);const In=new Ue.B,pn=(0,Le.of)(void 0).pipe((0,ge.Q)(w.outsideAngular),(0,Ce.n)(()=>_.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,324)))),(0,He.T)(()=>(0,Re.iB)(s,_,u)),(0,He.T)(Vn=>ln(Vn,_,x,ae,Ie,We,X,Dt)),wn({bufferSize:1,refCount:!1}));if((0,Ae.Vy)(p))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Le.of)(null);else{pn.pipe((0,un.$)()).subscribe();const Vn=pn.pipe((0,Ce.n)(Zn=>Zn.getRedirectResult().then(Kr=>Kr,()=>null)),ce.U0,wn({bufferSize:1,refCount:!1})),rr=pn.pipe((0,Ce.n)(Zn=>new lt.c(Kr=>({unsubscribe:_.runOutsideAngular(()=>Zn.onAuthStateChanged(Dr=>Kr.next(Dr),Dr=>Kr.error(Dr),()=>Kr.complete()))})))),tr=pn.pipe((0,Ce.n)(Zn=>new lt.c(Kr=>({unsubscribe:_.runOutsideAngular(()=>Zn.onIdTokenChanged(Dr=>Kr.next(Dr),Dr=>Kr.error(Dr),()=>Kr.complete()))}))));this.authState=Vn.pipe(Ut(rr),(0,_e._)(w.outsideAngular),(0,ge.Q)(w.insideAngular)),this.user=Vn.pipe(Ut(tr),(0,_e._)(w.outsideAngular),(0,ge.Q)(w.insideAngular)),this.idToken=this.user.pipe((0,Ce.n)(Zn=>Zn?(0,at.H)(Zn.getIdToken()):(0,Le.of)(null))),this.idTokenResult=this.user.pipe((0,Ce.n)(Zn=>Zn?(0,at.H)(Zn.getIdTokenResult()):(0,Le.of)(null))),this.credential=function dt(...l){const t=(0,ut.lI)(l),r=(0,ut.R0)(l,1/0),s=l;return s.length?1===s.length?(0,rt.Tg)(s[0]):(0,tt.U)(r)((0,at.H)(s,t)):pt.w}(Vn,In,this.authState.pipe((0,ye.p)(Zn=>!Zn))).pipe((0,He.T)(Zn=>null!=Zn&&Zn.user?Zn:null),(0,_e._)(w.outsideAngular),(0,ge.Q)(w.insideAngular))}return(0,Re.Gt)(this,pn,_,{spy:{apply:(Vn,rr,tr)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&tr.then(Zn=>In.next(Zn))}}})}}return l=t,(0,Ne.A)(t,"\u0275fac",function(s){return new(s||l)(H.KVO(Re.rx),H.KVO(Re.uP,8),H.KVO(H.Agw),H.KVO(H.SKi),H.KVO(ce.u0),H.KVO(Ee,8),H.KVO(ze,8),H.KVO(Fe,8),H.KVO(Ze,8),H.KVO(mt,8),H.KVO(_n,8),H.KVO(ce.Jv,8))}),(0,Ne.A)(t,"\u0275prov",H.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),t})(),mn=(()=>{var l;class t{constructor(){me.A.registerVersion("angularfire",ce.xv.full,"auth-compat")}}return l=t,(0,Ne.A)(t,"\u0275fac",function(s){return new(s||l)}),(0,Ne.A)(t,"\u0275mod",H.$C({type:l})),(0,Ne.A)(t,"\u0275inj",H.G2t({providers:[Hn]})),t})();var Nt=j(4341);function Mr(l,t){1&l&&(H.j41(0,"h2"),H.EFF(1,"Login"),H.k0s())}function Fr(l,t){1&l&&(H.j41(0,"h2"),H.EFF(1,"Register"),H.k0s())}function Gn(l,t){1&l&&(H.j41(0,"h2"),H.EFF(1,"Reset Password"),H.k0s())}function dr(l,t){if(1&l){const r=H.RV6();H.j41(0,"form",7),H.bIt("submit",function(u){return H.eBV(r),H.XpG().login(),H.Njj(u.preventDefault())}),H.j41(1,"label",8),H.EFF(2,"Email:"),H.k0s(),H.nrm(3,"br"),H.j41(4,"input",9),H.mxI("ngModelChange",function(u){H.eBV(r);const p=H.XpG();return H.DH7(p.email,u)||(p.email=u),H.Njj(u)}),H.k0s(),H.nrm(5,"br")(6,"br"),H.j41(7,"label",10),H.EFF(8,"Password:"),H.k0s(),H.nrm(9,"br"),H.j41(10,"input",11),H.mxI("ngModelChange",function(u){H.eBV(r);const p=H.XpG();return H.DH7(p.password,u)||(p.password=u),H.Njj(u)}),H.k0s(),H.nrm(11,"br")(12,"br"),H.j41(13,"button",12),H.EFF(14,"Login"),H.k0s(),H.j41(15,"p",13),H.bIt("click",function(){H.eBV(r);const u=H.XpG();return H.Njj(u.toggleMode("register"))}),H.EFF(16,"Create an account"),H.k0s(),H.j41(17,"p",13),H.bIt("click",function(){H.eBV(r);const u=H.XpG();return H.Njj(u.toggleMode("reset"))}),H.EFF(18,"Forgot password?"),H.k0s()()}if(2&l){const r=H.XpG();H.R7$(4),H.R50("ngModel",r.email),H.R7$(6),H.R50("ngModel",r.password)}}function nr(l,t){if(1&l){const r=H.RV6();H.j41(0,"form",7),H.bIt("submit",function(u){return H.eBV(r),H.XpG().register(),H.Njj(u.preventDefault())}),H.j41(1,"label",8),H.EFF(2,"Email:"),H.k0s(),H.nrm(3,"br"),H.j41(4,"input",9),H.mxI("ngModelChange",function(u){H.eBV(r);const p=H.XpG();return H.DH7(p.email,u)||(p.email=u),H.Njj(u)}),H.k0s(),H.nrm(5,"br")(6,"br"),H.j41(7,"label",10),H.EFF(8,"Password:"),H.k0s(),H.nrm(9,"br"),H.j41(10,"input",11),H.mxI("ngModelChange",function(u){H.eBV(r);const p=H.XpG();return H.DH7(p.password,u)||(p.password=u),H.Njj(u)}),H.k0s(),H.nrm(11,"br")(12,"br"),H.j41(13,"button",12),H.EFF(14,"Register"),H.k0s(),H.j41(15,"p",13),H.bIt("click",function(){H.eBV(r);const u=H.XpG();return H.Njj(u.toggleMode("login"))}),H.EFF(16,"Back to Login"),H.k0s()()}if(2&l){const r=H.XpG();H.R7$(4),H.R50("ngModel",r.email),H.R7$(6),H.R50("ngModel",r.password)}}function zr(l,t){if(1&l){const r=H.RV6();H.j41(0,"form",7),H.bIt("submit",function(u){return H.eBV(r),H.XpG().resetPassword(),H.Njj(u.preventDefault())}),H.j41(1,"label",8),H.EFF(2,"Email:"),H.k0s(),H.nrm(3,"br"),H.j41(4,"input",9),H.mxI("ngModelChange",function(u){H.eBV(r);const p=H.XpG();return H.DH7(p.email,u)||(p.email=u),H.Njj(u)}),H.k0s(),H.nrm(5,"br")(6,"br"),H.j41(7,"button",12),H.EFF(8,"Reset Password"),H.k0s(),H.j41(9,"p",13),H.bIt("click",function(){H.eBV(r);const u=H.XpG();return H.Njj(u.toggleMode("login"))}),H.EFF(10,"Back to Login"),H.k0s()()}if(2&l){const r=H.XpG();H.R7$(4),H.R50("ngModel",r.email)}}function Gt(l,t){if(1&l&&(H.j41(0,"p",14),H.EFF(1),H.k0s()),2&l){const r=H.XpG();H.R7$(),H.JRh(r.errorMessage)}}function St(l,t){if(1&l&&(H.j41(0,"p",15),H.EFF(1),H.k0s()),2&l){const r=H.XpG();H.R7$(),H.JRh(r.successMessage)}}let zt=(()=>{var l;class t{constructor(s,u){this.afAuth=s,this.renderer=u,this.email="",this.password="",this.errorMessage="",this.successMessage="",this.isRegistering=!1,this.isResettingPassword=!1}ngAfterViewInit(){this.showModal()}login(){var s=this;return(0,te.A)(function*(){try{yield s.afAuth.signInWithEmailAndPassword(s.email,s.password),s.successMessage="Login successful!",s.closeModal()}catch(u){s.errorMessage=u.message}})()}register(){var s=this;return(0,te.A)(function*(){try{yield s.afAuth.createUserWithEmailAndPassword(s.email,s.password),s.successMessage="Registration successful!",s.isRegistering=!1}catch(u){s.errorMessage=u.message}})()}resetPassword(){var s=this;return(0,te.A)(function*(){try{yield s.afAuth.sendPasswordResetEmail(s.email),s.successMessage="Password reset email sent!",s.isResettingPassword=!1}catch(u){s.errorMessage=u.message}})()}showModal(){const s=document.getElementById("loginModal");s?(this.renderer.setStyle(s,"display","block"),this.renderer.addClass(s,"show")):console.error("Modal element not found!")}closeModal(){const s=document.getElementById("loginModal");s&&(this.renderer.setStyle(s,"display","none"),this.renderer.removeClass(s,"show"))}toggleMode(s){"register"===s?(this.isRegistering=!0,this.isResettingPassword=!1):"reset"===s?(this.isResettingPassword=!0,this.isRegistering=!1):(this.isRegistering=!1,this.isResettingPassword=!1),this.errorMessage=""}}return(l=t).\u0275fac=function(s){return new(s||l)(H.rXU(Hn),H.rXU(H.sFG))},l.\u0275cmp=H.VBU({type:l,selectors:[["app-login-modal"]],decls:12,vars:8,consts:[["id","loginModal",1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngIf"],[3,"submit",4,"ngIf"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[3,"submit"],["for","email"],["type","email","id","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"link",3,"click"],[1,"error"],[1,"success"]],template:function(s,u){1&s&&(H.j41(0,"div",0)(1,"div",1)(2,"span",2),H.bIt("click",function(){return u.closeModal()}),H.EFF(3,"\xd7"),H.k0s(),H.DNE(4,Mr,2,0,"h2",3)(5,Fr,2,0,"h2",3)(6,Gn,2,0,"h2",3)(7,dr,19,2,"form",4)(8,nr,17,2,"form",4)(9,zr,11,1,"form",4)(10,Gt,2,1,"p",5)(11,St,2,1,"p",6),H.k0s()()),2&s&&(H.R7$(4),H.Y8G("ngIf",!u.isRegistering&&!u.isResettingPassword),H.R7$(),H.Y8G("ngIf",u.isRegistering),H.R7$(),H.Y8G("ngIf",u.isResettingPassword),H.R7$(),H.Y8G("ngIf",!u.isRegistering&&!u.isResettingPassword),H.R7$(),H.Y8G("ngIf",u.isRegistering),H.R7$(),H.Y8G("ngIf",u.isResettingPassword),H.R7$(),H.Y8G("ngIf",u.errorMessage),H.R7$(),H.Y8G("ngIf",u.successMessage))},dependencies:[Ae.bT,Nt.qT,Nt.me,Nt.BC,Nt.cb,Nt.YS,Nt.vS,Nt.cV],styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080;opacity:0;transition:opacity .3s ease}.modal.show[_ngcontent-%COMP%]{opacity:1}.modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:400px;border-radius:8px;text-align:center;animation:_ngcontent-%COMP%_slide-down .5s ease}@keyframes _ngcontent-%COMP%_slide-down{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}.close[_ngcontent-%COMP%]{float:right;font-size:28px;cursor:pointer}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:90%;padding:10px;margin:5px 0 15px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.link[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline;margin-top:10px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}.success[_ngcontent-%COMP%]{color:green;margin-top:10px}"]}),t})(),ft=(()=>{var l;class t{constructor(){}}return(l=t).\u0275fac=function(s){return new(s||l)},l.\u0275cmp=H.VBU({type:l,selectors:[["app-root"]],decls:3,vars:0,template:function(s,u){1&s&&(H.j41(0,"ion-app"),H.nrm(1,"app-login-modal")(2,"ion-router-outlet"),H.k0s())},dependencies:[f.U1,f.Rg,zt]}),t})();var hr=j(8136),fr=j(3236),Nn=j(9172),Bn=j(4360);function _r(){return(0,Se.N)((l,t)=>{let r,s=!1;l.subscribe((0,Bn._)(t,u=>{const p=r;r=u,s&&t.next([p,u]),s=!0}))})}var pr,$i,Er=j(2816),lr=j(3294),gr=j(9574),wr=j(2979),Ti=j(8779),mr=j(5398),ir=j(1401),sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mi={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(gt,$e,ot){ot||(ot=0);var It=Array(16);if("string"==typeof $e)for(var Tt=0;16>Tt;++Tt)It[Tt]=$e.charCodeAt(ot++)|$e.charCodeAt(ot++)<<8|$e.charCodeAt(ot++)<<16|$e.charCodeAt(ot++)<<24;else for(Tt=0;16>Tt;++Tt)It[Tt]=$e[ot++]|$e[ot++]<<8|$e[ot++]<<16|$e[ot++]<<24;var Vt=gt.g[3],nt=($e=gt.g[0])+(Vt^(ot=gt.g[1])&((Tt=gt.g[2])^Vt))+It[0]+3614090360&4294967295;nt=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=(ot=(Tt=(Vt=($e=ot+(nt<<7&4294967295|nt>>>25))+((nt=Vt+(Tt^$e&(ot^Tt))+It[1]+3905402710&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(ot^Vt&($e^ot))+It[2]+606105819&4294967295)<<17&4294967295|nt>>>15))+((nt=ot+($e^Tt&(Vt^$e))+It[3]+3250441966&4294967295)<<22&4294967295|nt>>>10))+((nt=$e+(Vt^ot&(Tt^Vt))+It[4]+4118548399&4294967295)<<7&4294967295|nt>>>25))+((nt=Vt+(Tt^$e&(ot^Tt))+It[5]+1200080426&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(ot^Vt&($e^ot))+It[6]+2821735955&4294967295)<<17&4294967295|nt>>>15))+((nt=ot+($e^Tt&(Vt^$e))+It[7]+4249261313&4294967295)<<22&4294967295|nt>>>10))+((nt=$e+(Vt^ot&(Tt^Vt))+It[8]+1770035416&4294967295)<<7&4294967295|nt>>>25))+((nt=Vt+(Tt^$e&(ot^Tt))+It[9]+2336552879&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(ot^Vt&($e^ot))+It[10]+4294925233&4294967295)<<17&4294967295|nt>>>15))+((nt=ot+($e^Tt&(Vt^$e))+It[11]+2304563134&4294967295)<<22&4294967295|nt>>>10))+((nt=$e+(Vt^ot&(Tt^Vt))+It[12]+1804603682&4294967295)<<7&4294967295|nt>>>25))+((nt=Vt+(Tt^$e&(ot^Tt))+It[13]+4254626195&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(ot^Vt&($e^ot))+It[14]+2792965006&4294967295)<<17&4294967295|nt>>>15))+((nt=ot+($e^Tt&(Vt^$e))+It[15]+1236535329&4294967295)<<22&4294967295|nt>>>10))+((nt=$e+(Tt^Vt&(ot^Tt))+It[1]+4129170786&4294967295)<<5&4294967295|nt>>>27))+((nt=Vt+(ot^Tt&($e^ot))+It[6]+3225465664&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+($e^ot&(Vt^$e))+It[11]+643717713&4294967295)<<14&4294967295|nt>>>18))+((nt=ot+(Vt^$e&(Tt^Vt))+It[0]+3921069994&4294967295)<<20&4294967295|nt>>>12))+((nt=$e+(Tt^Vt&(ot^Tt))+It[5]+3593408605&4294967295)<<5&4294967295|nt>>>27))+((nt=Vt+(ot^Tt&($e^ot))+It[10]+38016083&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+($e^ot&(Vt^$e))+It[15]+3634488961&4294967295)<<14&4294967295|nt>>>18))+((nt=ot+(Vt^$e&(Tt^Vt))+It[4]+3889429448&4294967295)<<20&4294967295|nt>>>12))+((nt=$e+(Tt^Vt&(ot^Tt))+It[9]+568446438&4294967295)<<5&4294967295|nt>>>27))+((nt=Vt+(ot^Tt&($e^ot))+It[14]+3275163606&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+($e^ot&(Vt^$e))+It[3]+4107603335&4294967295)<<14&4294967295|nt>>>18))+((nt=ot+(Vt^$e&(Tt^Vt))+It[8]+1163531501&4294967295)<<20&4294967295|nt>>>12))+((nt=$e+(Tt^Vt&(ot^Tt))+It[13]+2850285829&4294967295)<<5&4294967295|nt>>>27))+((nt=Vt+(ot^Tt&($e^ot))+It[2]+4243563512&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+($e^ot&(Vt^$e))+It[7]+1735328473&4294967295)<<14&4294967295|nt>>>18))+((nt=ot+(Vt^$e&(Tt^Vt))+It[12]+2368359562&4294967295)<<20&4294967295|nt>>>12))+((nt=$e+(ot^Tt^Vt)+It[5]+4294588738&4294967295)<<4&4294967295|nt>>>28))+((nt=Vt+($e^ot^Tt)+It[8]+2272392833&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Vt^$e^ot)+It[11]+1839030562&4294967295)<<16&4294967295|nt>>>16))+((nt=ot+(Tt^Vt^$e)+It[14]+4259657740&4294967295)<<23&4294967295|nt>>>9))+((nt=$e+(ot^Tt^Vt)+It[1]+2763975236&4294967295)<<4&4294967295|nt>>>28))+((nt=Vt+($e^ot^Tt)+It[4]+1272893353&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Vt^$e^ot)+It[7]+4139469664&4294967295)<<16&4294967295|nt>>>16))+((nt=ot+(Tt^Vt^$e)+It[10]+3200236656&4294967295)<<23&4294967295|nt>>>9))+((nt=$e+(ot^Tt^Vt)+It[13]+681279174&4294967295)<<4&4294967295|nt>>>28))+((nt=Vt+($e^ot^Tt)+It[0]+3936430074&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Vt^$e^ot)+It[3]+3572445317&4294967295)<<16&4294967295|nt>>>16))+((nt=ot+(Tt^Vt^$e)+It[6]+76029189&4294967295)<<23&4294967295|nt>>>9))+((nt=$e+(ot^Tt^Vt)+It[9]+3654602809&4294967295)<<4&4294967295|nt>>>28))+((nt=Vt+($e^ot^Tt)+It[12]+3873151461&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Vt^$e^ot)+It[15]+530742520&4294967295)<<16&4294967295|nt>>>16))+((nt=ot+(Tt^Vt^$e)+It[2]+3299628645&4294967295)<<23&4294967295|nt>>>9))+((nt=$e+(Tt^(ot|~Vt))+It[0]+4096336452&4294967295)<<6&4294967295|nt>>>26))+((nt=Vt+(ot^($e|~Tt))+It[7]+1126891415&4294967295)<<10&4294967295|nt>>>22))+((nt=Tt+($e^(Vt|~ot))+It[14]+2878612391&4294967295)<<15&4294967295|nt>>>17))+((nt=ot+(Vt^(Tt|~$e))+It[5]+4237533241&4294967295)<<21&4294967295|nt>>>11))+((nt=$e+(Tt^(ot|~Vt))+It[12]+1700485571&4294967295)<<6&4294967295|nt>>>26))+((nt=Vt+(ot^($e|~Tt))+It[3]+2399980690&4294967295)<<10&4294967295|nt>>>22))+((nt=Tt+($e^(Vt|~ot))+It[10]+4293915773&4294967295)<<15&4294967295|nt>>>17))+((nt=ot+(Vt^(Tt|~$e))+It[1]+2240044497&4294967295)<<21&4294967295|nt>>>11))+((nt=$e+(Tt^(ot|~Vt))+It[8]+1873313359&4294967295)<<6&4294967295|nt>>>26))+((nt=Vt+(ot^($e|~Tt))+It[15]+4264355552&4294967295)<<10&4294967295|nt>>>22))+((nt=Tt+($e^(Vt|~ot))+It[6]+2734768916&4294967295)<<15&4294967295|nt>>>17))+((nt=ot+(Vt^(Tt|~$e))+It[13]+1309151649&4294967295)<<21&4294967295|nt>>>11))+((Vt=($e=ot+((nt=$e+(Tt^(ot|~Vt))+It[4]+4149444226&4294967295)<<6&4294967295|nt>>>26))+((nt=Vt+(ot^($e|~Tt))+It[11]+3174756917&4294967295)<<10&4294967295|nt>>>22))^((Tt=Vt+((nt=Tt+($e^(Vt|~ot))+It[2]+718787259&4294967295)<<15&4294967295|nt>>>17))|~$e))+It[9]+3951481745&4294967295,gt.g[0]=gt.g[0]+$e&4294967295,gt.g[1]=gt.g[1]+(Tt+(nt<<21&4294967295|nt>>>11))&4294967295,gt.g[2]=gt.g[2]+Tt&4294967295,gt.g[3]=gt.g[3]+Vt&4294967295}function _(gt,$e){this.h=$e;for(var ot=[],It=!0,Tt=gt.length-1;0<=Tt;Tt--){var Vt=0|gt[Tt];It&&Vt==$e||(ot[Tt]=Vt,It=!1)}this.g=ot}(function t(gt,$e){function ot(){}ot.prototype=$e.prototype,gt.D=$e.prototype,gt.prototype=new ot,gt.prototype.constructor=gt,gt.C=function(It,Tt,Vt){for(var nt=Array(arguments.length-2),bu=2;bu<arguments.length;bu++)nt[bu-2]=arguments[bu];return $e.prototype[Tt].apply(It,nt)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(gt,$e){void 0===$e&&($e=gt.length);for(var ot=$e-this.blockSize,It=this.B,Tt=this.h,Vt=0;Vt<$e;){if(0==Tt)for(;Vt<=ot;)u(this,gt,Vt),Vt+=this.blockSize;if("string"==typeof gt){for(;Vt<$e;)if(It[Tt++]=gt.charCodeAt(Vt++),Tt==this.blockSize){u(this,It),Tt=0;break}}else for(;Vt<$e;)if(It[Tt++]=gt[Vt++],Tt==this.blockSize){u(this,It),Tt=0;break}}this.h=Tt,this.o+=$e},s.prototype.v=function(){var gt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);gt[0]=128;for(var $e=1;$e<gt.length-8;++$e)gt[$e]=0;var ot=8*this.o;for($e=gt.length-8;$e<gt.length;++$e)gt[$e]=255&ot,ot/=256;for(this.u(gt),gt=Array(16),$e=ot=0;4>$e;++$e)for(var It=0;32>It;It+=8)gt[ot++]=this.g[$e]>>>It&255;return gt};var w={};function x(gt){return-128<=gt&&128>gt?function p(gt,$e){var ot=w;return Object.prototype.hasOwnProperty.call(ot,gt)?ot[gt]:ot[gt]=$e(gt)}(gt,function($e){return new _([0|$e],0>$e?-1:0)}):new _([0|gt],0>gt?-1:0)}function X(gt){if(isNaN(gt)||!isFinite(gt))return Ie;if(0>gt)return pn(X(-gt));for(var $e=[],ot=1,It=0;gt>=ot;It++)$e[It]=gt/ot|0,ot*=4294967296;return new _($e,0)}var Ie=x(0),We=x(1),Dt=x(16777216);function cn(gt){if(0!=gt.h)return!1;for(var $e=0;$e<gt.g.length;$e++)if(0!=gt.g[$e])return!1;return!0}function In(gt){return-1==gt.h}function pn(gt){for(var $e=gt.g.length,ot=[],It=0;It<$e;It++)ot[It]=~gt.g[It];return new _(ot,~gt.h).add(We)}function Vn(gt,$e){return gt.add(pn($e))}function rr(gt,$e){for(;(65535&gt[$e])!=gt[$e];)gt[$e+1]+=gt[$e]>>>16,gt[$e]&=65535,$e++}function tr(gt,$e){this.g=gt,this.h=$e}function Zn(gt,$e){if(cn($e))throw Error("division by zero");if(cn(gt))return new tr(Ie,Ie);if(In(gt))return $e=Zn(pn(gt),$e),new tr(pn($e.g),pn($e.h));if(In($e))return $e=Zn(gt,pn($e)),new tr(pn($e.g),$e.h);if(30<gt.g.length){if(In(gt)||In($e))throw Error("slowDivide_ only works with positive integers.");for(var ot=We,It=$e;0>=It.l(gt);)ot=Kr(ot),It=Kr(It);var Tt=Dr(ot,1),Vt=Dr(It,1);for(It=Dr(It,2),ot=Dr(ot,2);!cn(It);){var nt=Vt.add(It);0>=nt.l(gt)&&(Tt=Tt.add(ot),Vt=nt),It=Dr(It,1),ot=Dr(ot,1)}return $e=Vn(gt,Tt.j($e)),new tr(Tt,$e)}for(Tt=Ie;0<=gt.l($e);){for(ot=Math.max(1,Math.floor(gt.m()/$e.m())),It=48>=(It=Math.ceil(Math.log(ot)/Math.LN2))?1:Math.pow(2,It-48),nt=(Vt=X(ot)).j($e);In(nt)||0<nt.l(gt);)nt=(Vt=X(ot-=It)).j($e);cn(Vt)&&(Vt=We),Tt=Tt.add(Vt),gt=Vn(gt,nt)}return new tr(Tt,gt)}function Kr(gt){for(var $e=gt.g.length+1,ot=[],It=0;It<$e;It++)ot[It]=gt.i(It)<<1|gt.i(It-1)>>>31;return new _(ot,gt.h)}function Dr(gt,$e){var ot=$e>>5;$e%=32;for(var It=gt.g.length-ot,Tt=[],Vt=0;Vt<It;Vt++)Tt[Vt]=0<$e?gt.i(Vt+ot)>>>$e|gt.i(Vt+ot+1)<<32-$e:gt.i(Vt+ot);return new _(Tt,gt.h)}(l=_.prototype).m=function(){if(In(this))return-pn(this).m();for(var gt=0,$e=1,ot=0;ot<this.g.length;ot++){var It=this.i(ot);gt+=(0<=It?It:4294967296+It)*$e,$e*=4294967296}return gt},l.toString=function(gt){if(2>(gt=gt||10)||36<gt)throw Error("radix out of range: "+gt);if(cn(this))return"0";if(In(this))return"-"+pn(this).toString(gt);for(var $e=X(Math.pow(gt,6)),ot=this,It="";;){var Tt=Zn(ot,$e).g,Vt=((0<(ot=Vn(ot,Tt.j($e))).g.length?ot.g[0]:ot.h)>>>0).toString(gt);if(cn(ot=Tt))return Vt+It;for(;6>Vt.length;)Vt="0"+Vt;It=Vt+It}},l.i=function(gt){return 0>gt?0:gt<this.g.length?this.g[gt]:this.h},l.l=function(gt){return In(gt=Vn(this,gt))?-1:cn(gt)?0:1},l.abs=function(){return In(this)?pn(this):this},l.add=function(gt){for(var $e=Math.max(this.g.length,gt.g.length),ot=[],It=0,Tt=0;Tt<=$e;Tt++){var Vt=It+(65535&this.i(Tt))+(65535&gt.i(Tt)),nt=(Vt>>>16)+(this.i(Tt)>>>16)+(gt.i(Tt)>>>16);It=nt>>>16,ot[Tt]=(nt&=65535)<<16|(Vt&=65535)}return new _(ot,-2147483648&ot[ot.length-1]?-1:0)},l.j=function(gt){if(cn(this)||cn(gt))return Ie;if(In(this))return In(gt)?pn(this).j(pn(gt)):pn(pn(this).j(gt));if(In(gt))return pn(this.j(pn(gt)));if(0>this.l(Dt)&&0>gt.l(Dt))return X(this.m()*gt.m());for(var $e=this.g.length+gt.g.length,ot=[],It=0;It<2*$e;It++)ot[It]=0;for(It=0;It<this.g.length;It++)for(var Tt=0;Tt<gt.g.length;Tt++){var Vt=this.i(It)>>>16,nt=65535&this.i(It),bu=gt.i(Tt)>>>16,Tf=65535&gt.i(Tt);ot[2*It+2*Tt]+=nt*Tf,rr(ot,2*It+2*Tt),ot[2*It+2*Tt+1]+=Vt*Tf,rr(ot,2*It+2*Tt+1),ot[2*It+2*Tt+1]+=nt*bu,rr(ot,2*It+2*Tt+1),ot[2*It+2*Tt+2]+=Vt*bu,rr(ot,2*It+2*Tt+2)}for(It=0;It<$e;It++)ot[It]=ot[2*It+1]<<16|ot[2*It];for(It=$e;It<2*$e;It++)ot[It]=0;return new _(ot,0)},l.A=function(gt){return Zn(this,gt).h},l.and=function(gt){for(var $e=Math.max(this.g.length,gt.g.length),ot=[],It=0;It<$e;It++)ot[It]=this.i(It)&gt.i(It);return new _(ot,this.h&gt.h)},l.or=function(gt){for(var $e=Math.max(this.g.length,gt.g.length),ot=[],It=0;It<$e;It++)ot[It]=this.i(It)|gt.i(It);return new _(ot,this.h|gt.h)},l.xor=function(gt){for(var $e=Math.max(this.g.length,gt.g.length),ot=[],It=0;It<$e;It++)ot[It]=this.i(It)^gt.i(It);return new _(ot,this.h^gt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$i=Mi.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=X,_.fromString=function ae(gt,$e){if(0==gt.length)throw Error("number format error: empty string");if(2>($e=$e||10)||36<$e)throw Error("radix out of range: "+$e);if("-"==gt.charAt(0))return pn(ae(gt.substring(1),$e));if(0<=gt.indexOf("-"))throw Error('number format error: interior "-" character');for(var ot=X(Math.pow($e,8)),It=Ie,Tt=0;Tt<gt.length;Tt+=8){var Vt=Math.min(8,gt.length-Tt),nt=parseInt(gt.substring(Tt,Tt+Vt),$e);8>Vt?(Vt=X(Math.pow($e,Vt)),It=It.j(Vt).add(X(nt))):It=(It=It.j(ot)).add(X(nt))}return It},pr=Mi.Integer=_}).apply(typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{});var Pi,Rt,st,kt,Qe,Je,sn,ve,ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={};(function(){var l,t="function"==typeof Object.defineProperties?Object.defineProperty:function(v,L,Y){return v==Array.prototype||v==Object.prototype||(v[L]=Y.value),v},s=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ai&&ai];for(var L=0;L<v.length;++L){var Y=v[L];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function u(v,L){if(L)e:{var Y=s;v=v.split(".");for(var pe=0;pe<v.length-1;pe++){var xt=v[pe];if(!(xt in Y))break e;Y=Y[xt]}(L=L(pe=Y[v=v[v.length-1]]))!=pe&&null!=L&&t(Y,v,{configurable:!0,writable:!0,value:L})}}("Array.prototype.values",function(v){return v||function(){return function p(v,L){v instanceof String&&(v+="");var Y=0,pe=!1,xt={next:function(){if(!pe&&Y<v.length){var Zt=Y++;return{value:L(Zt,v[Zt]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return xt[Symbol.iterator]=function(){return xt},xt}(this,function(L,Y){return Y})}});var _=_||{},w=this||self;function x(v){var L=typeof v;return"array"==(L="object"!=L?L:v?Array.isArray(v)?"array":L:"null")||"object"==L&&"number"==typeof v.length}function X(v){var L=typeof v;return"object"==L&&null!=v||"function"==L}function ae(v,L,Y){return v.call.apply(v.bind,arguments)}function Ie(v,L,Y){if(!v)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var xt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xt,pe),v.apply(L,xt)}}return function(){return v.apply(L,arguments)}}function We(v,L,Y){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ae:Ie).apply(null,arguments)}function Dt(v,L){var Y=Array.prototype.slice.call(arguments,1);return function(){var pe=Y.slice();return pe.push.apply(pe,arguments),v.apply(this,pe)}}function cn(v,L){function Y(){}Y.prototype=L.prototype,v.aa=L.prototype,v.prototype=new Y,v.prototype.constructor=v,v.Qb=function(pe,xt,Zt){for(var zn=Array(arguments.length-2),Co=2;Co<arguments.length;Co++)zn[Co-2]=arguments[Co];return L.prototype[xt].apply(pe,zn)}}function In(v){const L=v.length;if(0<L){const Y=Array(L);for(let pe=0;pe<L;pe++)Y[pe]=v[pe];return Y}return[]}function pn(v,L){for(let Y=1;Y<arguments.length;Y++){const pe=arguments[Y];if(x(pe)){const xt=v.length||0,Zt=pe.length||0;v.length=xt+Zt;for(let zn=0;zn<Zt;zn++)v[xt+zn]=pe[zn]}else v.push(pe)}}function rr(v){return/^[\s\xa0]*$/.test(v)}function tr(){var v=w.navigator;return v&&(v=v.userAgent)?v:""}function Zn(v){return Zn[" "](v),v}Zn[" "]=function(){};var Kr=!(-1==tr().indexOf("Gecko")||-1!=tr().toLowerCase().indexOf("webkit")&&-1==tr().indexOf("Edge")||-1!=tr().indexOf("Trident")||-1!=tr().indexOf("MSIE")||-1!=tr().indexOf("Edge"));function Dr(v,L,Y){for(const pe in v)L.call(Y,v[pe],pe,v)}function $e(v){const L={};for(const Y in v)L[Y]=v[Y];return L}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function It(v,L){let Y,pe;for(let xt=1;xt<arguments.length;xt++){for(Y in pe=arguments[xt],pe)v[Y]=pe[Y];for(let Zt=0;Zt<ot.length;Zt++)Y=ot[Zt],Object.prototype.hasOwnProperty.call(pe,Y)&&(v[Y]=pe[Y])}}function Tt(v){var L=1;v=v.split(":");const Y=[];for(;0<L&&v.length;)Y.push(v.shift()),L--;return v.length&&Y.push(v.join(":")),Y}function Vt(v){w.setTimeout(()=>{throw v},0)}function nt(){var v=wv;let L=null;return v.g&&(L=v.g,v.g=v.g.next,v.g||(v.h=null),L.next=null),L}var Tf=new class Vn{constructor(L,Y){this.i=L,this.j=Y,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}(()=>new bf,v=>v.reset());class bf{constructor(){this.next=this.g=this.h=null}set(L,Y){this.h=L,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Df,wf=!1,wv=new class bu{constructor(){this.h=this.g=null}add(L,Y){const pe=Tf.get();pe.set(L,Y),this.h?this.h.next=pe:this.g=pe,this.h=pe}},Sf=()=>{const v=w.Promise.resolve(void 0);Df=()=>{v.then(Uy)}};var Uy=()=>{for(var v;v=nt();){try{v.h.call(v.g)}catch(Y){Vt(Y)}var L=Tf;L.j(v),100>L.h&&(L.h++,v.next=L.g,L.g=v)}wf=!1};function Du(){this.s=this.s,this.C=this.C}function Vs(v,L){this.type=v,this.g=this.target=L,this.defaultPrevented=!1}Du.prototype.s=!1,Du.prototype.ma=function(){this.s||(this.s=!0,this.N())},Du.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Vs.prototype.h=function(){this.defaultPrevented=!0};var eE=function(){if(!w.addEventListener||!Object.defineProperty)return!1;var v=!1,L=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const Y=()=>{};w.addEventListener("test",Y,L),w.removeEventListener("test",Y,L)}catch{}return v}();function lh(v,L){if(Vs.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var Y=this.type=v.type,pe=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=L,L=v.relatedTarget){if(Kr){e:{try{Zn(L.nodeName);var xt=!0;break e}catch{}xt=!1}xt||(L=null)}}else"mouseover"==Y?L=v.fromElement:"mouseout"==Y&&(L=v.toElement);this.relatedTarget=L,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Sv[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&lh.aa.h.call(this)}}cn(lh,Vs);var Sv={2:"touch",3:"pen",4:"mouse"};lh.prototype.h=function(){lh.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var gc="closure_listenable_"+(1e6*Math.random()|0),tE=0;function nE(v,L,Y,pe,xt){this.listener=v,this.proxy=null,this.src=L,this.type=Y,this.capture=!!pe,this.ha=xt,this.key=++tE,this.da=this.fa=!1}function gg(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function mg(v){this.src=v,this.g={},this.h=0}function Rv(v,L){var Y=L.type;if(Y in v.g){var Zt,pe=v.g[Y],xt=Array.prototype.indexOf.call(pe,L,void 0);(Zt=0<=xt)&&Array.prototype.splice.call(pe,xt,1),Zt&&(gg(L),0==v.g[Y].length&&(delete v.g[Y],v.h--))}}function Mv(v,L,Y,pe){for(var xt=0;xt<v.length;++xt){var Zt=v[xt];if(!Zt.da&&Zt.listener==L&&Zt.capture==!!Y&&Zt.ha==pe)return xt}return-1}mg.prototype.add=function(v,L,Y,pe,xt){var Zt=v.toString();(v=this.g[Zt])||(v=this.g[Zt]=[],this.h++);var zn=Mv(v,L,pe,xt);return-1<zn?(L=v[zn],Y||(L.fa=!1)):((L=new nE(L,this.src,Zt,!!pe,xt)).fa=Y,v.push(L)),L};var Rf="closure_lm_"+(1e6*Math.random()|0),nd={};function Pv(v,L,Y,pe,xt){if(pe&&pe.once)return uh(v,L,Y,pe,xt);if(Array.isArray(L)){for(var Zt=0;Zt<L.length;Zt++)Pv(v,L[Zt],Y,pe,xt);return null}return Y=vg(Y),v&&v[gc]?v.K(L,Y,X(pe)?!!pe.capture:!!pe,xt):xv(v,L,Y,!1,pe,xt)}function xv(v,L,Y,pe,xt,Zt){if(!L)throw Error("Invalid event type");var zn=X(xt)?!!xt.capture:!!xt,Co=Pf(v);if(Co||(v[Rf]=Co=new mg(v)),(Y=Co.add(L,Y,pe,zn,Zt)).proxy)return Y;if(pe=function rE(){const L=jy;return function v(Y){return L.call(v.src,v.listener,Y)}}(),Y.proxy=pe,pe.src=v,pe.listener=Y,v.addEventListener)eE||(xt=zn),void 0===xt&&(xt=!1),v.addEventListener(L.toString(),pe,xt);else if(v.attachEvent)v.attachEvent($y(L.toString()),pe);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(pe)}return Y}function uh(v,L,Y,pe,xt){if(Array.isArray(L)){for(var Zt=0;Zt<L.length;Zt++)uh(v,L[Zt],Y,pe,xt);return null}return Y=vg(Y),v&&v[gc]?v.L(L,Y,X(pe)?!!pe.capture:!!pe,xt):xv(v,L,Y,!0,pe,xt)}function Mf(v,L,Y,pe,xt){if(Array.isArray(L))for(var Zt=0;Zt<L.length;Zt++)Mf(v,L[Zt],Y,pe,xt);else pe=X(pe)?!!pe.capture:!!pe,Y=vg(Y),v&&v[gc]?(v=v.i,(L=String(L).toString())in v.g&&-1<(Y=Mv(Zt=v.g[L],Y,pe,xt))&&(gg(Zt[Y]),Array.prototype.splice.call(Zt,Y,1),0==Zt.length&&(delete v.g[L],v.h--))):v&&(v=Pf(v))&&(L=v.g[L.toString()],v=-1,L&&(v=Mv(L,Y,pe,xt)),(Y=-1<v?L[v]:null)&&By(Y))}function By(v){if("number"!=typeof v&&v&&!v.da){var L=v.src;if(L&&L[gc])Rv(L.i,v);else{var Y=v.type,pe=v.proxy;L.removeEventListener?L.removeEventListener(Y,pe,v.capture):L.detachEvent?L.detachEvent($y(Y),pe):L.addListener&&L.removeListener&&L.removeListener(pe),(Y=Pf(L))?(Rv(Y,v),0==Y.h&&(Y.src=null,L[Rf]=null)):gg(v)}}}function $y(v){return v in nd?nd[v]:nd[v]="on"+v}function jy(v,L){if(v.da)v=!0;else{L=new lh(L,this);var Y=v.listener,pe=v.ha||v.src;v.fa&&By(v),v=Y.call(pe,L)}return v}function Pf(v){return(v=v[Rf])instanceof mg?v:null}var Nv="__closure_events_fn_"+(1e9*Math.random()>>>0);function vg(v){return"function"==typeof v?v:(v[Nv]||(v[Nv]=function(L){return v.handleEvent(L)}),v[Nv])}function Ys(){Du.call(this),this.i=new mg(this),this.M=this,this.F=null}function Zs(v,L){var Y,pe=v.F;if(pe)for(Y=[];pe;pe=pe.F)Y.push(pe);if(v=v.M,pe=L.type||L,"string"==typeof L)L=new Vs(L,v);else if(L instanceof Vs)L.target=L.target||v;else{var xt=L;It(L=new Vs(pe,v),xt)}if(xt=!0,Y)for(var Zt=Y.length-1;0<=Zt;Zt--){var zn=L.g=Y[Zt];xt=xf(zn,pe,!0,L)&&xt}if(xt=xf(zn=L.g=v,pe,!0,L)&&xt,xt=xf(zn,pe,!1,L)&&xt,Y)for(Zt=0;Zt<Y.length;Zt++)xt=xf(zn=L.g=Y[Zt],pe,!1,L)&&xt}function xf(v,L,Y,pe){if(!(L=v.i.g[String(L)]))return!0;L=L.concat();for(var xt=!0,Zt=0;Zt<L.length;++Zt){var zn=L[Zt];if(zn&&!zn.da&&zn.capture==Y){var Co=zn.listener,Js=zn.ha||zn.src;zn.fa&&Rv(v.i,zn),xt=!1!==Co.call(Js,pe)&&xt}}return xt&&!pe.defaultPrevented}function Ov(v,L,Y){if("function"==typeof v)Y&&(v=We(v,Y));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=We(v.handleEvent,v)}return 2147483647<Number(L)?-1:w.setTimeout(v,L||0)}function _g(v){v.g=Ov(()=>{v.g=null,v.i&&(v.i=!1,_g(v))},v.l);const L=v.h;v.h=null,v.m.apply(null,L)}cn(Ys,Du),Ys.prototype[gc]=!0,Ys.prototype.removeEventListener=function(v,L,Y,pe){Mf(this,v,L,Y,pe)},Ys.prototype.N=function(){if(Ys.aa.N.call(this),this.i){var L,v=this.i;for(L in v.g){for(var Y=v.g[L],pe=0;pe<Y.length;pe++)gg(Y[pe]);delete v.g[L],v.h--}}this.F=null},Ys.prototype.K=function(v,L,Y,pe){return this.i.add(String(v),L,!1,Y,pe)},Ys.prototype.L=function(v,L,Y,pe){return this.i.add(String(v),L,!0,Y,pe)};class iE extends Du{constructor(L,Y){super(),this.m=L,this.l=Y,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:_g(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nf(v){Du.call(this),this.h=v,this.g={}}cn(Nf,Du);var Hy=[];function zy(v){Dr(v.g,function(L,Y){this.g.hasOwnProperty(Y)&&By(L)},v),v.g={}}Nf.prototype.N=function(){Nf.aa.N.call(this),zy(this)},Nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kv=w.JSON.stringify,oE=w.JSON.parse,Fv=class{stringify(v){return w.JSON.stringify(v,void 0)}parse(v){return w.JSON.parse(v,void 0)}};function Lv(){}function Wy(){}Lv.prototype.h=null;var wl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rd(){Vs.call(this,"d")}function Of(){Vs.call(this,"c")}cn(rd,Vs),cn(Of,Vs);var wu={},Ky=null;function Su(){return Ky=Ky||new Ys}function Vv(v){Vs.call(this,wu.La,v)}function kf(v){const L=Su();Zs(L,new Vv(L))}function qy(v,L){Vs.call(this,wu.STAT_EVENT,v),this.stat=L}function ha(v){const L=Su();Zs(L,new qy(L,v))}function Xy(v,L){Vs.call(this,wu.Ma,v),this.size=L}function Ff(v,L){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){v()},L)}function ch(){this.g=!0}function Ru(v,L,Y,pe){v.info(function(){return"XMLHTTP TEXT ("+L+"): "+function lE(v,L){if(!v.g)return L;if(!L)return null;try{var Y=JSON.parse(L);if(Y)for(v=0;v<Y.length;v++)if(Array.isArray(Y[v])){var pe=Y[v];if(!(2>pe.length)){var xt=pe[1];if(Array.isArray(xt)&&!(1>xt.length)){var Zt=xt[0];if("noop"!=Zt&&"stop"!=Zt&&"close"!=Zt)for(var zn=1;zn<xt.length;zn++)xt[zn]=""}}}return kv(Y)}catch{return L}}(v,Y)+(pe?" "+pe:"")})}wu.La="serverreachability",cn(Vv,Vs),wu.STAT_EVENT="statevent",cn(qy,Vs),wu.Ma="timingevent",cn(Xy,Vs),ch.prototype.xa=function(){this.g=!1},ch.prototype.info=function(){};var Uv,Lf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ql(){}function $a(v,L,Y,pe){this.j=v,this.i=L,this.l=Y,this.R=pe||1,this.U=new Nf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dh}function dh(){this.i=null,this.g="",this.h=!1}cn(Ql,Lv),Ql.prototype.g=function(){return new XMLHttpRequest},Ql.prototype.i=function(){return{}},Uv=new Ql;var uE={},yg={};function Vf(v,L,Y){v.L=1,v.v=Ag(ol(L)),v.m=Y,v.P=!0,Zy(v,null)}function Zy(v,L){v.F=Date.now(),Uf(v),v.A=ol(v.v);var Y=v.A,pe=v.R;Array.isArray(pe)||(pe=[String(pe)]),Tg(Y.i,"t",pe),v.C=0,Y=v.j.J,v.h=new dh,v.g=DE(v.j,Y?L:null,!v.m),0<v.O&&(v.M=new iE(We(v.Y,v,v.g),v.O)),L=v.U,Y=v.g,pe=v.ca;var xt="readystatechange";Array.isArray(xt)||(xt&&(Hy[0]=xt.toString()),xt=Hy);for(var Zt=0;Zt<xt.length;Zt++){var zn=Pv(Y,xt[Zt],pe||L.handleEvent,!1,L.h||L);if(!zn)break;L.g[zn.key]=zn}L=v.H?$e(v.H):{},v.m?(v.u||(v.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,L)):(v.u="GET",v.g.ea(v.A,v.u,null,L)),kf(),function sE(v,L,Y,pe,xt,Zt){v.info(function(){if(v.g)if(Zt)for(var zn="",Co=Zt.split("&"),Js=0;Js<Co.length;Js++){var Gi=Co[Js].split("=");if(1<Gi.length){var ea=Gi[0];Gi=Gi[1];var ts=ea.split("_");zn=2<=ts.length&&"type"==ts[1]?zn+(ea+"=")+Gi+"&":zn+(ea+"=redacted&")}}else zn=null;else zn=Zt;return"XMLHTTP REQ ("+pe+") [attempt "+xt+"]: "+L+"\n"+Y+"\n"+zn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Bv(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function cE(v,L){var Y=v.C,pe=L.indexOf("\n",Y);return-1==pe?yg:(Y=Number(L.substring(Y,pe)),isNaN(Y)?uE:(pe+=1)+Y>L.length?yg:(L=L.slice(pe,pe+Y),v.C=pe+Y,L))}function Uf(v){v.S=Date.now()+v.I,dE(v,v.I)}function dE(v,L){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Ff(We(v.ba,v),L)}function $v(v){v.B&&(w.clearTimeout(v.B),v.B=null)}function Mu(v){0==v.j.G||v.J||t_(v.j,v)}function Pu(v){$v(v);var L=v.M;L&&"function"==typeof L.ma&&L.ma(),v.M=null,zy(v.U),v.g&&(L=v.g,v.g=null,L.abort(),L.ma())}function jv(v,L){try{var Y=v.j;if(0!=Y.G&&(Y.g==v||hh(Y.h,v)))if(!v.K&&hh(Y.h,v)&&3==Y.G){try{var pe=Y.Da.g.parse(L)}catch{pe=null}if(Array.isArray(pe)&&3==pe.length){var xt=pe;if(0==xt[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<v.F))break e;Yf(Y),Xf(Y)}Mg(Y),ha(18)}}else Y.za=xt[1],0<Y.za-Y.T&&37500>xt[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=Ff(We(Y.Za,Y),6e3));if(1>=xu(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else sd(Y,11)}else if((v.K||Y.g==v)&&Yf(Y),!rr(L))for(xt=Y.Da.g.parse(L),L=0;L<xt.length;L++){let Gi=xt[L];if(Y.T=Gi[0],Gi=Gi[1],2==Y.G)if("c"==Gi[0]){Y.K=Gi[1],Y.ia=Gi[2];const ea=Gi[3];null!=ea&&(Y.la=ea,Y.j.info("VER="+Y.la));const ts=Gi[4];null!=ts&&(Y.Aa=ts,Y.j.info("SVER="+Y.Aa));const Zl=Gi[5];null!=Zl&&"number"==typeof Zl&&0<Zl&&(Y.L=pe=1.5*Zl,Y.j.info("backChannelRequestTimeoutMs_="+pe)),pe=Y;const Sl=v.g;if(Sl){const i_=Sl.g?Sl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(i_){var Zt=pe.h;Zt.g||-1==i_.indexOf("spdy")&&-1==i_.indexOf("quic")&&-1==i_.indexOf("h2")||(Zt.j=Zt.l,Zt.g=new Set,Zt.h&&(Eg(Zt,Zt.h),Zt.h=null))}if(pe.D){const Pg=Sl.g?Sl.g.getResponseHeader("X-HTTP-Session-Id"):null;Pg&&(pe.ya=Pg,eo(pe.I,pe.D,Pg))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-v.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var zn=v;if((pe=Y).qa=bE(pe,pe.J?pe.ia:null,pe.W),zn.K){fh(pe.h,zn);var Co=zn,Js=pe.L;Js&&(Co.I=Js),Co.B&&($v(Co),Uf(Co)),pe.g=zn}else Jv(pe);0<Y.i.length&&Rs(Y)}else"stop"!=Gi[0]&&"close"!=Gi[0]||sd(Y,7);else 3==Y.G&&("stop"==Gi[0]||"close"==Gi[0]?"stop"==Gi[0]?sd(Y,7):qf(Y):"noop"!=Gi[0]&&Y.l&&Y.l.ta(Gi),Y.v=0)}kf()}catch{}}$a.prototype.ca=function(v){v=v.target;const L=this.M;L&&3==Yl(v)?L.j():this.Y(v)},$a.prototype.Y=function(v){try{if(v==this.g)e:{const ts=Yl(this.g);var L=this.g.Ba();if(this.g.Z(),!(3>ts)&&(3!=ts||this.g&&(this.h.h||this.g.oa()||Qv(this.g)))){this.J||4!=ts||7==L||kf(),$v(this);var Y=this.g.Z();this.X=Y;t:if(Bv(this)){var pe=Qv(this.g);v="";var xt=pe.length,Zt=4==Yl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pu(this),Mu(this);var zn="";break t}this.h.i=new w.TextDecoder}for(L=0;L<xt;L++)this.h.h=!0,v+=this.h.i.decode(pe[L],{stream:!(Zt&&L==xt-1)});pe.length=0,this.h.g+=v,this.C=0,zn=this.h.g}else zn=this.g.oa();if(this.o=200==Y,function Qy(v,L,Y,pe,xt,Zt,zn){v.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+xt+"]: "+L+"\n"+Y+"\n"+Zt+" "+zn})}(this.i,this.u,this.A,this.l,this.R,ts,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Co,Js=this.g;if((Co=Js.g?Js.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(Co)){var Gi=Co;break t}}Gi=null}if(!(Y=Gi)){this.o=!1,this.s=3,ha(12),Pu(this),Mu(this);break e}Ru(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jv(this,Y)}if(this.P){let Sl;for(Y=!0;!this.J&&this.C<zn.length;){if(Sl=cE(this,zn),Sl==yg){4==ts&&(this.s=4,ha(14),Y=!1),Ru(this.i,this.l,null,"[Incomplete Response]");break}if(Sl==uE){this.s=4,ha(15),Ru(this.i,this.l,zn,"[Invalid Chunk]"),Y=!1;break}Ru(this.i,this.l,Sl,null),jv(this,Sl)}if(Bv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ts||0!=zn.length||this.h.h||(this.s=1,ha(16),Y=!1),this.o=this.o&&Y,Y){if(0<zn.length&&!this.W){this.W=!0;var ea=this.j;ea.g==this&&ea.ba&&!ea.M&&(ea.j.info("Great, no buffering proxy detected. Bytes received: "+zn.length),Qf(ea),ea.M=!0,ha(11))}}else Ru(this.i,this.l,zn,"[Invalid Chunked Response]"),Pu(this),Mu(this)}else Ru(this.i,this.l,zn,null),jv(this,zn);4==ts&&Pu(this),this.o&&!this.J&&(4==ts?t_(this.j,this):(this.o=!1,Uf(this)))}else(function AE(v){const L={};v=(v.g&&2<=Yl(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let pe=0;pe<v.length;pe++){if(rr(v[pe]))continue;var Y=Tt(v[pe]);const xt=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const Zt=L[xt]||[];L[xt]=Zt,Zt.push(Y)}!function gt(v,L){for(const Y in v)L.call(void 0,v[Y],Y,v)}(L,function(pe){return pe.join(", ")})})(this.g),400==Y&&0<zn.indexOf("Unknown SID")?(this.s=3,ha(12)):(this.s=0,ha(13)),Pu(this),Mu(this)}}}catch{}},$a.prototype.cancel=function(){this.J=!0,Pu(this)},$a.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function aE(v,L){v.info(function(){return"TIMEOUT: "+L})}(this.i,this.A),2!=this.L&&(kf(),ha(17)),Pu(this),this.s=2,Mu(this)):dE(this,this.S-v)};var hE=class{constructor(v,L){this.g=v,this.map=L}};function Jy(v){this.l=v||10,v=w.PerformanceNavigationTiming?0<(v=w.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ig(v){return!!v.h||!!v.g&&v.g.size>=v.j}function xu(v){return v.h?1:v.g?v.g.size:0}function hh(v,L){return v.h?v.h==L:!!v.g&&v.g.has(L)}function Eg(v,L){v.g?v.g.add(L):v.h=L}function fh(v,L){v.h&&v.h==L?v.h=null:v.g&&v.g.has(L)&&v.g.delete(L)}function e0(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let L=v.i;for(const Y of v.g.values())L=L.concat(Y.D);return L}return In(v.i)}function zv(v,L){if(v.forEach&&"function"==typeof v.forEach)v.forEach(L,void 0);else if(x(v)||"string"==typeof v)Array.prototype.forEach.call(v,L,void 0);else for(var Y=function Hv(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(x(v)||"string"==typeof v){var L=[];v=v.length;for(var Y=0;Y<v;Y++)L.push(Y);return L}L=[],Y=0;for(const pe in v)L[Y++]=pe;return L}}}(v),pe=function fE(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(x(v)){for(var L=[],Y=v.length,pe=0;pe<Y;pe++)L.push(v[pe]);return L}for(pe in L=[],Y=0,v)L[Y++]=v[pe];return L}(v),xt=pe.length,Zt=0;Zt<xt;Zt++)L.call(void 0,pe[Zt],Y&&Y[Zt],v)}Jy.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof ph){this.h=v.h,$f(this,v.j),this.o=v.o,this.g=v.g,jf(this,v.s),this.l=v.l;var L=v.i,Y=new Gf;Y.i=L.i,L.g&&(Y.g=new Map(L.g),Y.h=L.h),t0(this,Y),this.m=v.m}else v&&(L=String(v).match(Nu))?(this.h=!1,$f(this,L[1]||"",!0),this.o=Hf(L[2]||""),this.g=Hf(L[3]||"",!0),jf(this,L[4]),this.l=Hf(L[5]||"",!0),t0(this,L[6]||"",!0),this.m=Hf(L[7]||"")):(this.h=!1,this.i=new Gf(null,this.h))}function ol(v){return new ph(v)}function $f(v,L,Y){v.j=Y?Hf(L,!0):L,v.j&&(v.j=v.j.replace(/:$/,""))}function jf(v,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);v.s=L}else v.s=null}function t0(v,L,Y){L instanceof Gf?(v.i=L,function _E(v,L){L&&!v.j&&(mc(v),v.i=null,v.g.forEach(function(Y,pe){var xt=pe.toLowerCase();pe!=xt&&(Gv(this,pe),Tg(this,xt,Y))},v)),v.j=L}(v.i,v.h)):(Y||(L=zf(L,vE)),v.i=new Gf(L,v.h))}function eo(v,L,Y){v.i.set(L,Y)}function Ag(v){return eo(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Hf(v,L){return v?L?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function zf(v,L,Y){return"string"==typeof v?(v=encodeURI(v).replace(L,pE),Y&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function pE(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}ph.prototype.toString=function(){var v=[],L=this.j;L&&v.push(zf(L,n0,!0),":");var Y=this.g;return(Y||"file"==L)&&(v.push("//"),(L=this.o)&&v.push(zf(L,n0,!0),"@"),v.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&v.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&v.push("/"),v.push(zf(Y,"/"==Y.charAt(0)?mE:gE,!0))),(Y=this.i.toString())&&v.push("?",Y),(Y=this.m)&&v.push("#",zf(Y,Cg)),v.join("")};var n0=/[#\/\?@]/g,gE=/[#\?:]/g,mE=/[#\?]/g,vE=/[#\?@]/g,Cg=/#/g;function Gf(v,L){this.h=this.g=null,this.i=v||null,this.j=!!L}function mc(v){v.g||(v.g=new Map,v.h=0,v.i&&function Bf(v,L){if(v){v=v.split("&");for(var Y=0;Y<v.length;Y++){var pe=v[Y].indexOf("="),xt=null;if(0<=pe){var Zt=v[Y].substring(0,pe);xt=v[Y].substring(pe+1)}else Zt=v[Y];L(Zt,xt?decodeURIComponent(xt.replace(/\+/g," ")):"")}}}(v.i,function(L,Y){v.add(decodeURIComponent(L.replace(/\+/g," ")),Y)}))}function Gv(v,L){mc(v),L=id(v,L),v.g.has(L)&&(v.i=null,v.h-=v.g.get(L).length,v.g.delete(L))}function Wv(v,L){return mc(v),L=id(v,L),v.g.has(L)}function Tg(v,L,Y){Gv(v,L),0<Y.length&&(v.i=null,v.g.set(id(v,L),In(Y)),v.h+=Y.length)}function id(v,L){return L=String(L),v.j&&(L=L.toLowerCase()),L}function Ou(v,L,Y,pe,xt){try{xt&&(xt.onload=null,xt.onerror=null,xt.onabort=null,xt.ontimeout=null),pe(Y)}catch{}}function o0(){this.g=new Fv}function yE(v,L,Y){const pe=Y||"";try{zv(v,function(xt,Zt){let zn=xt;X(xt)&&(zn=kv(xt)),L.push(pe+Zt+"="+encodeURIComponent(zn))})}catch(xt){throw L.push(pe+"type="+encodeURIComponent("_badmap")),xt}}function Wf(v){this.l=v.Ub||null,this.j=v.eb||!1}function bg(v,L){Ys.call(this),this.D=v,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dg(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function od(v){v.readyState=4,v.l=null,v.j=null,v.v=null,gh(v)}function gh(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function wg(v){let L="";return Dr(v,function(Y,pe){L+=pe,L+=":",L+=Y,L+="\r\n"}),L}function Kf(v,L,Y){e:{for(pe in Y){var pe=!1;break e}pe=!0}pe||(Y=wg(Y),"string"==typeof v?null!=Y&&encodeURIComponent(String(Y)):eo(v,L,Y))}function Wo(v){Ys.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Gf.prototype).add=function(v,L){mc(this),this.i=null,v=id(this,v);var Y=this.g.get(v);return Y||this.g.set(v,Y=[]),Y.push(L),this.h+=1,this},l.forEach=function(v,L){mc(this),this.g.forEach(function(Y,pe){Y.forEach(function(xt){v.call(L,xt,pe,this)},this)},this)},l.na=function(){mc(this);const v=Array.from(this.g.values()),L=Array.from(this.g.keys()),Y=[];for(let pe=0;pe<L.length;pe++){const xt=v[pe];for(let Zt=0;Zt<xt.length;Zt++)Y.push(L[pe])}return Y},l.V=function(v){mc(this);let L=[];if("string"==typeof v)Wv(this,v)&&(L=L.concat(this.g.get(id(this,v))));else{v=Array.from(this.g.values());for(let Y=0;Y<v.length;Y++)L=L.concat(v[Y])}return L},l.set=function(v,L){return mc(this),this.i=null,Wv(this,v=id(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[L]),this.h+=1,this},l.get=function(v,L){return v&&0<(v=this.V(v)).length?String(v[0]):L},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],L=Array.from(this.g.keys());for(var Y=0;Y<L.length;Y++){var pe=L[Y];const Zt=encodeURIComponent(String(pe)),zn=this.V(pe);for(pe=0;pe<zn.length;pe++){var xt=Zt;""!==zn[pe]&&(xt+="="+encodeURIComponent(String(zn[pe]))),v.push(xt)}}return this.i=v.join("&")},cn(Wf,Lv),Wf.prototype.g=function(){return new bg(this.l,this.j)},Wf.prototype.i=function(v){return function(){return v}}({}),cn(bg,Ys),(l=bg.prototype).open=function(v,L){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=L,this.readyState=1,gh(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(L.body=v),(this.D||w).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,od(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dg(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var L=v.value?v.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!v.done}))&&(this.response=this.responseText+=L)}v.done?od(this):gh(this),3==this.readyState&&Dg(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,od(this))},l.Qa=function(v){this.g&&(this.response=v,od(this))},l.ga=function(){this.g&&od(this)},l.setRequestHeader=function(v,L){this.u.append(v,L)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],L=this.h.entries();for(var Y=L.next();!Y.done;)v.push((Y=Y.value)[0]+": "+Y[1]),Y=L.next();return v.join("\r\n")},Object.defineProperty(bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),cn(Wo,Ys);var IE=/^https?$/i,EE=["POST","PUT"];function s0(v,L){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=L,v.m=5,qv(v),mh(v)}function qv(v){v.A||(v.A=!0,Zs(v,"complete"),Zs(v,"error"))}function Sg(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=Yl(v)||2!=v.Z()))if(v.u&&4==Yl(v))Ov(v.Ea,0,v);else if(Zs(v,"readystatechange"),4==Yl(v)){v.h=!1;try{const zn=v.Z();e:switch(zn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var Y;if(!(Y=L)){var pe;if(pe=0===zn){var xt=String(v.D).match(Nu)[1]||null;!xt&&w.self&&w.self.location&&(xt=w.self.location.protocol.slice(0,-1)),pe=!IE.test(xt?xt.toLowerCase():"")}Y=pe}if(Y)Zs(v,"complete"),Zs(v,"success");else{v.m=6;try{var Zt=2<Yl(v)?v.g.statusText:""}catch{Zt=""}v.l=Zt+" ["+v.Z()+"]",qv(v)}}finally{mh(v)}}}function mh(v,L){if(v.g){Xv(v);const Y=v.g,pe=v.v[0]?()=>{}:null;v.g=null,v.v=null,L||Zs(v,"ready");try{Y.onreadystatechange=pe}catch{}}}function Xv(v){v.I&&(w.clearTimeout(v.I),v.I=null)}function Yl(v){return v.g?v.g.readyState:0}function Qv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function vh(v,L,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[v]||L}function a0(v){this.Aa=0,this.i=[],this.j=new ch,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vh("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vh("baseRetryDelayMs",5e3,v),this.cb=vh("retryDelaySeedMs",1e4,v),this.Wa=vh("forwardChannelMaxRetries",2,v),this.wa=vh("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Jy(v&&v.concurrentRequestLimit),this.Da=new o0,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qf(v){if(Yv(v),3==v.G){var L=v.U++,Y=ol(v.I);if(eo(Y,"SID",v.K),eo(Y,"RID",L),eo(Y,"TYPE","terminate"),Rg(v,Y),(L=new $a(v,v.j,L)).L=2,L.v=Ag(ol(Y)),Y=!1,w.navigator&&w.navigator.sendBeacon)try{Y=w.navigator.sendBeacon(L.v.toString(),"")}catch{}!Y&&w.Image&&((new Image).src=L.v,Y=!0),Y||(L.g=DE(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Uf(L)}TE(v)}function Xf(v){v.g&&(Qf(v),v.g.cancel(),v.g=null)}function Yv(v){Xf(v),v.u&&(w.clearTimeout(v.u),v.u=null),Yf(v),v.h.cancel(),v.s&&("number"==typeof v.s&&w.clearTimeout(v.s),v.s=null)}function Rs(v){if(!Ig(v.h)&&!v.s){v.s=!0;var L=v.Ga;Df||Sf(),wf||(Df(),wf=!0),wv.add(L,v),v.B=0}}function CE(v,L){var Y;Y=L?L.l:v.U++;const pe=ol(v.I);eo(pe,"SID",v.K),eo(pe,"RID",Y),eo(pe,"AID",v.T),Rg(v,pe),v.m&&v.o&&Kf(pe,v.m,v.o),Y=new $a(v,v.j,Y,v.B+1),null===v.m&&(Y.H=v.o),L&&(v.i=L.D.concat(v.i)),L=Zv(v,Y,1e3),Y.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Eg(v.h,Y),Vf(Y,pe,L)}function Rg(v,L){v.H&&Dr(v.H,function(Y,pe){eo(L,pe,Y)}),v.l&&zv({},function(Y,pe){eo(L,pe,Y)})}function Zv(v,L,Y){Y=Math.min(v.i.length,Y);var pe=v.l?We(v.l.Na,v.l,v):null;e:{var xt=v.i;let Zt=-1;for(;;){const zn=["count="+Y];-1==Zt?0<Y?(Zt=xt[0].g,zn.push("ofs="+Zt)):Zt=0:zn.push("ofs="+Zt);let Co=!0;for(let Js=0;Js<Y;Js++){let Gi=xt[Js].g;const ea=xt[Js].map;if(Gi-=Zt,0>Gi)Zt=Math.max(0,xt[Js].g-100),Co=!1;else try{yE(ea,zn,"req"+Gi+"_")}catch{pe&&pe(ea)}}if(Co){pe=zn.join("&");break e}}}return v=v.i.splice(0,Y),L.D=v,pe}function Jv(v){if(!v.g&&!v.u){v.Y=1;var L=v.Fa;Df||Sf(),wf||(Df(),wf=!0),wv.add(L,v),v.v=0}}function Mg(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Ff(We(v.Fa,v),n_(v,v.v)),v.v++,0))}function Qf(v){null!=v.A&&(w.clearTimeout(v.A),v.A=null)}function e_(v){v.g=new $a(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var L=ol(v.qa);eo(L,"RID","rpc"),eo(L,"SID",v.K),eo(L,"AID",v.T),eo(L,"CI",v.F?"0":"1"),!v.F&&v.ja&&eo(L,"TO",v.ja),eo(L,"TYPE","xmlhttp"),Rg(v,L),v.m&&v.o&&Kf(L,v.m,v.o),v.L&&(v.g.I=v.L);var Y=v.g;v=v.ia,Y.L=1,Y.v=Ag(ol(L)),Y.m=null,Y.P=!0,Zy(Y,v)}function Yf(v){null!=v.C&&(w.clearTimeout(v.C),v.C=null)}function t_(v,L){var Y=null;if(v.g==L){Yf(v),Qf(v),v.g=null;var pe=2}else{if(!hh(v.h,L))return;Y=L.D,fh(v.h,L),pe=1}if(0!=v.G)if(L.o)if(1==pe){Y=L.m?L.m.length:0,L=Date.now()-L.F;var xt=v.B;Zs(pe=Su(),new Xy(pe,Y)),Rs(v)}else Jv(v);else if(3==(xt=L.s)||0==xt&&0<L.X||!(1==pe&&function l0(v,L){return!(xu(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=L.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Ff(We(v.Ga,v,L),n_(v,v.B)),v.B++,0)))}(v,L)||2==pe&&Mg(v)))switch(Y&&0<Y.length&&(L=v.h,L.i=L.i.concat(Y)),xt){case 1:sd(v,5);break;case 4:sd(v,10);break;case 3:sd(v,6);break;default:sd(v,2)}}function n_(v,L){let Y=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(Y*=2),Y*L}function sd(v,L){if(v.j.info("Error code "+L),2==L){var Y=We(v.fb,v),pe=v.Xa;const xt=!pe;pe=new ph(pe||"//www.google.com/images/cleardot.gif"),w.location&&"http"==w.location.protocol||$f(pe,"https"),Ag(pe),xt?function r0(v,L){const Y=new ch;if(w.Image){const pe=new Image;pe.onload=Dt(Ou,Y,"TestLoadImage: loaded",!0,L,pe),pe.onerror=Dt(Ou,Y,"TestLoadImage: error",!1,L,pe),pe.onabort=Dt(Ou,Y,"TestLoadImage: abort",!1,L,pe),pe.ontimeout=Dt(Ou,Y,"TestLoadImage: timeout",!1,L,pe),w.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=v}else L(!1)}(pe.toString(),Y):function Kv(v,L){new ch;const pe=new AbortController,xt=setTimeout(()=>{pe.abort(),Ou(0,0,!1,L)},1e4);fetch(v,{signal:pe.signal}).then(Zt=>{clearTimeout(xt),Ou(0,0,!!Zt.ok,L)}).catch(()=>{clearTimeout(xt),Ou(0,0,!1,L)})}(pe.toString(),Y)}else ha(2);v.G=0,v.l&&v.l.sa(L),TE(v),Yv(v)}function TE(v){if(v.G=0,v.ka=[],v.l){const L=e0(v.h);(0!=L.length||0!=v.i.length)&&(pn(v.ka,L),pn(v.ka,v.i),v.h.i.length=0,In(v.i),v.i.length=0),v.l.ra()}}function bE(v,L,Y){var pe=Y instanceof ph?ol(Y):new ph(Y);if(""!=pe.g)L&&(pe.g=L+"."+pe.g),jf(pe,pe.s);else{var xt=w.location;pe=xt.protocol,L=L?L+"."+xt.hostname:xt.hostname,xt=+xt.port;var Zt=new ph(null);pe&&$f(Zt,pe),L&&(Zt.g=L),xt&&jf(Zt,xt),Y&&(Zt.l=Y),pe=Zt}return L=v.ya,(Y=v.D)&&L&&eo(pe,Y,L),eo(pe,"VER",v.la),Rg(v,pe),pe}function DE(v,L,Y){if(L&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(L=new Wo(v.Ca&&!v.pa?new Wf({eb:Y}):v.pa)).Ha(v.J),L}function wE(){}function r_(){}function sl(v,L){Ys.call(this),this.g=new a0(L),this.l=v,this.h=L&&L.messageUrlParams||null,v=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(v?v["X-WebChannel-Content-Type"]=L.messageContentType:v={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(v?v["X-WebChannel-Client-Profile"]=L.va:v={"X-WebChannel-Client-Profile":L.va}),this.g.S=v,(v=L&&L.Sb)&&!rr(v)&&(this.g.m=v),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!rr(L)&&(this.g.D=L,null!==(v=this.h)&&L in v&&L in(v=this.h)&&delete v[L]),this.j=new ad(this)}function SE(v){rd.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var L=v.__sm__;if(L){e:{for(const Y in L){v=Y;break e}v=void 0}(this.i=v)&&(v=this.i,L=null!==L&&v in L?L[v]:void 0),this.data=L}else this.data=v}function RE(){Of.call(this),this.status=1}function ad(v){this.g=v}(l=Wo.prototype).Ha=function(v){this.J=v},l.ea=function(v,L,Y,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);L=L?L.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uv.g(),this.v=function Gy(v){return v.h||(v.h=v.i())}(this.o?this.o:Uv),this.g.onreadystatechange=We(this.Ea,this);try{this.B=!0,this.g.open(L,String(v),!0),this.B=!1}catch(Zt){return void s0(this,Zt)}if(v=Y||"",Y=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var xt in pe)Y.set(xt,pe[xt]);else{if("function"!=typeof pe.keys||"function"!=typeof pe.get)throw Error("Unknown input type for opt_headers: "+String(pe));for(const Zt of pe.keys())Y.set(Zt,pe.get(Zt))}pe=Array.from(Y.keys()).find(Zt=>"content-type"==Zt.toLowerCase()),xt=w.FormData&&v instanceof w.FormData,!(0<=Array.prototype.indexOf.call(EE,L,void 0))||pe||xt||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Zt,zn]of Y)this.g.setRequestHeader(Zt,zn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xv(this),this.u=!0,this.g.send(v),this.u=!1}catch(Zt){s0(this,Zt)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Zs(this,"complete"),Zs(this,"abort"),mh(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mh(this,!0)),Wo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Sg(this):this.bb())},l.bb=function(){Sg(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Yl(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var L=this.g.responseText;return v&&0==L.indexOf(v)&&(L=L.substring(v.length)),oE(L)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=a0.prototype).la=8,l.G=1,l.connect=function(v,L,Y,pe){ha(0),this.W=v,this.H=L||{},Y&&void 0!==pe&&(this.H.OSID=Y,this.H.OAID=pe),this.F=this.X,this.I=bE(this,null,this.W),Rs(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const xt=new $a(this,this.j,v);let Zt=this.o;if(this.S&&(Zt?(Zt=$e(Zt),It(Zt,this.S)):Zt=this.S),null!==this.m||this.O||(xt.H=Zt,Zt=null),this.P)e:{for(var L=0,Y=0;Y<this.i.length;Y++){var pe=this.i[Y];if(void 0===(pe="__data__"in pe.map&&"string"==typeof(pe=pe.map.__data__)?pe.length:void 0))break;if(4096<(L+=pe)){L=Y;break e}if(4096===L||Y===this.i.length-1){L=Y+1;break e}}L=1e3}else L=1e3;L=Zv(this,xt,L),eo(Y=ol(this.I),"RID",v),eo(Y,"CVER",22),this.D&&eo(Y,"X-HTTP-Session-Id",this.D),Rg(this,Y),Zt&&(this.O?L="headers="+encodeURIComponent(String(wg(Zt)))+"&"+L:this.m&&Kf(Y,this.m,Zt)),Eg(this.h,xt),this.Ua&&eo(Y,"TYPE","init"),this.P?(eo(Y,"$req",L),eo(Y,"SID","null"),xt.T=!0,Vf(xt,Y,null)):Vf(xt,Y,L),this.G=2}}else 3==this.G&&(v?CE(this,v):0==this.i.length||Ig(this.h)||CE(this))},l.Fa=function(){if(this.u=null,e_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ff(We(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ha(10),Xf(this),e_(this))},l.Za=function(){null!=this.C&&(this.C=null,Xf(this),Mg(this),ha(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),ha(2)):(this.j.info("Failed to ping google.com"),ha(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=wE.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},r_.prototype.g=function(v,L){return new sl(v,L)},cn(sl,Ys),sl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sl.prototype.close=function(){qf(this.g)},sl.prototype.o=function(v){var L=this.g;if("string"==typeof v){var Y={};Y.__data__=v,v=Y}else this.u&&((Y={}).__data__=kv(v),v=Y);L.i.push(new hE(L.Ya++,v)),3==L.G&&Rs(L)},sl.prototype.N=function(){this.g.l=null,delete this.j,qf(this.g),delete this.g,sl.aa.N.call(this)},cn(SE,rd),cn(RE,Of),cn(ad,wE),ad.prototype.ua=function(){Zs(this.g,"a")},ad.prototype.ta=function(v){Zs(this.g,new SE(v))},ad.prototype.sa=function(v){Zs(this.g,new RE)},ad.prototype.ra=function(){Zs(this.g,"b")},r_.prototype.createWebChannel=r_.prototype.g,sl.prototype.send=sl.prototype.o,sl.prototype.open=sl.prototype.m,sl.prototype.close=sl.prototype.close,ve=ur.createWebChannelTransport=function(){return new r_},sn=ur.getStatEventTarget=function(){return Su()},Je=ur.Event=wu,Qe=ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lf.NO_ERROR=0,Lf.TIMEOUT=8,Lf.HTTP_ERROR=6,kt=ur.ErrorCode=Lf,Yy.COMPLETE="complete",st=ur.EventType=Yy,Wy.EventType=wl,wl.OPEN="a",wl.CLOSE="b",wl.ERROR="c",wl.MESSAGE="d",Ys.prototype.listen=Ys.prototype.K,Rt=ur.WebChannel=Wy,ur.FetchXmlHttpFactory=Wf,Wo.prototype.listenOnce=Wo.prototype.L,Wo.prototype.getLastError=Wo.prototype.Ka,Wo.prototype.getLastErrorCode=Wo.prototype.Ba,Wo.prototype.getStatus=Wo.prototype.Z,Wo.prototype.getResponseJson=Wo.prototype.Oa,Wo.prototype.getResponseText=Wo.prototype.oa,Wo.prototype.send=Wo.prototype.ea,Wo.prototype.setWithCredentials=Wo.prototype.Ha,Pi=ur.XhrIo=Wo}).apply(typeof ai<"u"?ai:typeof self<"u"?self:typeof window<"u"?window:{});const Te="@firebase/firestore";class Ve{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");let Ot="10.14.0";const Ye=new mr.Vy("@firebase/firestore");function Cn(){return Ye.logLevel}function Bt(l,...t){if(Ye.logLevel<=mr.$b.DEBUG){const r=t.map(Vr);Ye.debug(`Firestore (${Ot}): ${l}`,...r)}}function yr(l,...t){if(Ye.logLevel<=mr.$b.ERROR){const r=t.map(Vr);Ye.error(`Firestore (${Ot}): ${l}`,...r)}}function cr(l,...t){if(Ye.logLevel<=mr.$b.WARN){const r=t.map(Vr);Ye.warn(`Firestore (${Ot}): ${l}`,...r)}}function Vr(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Jt(l="Unexpected state"){const t=`FIRESTORE (${Ot}) INTERNAL ASSERTION FAILED: `+l;throw yr(t),new Error(t)}function Tn(l,t){l||Jt()}function Lt(l,t){return l}const Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends ir.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class Vi{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class to{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ve.UNAUTHENTICATED))}shutdown(){}}class Pr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Pt{constructor(t){this.t=t,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var s=this;Tn(void 0===this.o);let u=this.i;const p=X=>this.i!==u?(u=this.i,r(X)):Promise.resolve();let _=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Ur,t.enqueueRetryable(()=>p(this.currentUser))};const w=()=>{const X=_;t.enqueueRetryable((0,te.A)(function*(){yield X.promise,yield p(s.currentUser)}))},x=X=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.o&&(this.auth.addAuthTokenListener(this.o),w())};this.t.onInit(X=>x(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?x(X):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Ur)}},0),w()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Tn("string"==typeof s.accessToken),new Vi(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Tn(null===t||"string"==typeof t),new Ve(t)}}class it{constructor(t,r,s){this.l=t,this.h=r,this.P=s,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ht{constructor(t,r,s){this.l=t,this.h=r,this.P=s}getToken(){return Promise.resolve(new it(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ct{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Tn(void 0===this.o);const s=p=>{null!=p.error&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,Bt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?r(p.token):Promise.resolve()};this.o=p=>{t.enqueueRetryable(()=>s(p))};const u=p=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Tn("string"==typeof r.token),this.R=r.token,new Sn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bn(l){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class Xn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=bn(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function En(l,t){return l<t?-1:l>t?1:0}function Xr(l,t,r){return l.length===t.length&&l.every((s,u)=>r(s,t[u]))}function Ir(l){return l+"\0"}class Ln{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new nn(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new nn(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new nn(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nn(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ln.fromMillis(Date.now())}static fromDate(t){return Ln.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*r));return new Ln(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?En(this.nanoseconds,t.nanoseconds):En(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(t){this.timestamp=t}static fromTimestamp(t){return new On(t)}static min(){return new On(new Ln(0,0))}static max(){return new On(new Ln(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ar{constructor(t,r,s){void 0===r?r=0:r>t.length&&Jt(),void 0===s?s=t.length-r:s>t.length-r&&Jt(),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return 0===Ar.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ar?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let u=0;u<s;u++){const p=t.get(u),_=r.get(u);if(p<_)return-1;if(p>_)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class vr extends Ar{construct(t,r,s){return new vr(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new nn(Mt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new vr(r)}static emptyPath(){return new vr([])}}const ds=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends Ar{construct(t,r,s){return new Qr(t,r,s)}static isValidIdentifier(t){return ds.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(t){const r=[];let s="",u=0;const p=()=>{if(0===s.length)throw new nn(Mt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let _=!1;for(;u<t.length;){const w=t[u];if("\\"===w){if(u+1===t.length)throw new nn(Mt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const x=t[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new nn(Mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=x,u+=2}else"`"===w?(_=!_,u++):"."!==w||_?(s+=w,u++):(p(),u++)}if(p(),_)throw new nn(Mt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qr(r)}static emptyPath(){return new Qr([])}}class vn{constructor(t){this.path=t}static fromPath(t){return new vn(vr.fromString(t))}static fromName(t){return new vn(vr.fromString(t).popFirst(5))}static empty(){return new vn(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===vr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return vr.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vn(new vr(t.slice()))}}class bo{constructor(t,r,s,u){this.indexId=t,this.collectionGroup=r,this.fields=s,this.indexState=u}}function mi(l){return l.fields.find(t=>2===t.kind)}function Xi(l){return l.fields.filter(t=>2!==t.kind)}bo.UNKNOWN_ID=-1;class Qi{constructor(t,r){this.fieldPath=t,this.kind=r}}class Do{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new Do(0,yi.min())}}function ns(l,t){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=On.fromTimestamp(1e9===s?new Ln(r+1,0):new Ln(r,s));return new yi(u,vn.empty(),t)}function ao(l){return new yi(l.readTime,l.key,-1)}class yi{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new yi(On.min(),vn.empty(),-1)}static max(){return new yi(On.max(),vn.empty(),-1)}}function xi(l,t){let r=l.readTime.compareTo(t.readTime);return 0!==r?r:(r=vn.comparator(l.documentKey,t.documentKey),0!==r?r:En(l.largestBatchId,t.largestBatchId))}const As="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $t{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tr(l){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,te.A)(function*(l){if(l.code!==Mt.FAILED_PRECONDITION||l.message!==As)throw l;Bt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new yt((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(t,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(r,p).next(s,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof yt?r:yt.resolve(r)}catch(r){return yt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):yt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):yt.reject(r)}static resolve(t){return new yt((r,s)=>{r(t)})}static reject(t){return new yt((r,s)=>{s(t)})}static waitFor(t){return new yt((r,s)=>{let u=0,p=0,_=!1;t.forEach(w=>{++u,w.next(()=>{++p,_&&p===u&&r()},x=>s(x))}),_=!0,p===u&&r()})}static or(t){let r=yt.resolve(!1);for(const s of t)r=r.next(u=>u?yt.resolve(u):s());return r}static forEach(t,r){const s=[];return t.forEach((u,p)=>{s.push(r.call(this,u,p))}),this.waitFor(s)}static mapArray(t,r){return new yt((s,u)=>{const p=t.length,_=new Array(p);let w=0;for(let x=0;x<p;x++){const X=x;r(t[X]).next(ae=>{_[X]=ae,++w,w===p&&s(_)},ae=>u(ae))}})}static doWhile(t,r){return new yt((s,u)=>{const p=()=>{!0===t()?r().next(()=>{p()},u):s()};p()})}}class qo{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new Ur,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new xr(t,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Uo(s.target.error);this.V.reject(new xr(t,u))}}static open(t,r,s,u){try{return new qo(r,t.transaction(u,s))}catch(p){throw new xr(r,p)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Bt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new Ts(r)}}class ji{constructor(t,r,s){this.name=t,this.version=r,this.p=s,12.2===ji.S((0,ir.ZQ)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Bt("SimpleDb","Removing database:",t),bi(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ir.zW)())return!1;if(ji.v())return!0;const t=(0,ir.ZQ)(),r=ji.S(t),s=0<r&&r<10,u=ta(t),p=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||p)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var r=this;return(0,te.A)(function*(){return r.db||(Bt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=_=>{s(_.target.result)},p.onblocked=()=>{u(new xr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const w=_.target.error;u("VersionError"===w.name?new nn(Mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new nn(Mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new xr(t,w))},p.onupgradeneeded=_=>{Bt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',_.oldVersion),r.p.O(_.target.result,p.transaction,_.oldVersion,r.version).next(()=>{Bt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,s,u){var p=this;return(0,te.A)(function*(){const _="readonly"===r;let w=0;for(;;){++w;try{p.db=yield p.M(t);const x=qo.open(p.db,t,_?"readonly":"readwrite",s),X=u(x).next(ae=>(x.g(),ae)).catch(ae=>(x.abort(ae),yt.reject(ae))).toPromise();return X.catch(()=>{}),yield x.m,X}catch(x){const X=x,ae="FirebaseError"!==X.name&&w<3;if(Bt("SimpleDb","Transaction failed with error:",X.message,"Retrying:",ae),p.close(),!ae)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ta(l){const t=l.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Cs{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return bi(this.B.delete())}}class xr extends nn{constructor(t,r){super(Mt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function mo(l){return"IndexedDbTransactionError"===l.name}class Ts{constructor(t){this.store=t}put(t,r){let s;return void 0!==r?(Bt("SimpleDb","PUT",this.store.name,t,r),s=this.store.put(r,t)):(Bt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),bi(s)}add(t){return Bt("SimpleDb","ADD",this.store.name,t,t),bi(this.store.add(t))}get(t){return bi(this.store.get(t)).next(r=>(void 0===r&&(r=null),Bt("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return Bt("SimpleDb","DELETE",this.store.name,t),bi(this.store.delete(t))}count(){return Bt("SimpleDb","COUNT",this.store.name),bi(this.store.count())}U(t,r){const s=this.options(t,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new yt((_,w)=>{p.onerror=x=>{w(x.target.error)},p.onsuccess=x=>{_(x.target.result)}})}{const p=this.cursor(s),_=[];return this.W(p,(w,x)=>{_.push(x)}).next(()=>_)}}G(t,r){const s=this.store.getAll(t,null===r?void 0:r);return new yt((u,p)=>{s.onerror=_=>{p(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(t,r){Bt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,r);s.H=!1;const u=this.cursor(s);return this.W(u,(p,_,w)=>w.delete())}J(t,r){let s;r?s=t:(s={},r=t);const u=this.cursor(s);return this.W(u,r)}Y(t){const r=this.cursor({});return new yt((s,u)=>{r.onerror=p=>{const _=Uo(p.target.error);u(_)},r.onsuccess=p=>{const _=p.target.result;_?t(_.primaryKey,_.value).next(w=>{w?_.continue():s()}):s()}})}W(t,r){const s=[];return new yt((u,p)=>{t.onerror=_=>{p(_.target.error)},t.onsuccess=_=>{const w=_.target.result;if(!w)return void u();const x=new Cs(w),X=r(w.primaryKey,w.value,x);if(X instanceof yt){const ae=X.catch(Ie=>(x.done(),yt.reject(Ie)));s.push(ae)}x.isDone?u():null===x.K?w.continue():w.continue(x.K)}}).next(()=>yt.waitFor(s))}options(t,r){let s;return void 0!==t&&("string"==typeof t?s=t:r=t),{index:s,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,r):s.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function bi(l){return new yt((t,r)=>{l.onsuccess=s=>{t(s.target.result)},l.onerror=s=>{const u=Uo(s.target.error);r(u)}})}let hs=!1;function Uo(l){const t=ji.S((0,ir.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const s=new nn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hs||(hs=!0,setTimeout(()=>{throw s},0)),s}}return l}class Ps{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;Bt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,te.A)(function*(){r.task=null;try{Bt("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){mo(s)?Bt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Tr(s)}yield r.X(6e4)}))}}class Nr{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,te.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,t))})()}te(t,r){const s=new Set;let u=r,p=!0;return yt.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(_=>{if(null!==_&&!s.has(_))return Bt("IndexBackfiller",`Processing collection: ${_}`),this.ne(t,_,u).next(w=>{u-=w,s.add(_)});p=!1})).next(()=>r-u)}ne(t,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(u=>this.localStore.localDocuments.getNextDocuments(t,r,u,s).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(t,_).next(()=>this.re(u,p)).next(w=>(Bt("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(t,r,w))).next(()=>_.size)}))}re(t,r){let s=t;return r.changes.forEach((u,p)=>{const _=ao(p);xi(_,s)>0&&(s=_)}),new yi(s.readTime,s.documentKey,Math.max(r.batchId,t.largestBatchId))}}let li=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function yn(l){return null==l}function xo(l){return 0===l&&1/l==-1/0}function fs(l){return"number"==typeof l&&Number.isInteger(l)&&!xo(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Ni(l){let t="";for(let r=0;r<l.length;r++)t.length>0&&(t=oe(t)),t=K(l.get(r),t);return oe(t)}function K(l,t){let r=t;const s=l.length;for(let u=0;u<s;u++){const p=l.charAt(u);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function oe(l){return l+"\x01\x01"}function we(l){const t=l.length;if(Tn(t>=2),2===t)return Tn("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),vr.emptyPath();const r=t-2,s=[];let u="";for(let p=0;p<t;){const _=l.indexOf("\x01",p);switch((_<0||_>r)&&Jt(),l.charAt(_+1)){case"\x01":const w=l.substring(p,_);let x;0===u.length?x=w:(u+=w,x=u,u=""),s.push(x);break;case"\x10":u+=l.substring(p,_),u+="\0";break;case"\x11":u+=l.substring(p,_+1);break;default:Jt()}p=_+2}return new vr(s)}const Oe=["userId","batchId"];function et(l,t){return[l,Ni(t)]}function qe(l,t,r){return[l,Ni(t),r]}const Qt={},_t=["prefixPath","collectionGroup","readTime","documentId"],qt=["prefixPath","collectionGroup","documentId"],rn=["collectionGroup","readTime","prefixPath","documentId"],An=["canonicalId","targetId"],Pn=["targetId","path"],qn=["path","targetId"],Wn=["collectionId","parent"],Zr=["indexId","uid"],ci=["uid","sequenceNumber"],Di=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ri=["indexId","uid","orderedDocumentKey"],wi=["userId","collectionPath","documentId"],lo=["userId","collectionPath","largestBatchId"],wo=["userId","collectionGroup","largestBatchId"],vo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],No=[...vo,"documentOverlays"],uo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xo=uo,Bo=[...Xo,"indexConfiguration","indexState","indexEntries"],$o=Bo,no=[...Bo,"globals"];class ps extends $t{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function Ii(l,t){const r=Lt(l);return ji.F(r._e,t)}function Ui(l){let t=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&t++;return t}function ro(l,t){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&t(r,l[r])}function Ma(l){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t))return!1;return!0}class di{constructor(t,r){this.comparator=t,this.root=r||ar.EMPTY}insert(t,r){return new di(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(t){return new di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ar.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yi(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yi(this.root,t,this.comparator,!0)}}class Yi{constructor(t,r,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!t.isEmpty();)if(p=r?s(t.key,r):1,r&&u&&(p*=-1),p<0)t=this.isReverse?t.left:t.right;else{if(0===p){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ar{constructor(t,r,s,u,p){this.key=t,this.value=r,this.color=null!=s?s:ar.RED,this.left=null!=u?u:ar.EMPTY,this.right=null!=p?p:ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,u,p){return new ar(null!=t?t:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let u=this;const p=s(t,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(t,r,s),null):0===p?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(t,u.key)){if(u.right.isEmpty())return ar.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const t=this.left.check();if(t!==this.right.check())throw Jt();return t+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1,ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(t,r,s,u,p){return this}insert(t,r,s){return new ar(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(t){this.comparator=t,this.data=new di(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new _o(this.data.getIterator())}getIteratorFrom(t){return new _o(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof Br)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Br(this.comparator);return r.data=t,r}}class _o{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yo(l){return l.hasNext()?l.getNext():void 0}class Hi{constructor(t){this.fields=t,t.sort(Qr.comparator)}static empty(){return new Hi([])}unionWith(t){let r=new Br(Qr.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Hi(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Xr(this.fields,t.fields,(r,s)=>r.isEqual(s))}}class rs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new rs("Invalid base64 string: "+p):p}}(t);return new Jr(r)}static fromUint8Array(t){const r=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(t);return new Jr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return En(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const Pl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(l){if(Tn(!!l),"string"==typeof l){let t=0;const r=Pl.exec(l);if(Tn(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ai(l.seconds),nanos:Ai(l.nanos)}}function Ai(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function q(l){return"string"==typeof l?Jr.fromBase64String(l):Jr.fromUint8Array(l)}function W(l){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function fe(l){const t=l.mapValue.fields.__previous_value__;return W(t)?fe(t):t}function Me(l){const t=Mo(l.mapValue.fields.__local_write_time__.timestampValue);return new Ln(t.seconds,t.nanos)}class je{constructor(t,r,s,u,p,_,w,x,X){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=w,this.longPollingOptions=x,this.useFetchStreams=X}}class bt{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new bt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof bt&&t.projectId===this.projectId&&t.database===this.database}}const dn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$n={nullValue:"NULL_VALUE"};function Mn(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?W(l)?4:is(l)?9007199254740991:jo(l)?10:11:Jt()}function Qn(l,t){if(l===t)return!0;const r=Mn(l);if(r!==Mn(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===t.booleanValue;case 4:return Me(l).isEqual(Me(t));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=Mo(u.timestampValue),w=Mo(p.timestampValue);return _.seconds===w.seconds&&_.nanos===w.nanos}(l,t);case 5:return l.stringValue===t.stringValue;case 6:return p=t,q(l.bytesValue).isEqual(q(p.bytesValue));case 7:return l.referenceValue===t.referenceValue;case 8:return function(u,p){return Ai(u.geoPointValue.latitude)===Ai(p.geoPointValue.latitude)&&Ai(u.geoPointValue.longitude)===Ai(p.geoPointValue.longitude)}(l,t);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Ai(u.integerValue)===Ai(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=Ai(u.doubleValue),w=Ai(p.doubleValue);return _===w?xo(_)===xo(w):isNaN(_)&&isNaN(w)}return!1}(l,t);case 9:return Xr(l.arrayValue.values||[],t.arrayValue.values||[],Qn);case 10:case 11:return function(u,p){const _=u.mapValue.fields||{},w=p.mapValue.fields||{};if(Ui(_)!==Ui(w))return!1;for(const x in _)if(_.hasOwnProperty(x)&&(void 0===w[x]||!Qn(_[x],w[x])))return!1;return!0}(l,t);default:return Jt()}var p}function br(l,t){return void 0!==(l.values||[]).find(r=>Qn(r,t))}function z(l,t){if(l===t)return 0;const r=Mn(l),s=Mn(t);if(r!==s)return En(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return En(l.booleanValue,t.booleanValue);case 2:return function(p,_){const w=Ai(p.integerValue||p.doubleValue),x=Ai(_.integerValue||_.doubleValue);return w<x?-1:w>x?1:w===x?0:isNaN(w)?isNaN(x)?0:-1:1}(l,t);case 3:return P(l.timestampValue,t.timestampValue);case 4:return P(Me(l),Me(t));case 5:return En(l.stringValue,t.stringValue);case 6:return function(p,_){const w=q(p),x=q(_);return w.compareTo(x)}(l.bytesValue,t.bytesValue);case 7:return function(p,_){const w=p.split("/"),x=_.split("/");for(let X=0;X<w.length&&X<x.length;X++){const ae=En(w[X],x[X]);if(0!==ae)return ae}return En(w.length,x.length)}(l.referenceValue,t.referenceValue);case 8:return function(p,_){const w=En(Ai(p.latitude),Ai(_.latitude));return 0!==w?w:En(Ai(p.longitude),Ai(_.longitude))}(l.geoPointValue,t.geoPointValue);case 9:return Z(l.arrayValue,t.arrayValue);case 10:return function(p,_){var w,x,X,ae;const Dt=null===(w=(p.fields||{}).value)||void 0===w?void 0:w.arrayValue,cn=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,In=En((null===(X=null==Dt?void 0:Dt.values)||void 0===X?void 0:X.length)||0,(null===(ae=null==cn?void 0:cn.values)||void 0===ae?void 0:ae.length)||0);return 0!==In?In:Z(Dt,cn)}(l.mapValue,t.mapValue);case 11:return function(p,_){if(p===dn.mapValue&&_===dn.mapValue)return 0;if(p===dn.mapValue)return 1;if(_===dn.mapValue)return-1;const w=p.fields||{},x=Object.keys(w),X=_.fields||{},ae=Object.keys(X);x.sort(),ae.sort();for(let Ie=0;Ie<x.length&&Ie<ae.length;++Ie){const We=En(x[Ie],ae[Ie]);if(0!==We)return We;const Dt=z(w[x[Ie]],X[ae[Ie]]);if(0!==Dt)return Dt}return En(x.length,ae.length)}(l.mapValue,t.mapValue);default:throw Jt()}}function P(l,t){if("string"==typeof l&&"string"==typeof t&&l.length===t.length)return En(l,t);const r=Mo(l),s=Mo(t),u=En(r.seconds,s.seconds);return 0!==u?u:En(r.nanos,s.nanos)}function Z(l,t){const r=l.values||[],s=t.values||[];for(let u=0;u<r.length&&u<s.length;++u){const p=z(r[u],s[u]);if(p)return p}return En(r.length,s.length)}function B(l){return de(l)}function de(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=Mo(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?q(l.bytesValue).toBase64():"referenceValue"in l?vn.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",u=!0;for(const p of r.values||[])u?u=!1:s+=",",s+=de(p);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",p=!0;for(const _ of s)p?p=!1:u+=",",u+=`${_}:${de(r.fields[_])}`;return u+"}"}(l.mapValue):Jt()}function jn(l,t){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${t.path.canonicalString()}`}}function ti(l){return!!l&&"integerValue"in l}function $r(l){return!!l&&"arrayValue"in l}function ii(l){return!!l&&"nullValue"in l}function Io(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function io(l){return!!l&&"mapValue"in l}function jo(l){var t,r;return"__vector__"===(null===(r=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Oo(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const t={mapValue:{fields:{}}};return ro(l.mapValue.fields,(r,s)=>t.mapValue.fields[r]=Oo(s)),t}if(l.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Oo(l.arrayValue.values[r]);return t}return Object.assign({},l)}function is(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const jr={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Zi(l){return"nullValue"in l?$n:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?jn(bt.empty(),vn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?jo(l)?jr:{mapValue:{}}:Jt()}function co(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?jn(bt.empty(),vn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?jr:"mapValue"in l?jo(l)?{mapValue:{}}:dn:Jt()}function Yo(l,t){const r=z(l.value,t.value);return 0!==r?r:l.inclusive&&!t.inclusive?-1:!l.inclusive&&t.inclusive?1:0}function Eo(l,t){const r=z(l.value,t.value);return 0!==r?r:l.inclusive&&!t.inclusive?1:!l.inclusive&&t.inclusive?-1:0}class Ji{constructor(t){this.value=t}static empty(){return new Ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!io(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oo(r)}setAll(t){let r=Qr.emptyPath(),s={},u=[];t.forEach((_,w)=>{if(!r.isImmediateParentOf(w)){const x=this.getFieldsMap(r);this.applyChanges(x,s,u),s={},u=[],r=w.popLast()}_?s[w.lastSegment()]=Oo(_):u.push(w.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,s,u)}delete(t){const r=this.field(t.popLast());io(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Qn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=r.mapValue.fields[t.get(s)];io(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,s){ro(r,(u,p)=>t[u]=p);for(const u of s)delete t[u]}clone(){return new Ji(Oo(this.value))}}function Ha(l){const t=[];return ro(l.fields,(r,s)=>{const u=new Qr([r]);if(io(s)){const p=Ha(s.mapValue).fields;if(0===p.length)t.push(u);else for(const _ of p)t.push(u.child(_))}else t.push(u)}),new Hi(t)}class hi{constructor(t,r,s,u,p,_,w){this.key=t,this.documentType=r,this.version=s,this.readTime=u,this.createTime=p,this.data=_,this.documentState=w}static newInvalidDocument(t){return new hi(t,0,On.min(),On.min(),On.min(),Ji.empty(),0)}static newFoundDocument(t,r,s,u){return new hi(t,1,r,On.min(),s,u,0)}static newNoDocument(t,r){return new hi(t,2,r,On.min(),On.min(),Ji.empty(),0)}static newUnknownDocument(t,r){return new hi(t,3,r,On.min(),On.min(),Ji.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(On.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=On.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class os{constructor(t,r){this.position=t,this.inclusive=r}}function na(l,t,r){let s=0;for(let u=0;u<l.position.length;u++){const p=t[u],_=l.position[u];if(s=p.field.isKeyField()?vn.comparator(vn.fromName(_.referenceValue),r.key):z(_,r.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function za(l,t){if(null===l)return null===t;if(null===t||l.inclusive!==t.inclusive||l.position.length!==t.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!Qn(l.position[r],t.position[r]))return!1;return!0}class fa{constructor(t,r="asc"){this.field=t,this.dir=r}}function xl(l,t){return l.dir===t.dir&&l.field.isEqual(t.field)}class Pa{}class ni extends Pa{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,s):new kl(t,r,s):"array-contains"===r?new bs(t,s):"in"===r?new Zo(t,s):"not-in"===r?new Fl(t,s):"array-contains-any"===r?new Ga(t,s):new ni(t,r,s)}static createKeyFieldInFilter(t,r,s){return"in"===r?new eu(t,s):new ll(t,s)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(z(r,this.value)):null!==r&&Mn(this.value)===Mn(r)&&this.matchesComparison(z(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends Pa{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new ki(t,r)}matches(t){return gs(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gs(l){return"and"===l.op}function Nl(l){return"or"===l.op}function ra(l){return xa(l)&&gs(l)}function xa(l){for(const t of l.filters)if(t instanceof ki)return!1;return!0}function Na(l){if(l instanceof ni)return l.field.canonicalString()+l.op.toString()+B(l.value);if(ra(l))return l.filters.map(t=>Na(t)).join(",");{const t=l.filters.map(r=>Na(r)).join(",");return`${l.op}(${t})`}}function js(l,t){return l instanceof ni?(s=l,(u=t)instanceof ni&&s.op===u.op&&s.field.isEqual(u.field)&&Qn(s.value,u.value)):l instanceof ki?function(s,u){return u instanceof ki&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,_,w)=>p&&js(_,u.filters[w]),!0)}(l,t):void Jt();var s,u}function Ol(l,t){const r=l.filters.concat(t);return ki.create(r,l.op)}function Oa(l){return l instanceof ni?`${(r=l).field.canonicalString()} ${r.op} ${B(r.value)}`:l instanceof ki?function(r){return r.op.toString()+" {"+r.getFilters().map(Oa).join(" ,")+"}"}(l):"Filter";var r}class kl extends ni{constructor(t,r,s){super(t,r,s),this.key=vn.fromName(s.referenceValue)}matches(t){const r=vn.comparator(t.key,this.key);return this.matchesComparison(r)}}class eu extends ni{constructor(t,r){super(t,"in",r),this.keys=ia(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class ll extends ni{constructor(t,r){super(t,"not-in",r),this.keys=ia(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function ia(l,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>vn.fromName(s.referenceValue))}class bs extends ni{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return $r(r)&&br(r.arrayValue,this.value)}}class Zo extends ni{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&br(this.value.arrayValue,r)}}class Fl extends ni{constructor(t,r){super(t,"not-in",r)}matches(t){if(br(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!br(this.value.arrayValue,r)}}class Ga extends ni{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!$r(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>br(this.value.arrayValue,s))}}class Wa{constructor(t,r=null,s=[],u=[],p=null,_=null,w=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=_,this.endAt=w,this.ue=null}}function Ka(l,t=null,r=[],s=[],u=null,p=null,_=null){return new Wa(l,t,r,s,u,p,_)}function ss(l){const t=Lt(l);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>Na(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),yn(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>B(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>B(s)).join(",")),t.ue=r}return t.ue}function E(l,t){if(l.limit!==t.limit||l.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!xl(l.orderBy[r],t.orderBy[r]))return!1;if(l.filters.length!==t.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!js(l.filters[r],t.filters[r]))return!1;return l.collectionGroup===t.collectionGroup&&!!l.path.isEqual(t.path)&&!!za(l.startAt,t.startAt)&&za(l.endAt,t.endAt)}function M(l){return vn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function $(l,t){return l.filters.filter(r=>r instanceof ni&&r.field.isEqual(t))}function y(l,t,r){let s=$n,u=!0;for(const p of $(l,t)){let _=$n,w=!0;switch(p.op){case"<":case"<=":_=Zi(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,w=!1;break;case"!=":case"not-in":_=$n}Yo({value:s,inclusive:u},{value:_,inclusive:w})<0&&(s=_,u=w)}if(null!==r)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(t)){const _=r.position[p];Yo({value:s,inclusive:u},{value:_,inclusive:r.inclusive})<0&&(s=_,u=r.inclusive);break}return{value:s,inclusive:u}}function U(l,t,r){let s=dn,u=!0;for(const p of $(l,t)){let _=dn,w=!0;switch(p.op){case">=":case">":_=co(p.value),w=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,w=!1;break;case"!=":case"not-in":_=dn}Eo({value:s,inclusive:u},{value:_,inclusive:w})>0&&(s=_,u=w)}if(null!==r)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(t)){const _=r.position[p];Eo({value:s,inclusive:u},{value:_,inclusive:r.inclusive})>0&&(s=_,u=r.inclusive);break}return{value:s,inclusive:u}}class ie{constructor(t,r=null,s=[],u=[],p=null,_="F",w=null,x=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=_,this.startAt=w,this.endAt=x,this.ce=null,this.le=null,this.he=null}}function C(l,t,r,s,u,p,_,w){return new ie(l,t,r,s,u,p,_,w)}function N(l){return new ie(l)}function ue(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function k(l){return null!==l.collectionGroup}function ee(l){const t=Lt(l);if(null===t.ce){t.ce=[];const r=new Set;for(const p of t.explicitOrderBy)t.ce.push(p),r.add(p.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(_){let w=new Br(Qr.comparator);return _.filters.forEach(x=>{x.getFlattenedFilters().forEach(X=>{X.isInequality()&&(w=w.add(X.field))})}),w})(t).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||t.ce.push(new fa(p,s))}),r.has(Qr.keyField().canonicalString())||t.ce.push(new fa(Qr.keyField(),s))}return t.ce}function be(l){const t=Lt(l);return t.le||(t.le=function hn(l,t){if("F"===l.limitType)return Ka(l.path,l.collectionGroup,t,l.filters,l.limit,l.startAt,l.endAt);{t=t.map(u=>new fa(u.field,"desc"===u.dir?"asc":"desc"));const r=l.endAt?new os(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new os(l.startAt.position,l.startAt.inclusive):null;return Ka(l.path,l.collectionGroup,t,l.filters,l.limit,r,s)}}(t,ee(l))),t.le}function er(l,t){const r=l.filters.concat([t]);return new ie(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function Cr(l,t,r){return new ie(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),t,r,l.startAt,l.endAt)}function ei(l,t){return E(be(l),be(t))&&l.limitType===t.limitType}function Hr(l){return`${ss(be(l))}|lt:${l.limitType}`}function _i(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>Oa(u)).join(", ")}]`),yn(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>B(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>B(u)).join(",")),`Target(${s})`}(be(l))}; limitType=${l.limitType})`}function fi(l,t){return t.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):vn.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(l,t)&&function(s,u){for(const p of ee(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(l,t)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(l,t)&&(u=t,!((s=l).startAt&&!function(_,w,x){const X=na(_,w,x);return _.inclusive?X<=0:X<0}(s.startAt,ee(s),u)||s.endAt&&!function(_,w,x){const X=na(_,w,x);return _.inclusive?X>=0:X>0}(s.endAt,ee(s),u)));var s,u}function zi(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Wi(l){return(t,r)=>{let s=!1;for(const u of ee(l)){const p=oi(u,t,r);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function oi(l,t,r){const s=l.field.isKeyField()?vn.comparator(t.key,r.key):function(p,_,w){const x=_.data.field(p),X=w.data.field(p);return null!==x&&null!==X?z(x,X):Jt()}(l.field,t,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Jt()}}class gn{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,t))return p}has(t){return void 0!==this.get(t)}set(t,r){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,r]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],t))return void(u[p]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){ro(this.inner,(r,s)=>{for(const[u,p]of s)t(u,p)})}isEmpty(){return Ma(this.inner)}size(){return this.innerSize}}const Jn=new di(vn.comparator);function vi(){return Jn}const So=new di(vn.comparator);function Fi(...l){let t=So;for(const r of l)t=t.insert(r.key,r);return t}function ko(l){let t=So;return l.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function Fo(){return Bi()}function Li(){return Bi()}function Bi(){return new gn(l=>l.toString(),(l,t)=>l.isEqual(t))}const oa=new di(vn.comparator),Sr=new Br(vn.comparator);function Lr(...l){let t=Sr;for(const r of l)t=t.add(r);return t}const sa=new Br(En);function qa(){return sa}function oo(l,t){if(l.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xo(t)?"-0":t}}function pa(l){return{integerValue:""+l}}function tu(l,t){return fs(t)?pa(t):oo(l,t)}class Ro{constructor(){this._=void 0}}function ul(l,t,r){return l instanceof ga?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&W(p)&&(p=fe(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(r,t):l instanceof Ei?or(l,t):l instanceof aa?nu(l,t):function(u,p){const _=xs(u,p),w=Vu(_)+Vu(u.Pe);return ti(_)&&ti(u.Pe)?pa(w):oo(u.serializer,w)}(l,t)}function Lu(l,t,r){return l instanceof Ei?or(l,t):l instanceof aa?nu(l,t):r}function xs(l,t){return l instanceof as?ti(s=t)||(p=s)&&"doubleValue"in p?t:{integerValue:0}:null;var s,p}class ga extends Ro{}class Ei extends Ro{constructor(t){super(),this.elements=t}}function or(l,t){const r=cl(t);for(const s of l.elements)r.some(u=>Qn(u,s))||r.push(s);return{arrayValue:{values:r}}}class aa extends Ro{constructor(t){super(),this.elements=t}}function nu(l,t){let r=cl(t);for(const s of l.elements)r=r.filter(u=>!Qn(u,s));return{arrayValue:{values:r}}}class as extends Ro{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function Vu(l){return Ai(l.integerValue||l.doubleValue)}function cl(l){return $r(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Ki{constructor(t,r){this.field=t,this.transform=r}}class ho{constructor(t,r){this.version=t,this.transformResults=r}}class ui{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ma(l,t){return void 0!==l.updateTime?t.isFoundDocument()&&t.version.isEqual(l.updateTime):void 0===l.exists||l.exists===t.isFoundDocument()}class Ns{}function ru(l,t){if(!l.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return l.isNoDocument()?new ka(l.key,ui.none()):new _a(l.key,l.data,ui.none());{const r=l.data,s=Ji.empty();let u=new Br(Qr.comparator);for(let p of t.fields)if(!u.has(p)){let _=r.field(p);null===_&&p.length>1&&(p=p.popLast(),_=r.field(p)),null===_?s.delete(p):s.set(p,_),u=u.add(p)}return new ya(l.key,s,new Hi(u.toArray()),ui.none())}}function Os(l,t,r){l instanceof _a?function(u,p,_){const w=u.value.clone(),x=Cc(u.fieldTransforms,p,_.transformResults);w.setAll(x),p.convertToFoundDocument(_.version,w).setHasCommittedMutations()}(l,t,r):l instanceof ya?function(u,p,_){if(!ma(u.precondition,p))return void p.convertToUnknownDocument(_.version);const w=Cc(u.fieldTransforms,p,_.transformResults),x=p.data;x.setAll(Eh(u)),x.setAll(w),p.convertToFoundDocument(_.version,x).setHasCommittedMutations()}(l,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function va(l,t,r,s){return l instanceof _a?function(p,_,w,x){if(!ma(p.precondition,_))return w;const X=p.value.clone(),ae=em(p.fieldTransforms,x,_);return X.setAll(ae),_.convertToFoundDocument(_.version,X).setHasLocalMutations(),null}(l,t,r,s):l instanceof ya?function(p,_,w,x){if(!ma(p.precondition,_))return w;const X=em(p.fieldTransforms,x,_),ae=_.data;return ae.setAll(Eh(p)),ae.setAll(X),_.convertToFoundDocument(_.version,ae).setHasLocalMutations(),null===w?null:w.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Ie=>Ie.field))}(l,t,r,s):(w=r,ma(l.precondition,_=t)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):w);var _,w}function Uu(l,t){let r=null;for(const s of l.fieldTransforms){const u=t.data.field(s.field),p=xs(s.transform,u||null);null!=p&&(null===r&&(r=Ji.empty()),r.set(s.field,p))}return r||null}function Ac(l,t){return l.type===t.type&&!!l.key.isEqual(t.key)&&!!l.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Xr(s,u,(p,_)=>function Ec(l,t){return l.field.isEqual(t.field)&&(u=t.transform,(s=l.transform)instanceof Ei&&u instanceof Ei||s instanceof aa&&u instanceof aa?Xr(s.elements,u.elements,Qn):s instanceof as&&u instanceof as?Qn(s.Pe,u.Pe):s instanceof ga&&u instanceof ga);var s,u}(p,_))))&&(0===l.type?l.value.isEqual(t.value):1!==l.type||l.data.isEqual(t.data)&&l.fieldMask.isEqual(t.fieldMask));var s,u}class _a extends Ns{constructor(t,r,s,u=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ya extends Ns{constructor(t,r,s,u,p=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Eh(l){const t=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);t.set(r,s)}}),t}function Cc(l,t,r){const s=new Map;Tn(l.length===r.length);for(let u=0;u<r.length;u++){const p=l[u],_=p.transform,w=t.data.field(p.field);s.set(p.field,Lu(_,w,r[u]))}return s}function em(l,t,r){const s=new Map;for(const u of l){const p=u.transform,_=r.data.field(u.field);s.set(u.field,ul(p,_,t))}return s}class ka extends Ns{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ah extends Ns{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b{constructor(t,r,s,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(t.key)&&Os(p,t,s[u])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=va(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=va(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=Li();return this.mutations.forEach(u=>{const p=t.get(u.key),_=p.overlayedDocument;let w=this.applyToLocalView(_,p.mutatedFields);w=r.has(u.key)?null:w;const x=ru(_,w);null!==x&&s.set(u.key,x),_.isValidDocument()||_.convertToNoDocument(On.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Lr())}isEqual(t){return this.batchId===t.batchId&&Xr(this.mutations,t.mutations,(r,s)=>Ac(r,s))&&Xr(this.baseMutations,t.baseMutations,(r,s)=>Ac(r,s))}}class S{constructor(t,r,s,u){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(t,r,s){Tn(t.mutations.length===s.length);let u=function(){return oa}();const p=t.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,s[_].version);return new S(t,r,s,u)}}class O{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class F{constructor(t,r){this.count=t,this.unchangedNames=r}}var re,le;function vt(l){switch(l){default:return Jt();case Mt.CANCELLED:case Mt.UNKNOWN:case Mt.DEADLINE_EXCEEDED:case Mt.RESOURCE_EXHAUSTED:case Mt.INTERNAL:case Mt.UNAVAILABLE:case Mt.UNAUTHENTICATED:return!1;case Mt.INVALID_ARGUMENT:case Mt.NOT_FOUND:case Mt.ALREADY_EXISTS:case Mt.PERMISSION_DENIED:case Mt.FAILED_PRECONDITION:case Mt.ABORTED:case Mt.OUT_OF_RANGE:case Mt.UNIMPLEMENTED:case Mt.DATA_LOSS:return!0}}function on(l){if(void 0===l)return yr("GRPC error has no .code"),Mt.UNKNOWN;switch(l){case re.OK:return Mt.OK;case re.CANCELLED:return Mt.CANCELLED;case re.UNKNOWN:return Mt.UNKNOWN;case re.DEADLINE_EXCEEDED:return Mt.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return Mt.RESOURCE_EXHAUSTED;case re.INTERNAL:return Mt.INTERNAL;case re.UNAVAILABLE:return Mt.UNAVAILABLE;case re.UNAUTHENTICATED:return Mt.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return Mt.INVALID_ARGUMENT;case re.NOT_FOUND:return Mt.NOT_FOUND;case re.ALREADY_EXISTS:return Mt.ALREADY_EXISTS;case re.PERMISSION_DENIED:return Mt.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return Mt.FAILED_PRECONDITION;case re.ABORTED:return Mt.ABORTED;case re.OUT_OF_RANGE:return Mt.OUT_OF_RANGE;case re.UNIMPLEMENTED:return Mt.UNIMPLEMENTED;case re.DATA_LOSS:return Mt.DATA_LOSS;default:return Jt()}}(le=re||(re={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";function kn(){return new TextEncoder}const Or=new pr([4294967295,4294967295],0);function Si(l){const t=kn().encode(l),r=new $i;return r.update(t),new Uint8Array(r.digest())}function Gr(l){const t=new DataView(l.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),p=t.getUint32(12,!0);return[new pr([r,s],0),new pr([u,p],0)]}class fo{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ho(`Invalid padding: ${r}`);if(s<0)throw new Ho(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new Ho(`Invalid hash count: ${s}`);if(0===t.length&&0!==r)throw new Ho(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=pr.fromNumber(this.Ie)}Ee(t,r,s){let u=t.add(r.multiply(pr.fromNumber(s)));return 1===u.compare(Or)&&(u=new pr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=Si(t),[s,u]=Gr(r);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);if(!this.de(_))return!1}return!0}static create(t,r,s){const u=t%8==0?0:8-t%8,p=new Uint8Array(Math.ceil(t/8)),_=new fo(p,u,r);return s.forEach(w=>_.insert(w)),_}insert(t){if(0===this.Ie)return;const r=Si(t),[s,u]=Gr(r);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);this.Ae(_)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zo{constructor(t,r,s,u,p){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const u=new Map;return u.set(t,ks.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new zo(On.min(),u,new di(En),vi(),Lr())}}class ks{constructor(t,r,s,u,p){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new ks(s,r,Lr(),Lr(),Lr())}}class ls{constructor(t,r,s,u){this.Re=t,this.removedTargetIds=r,this.key=s,this.Ve=u}}class dl{constructor(t,r){this.targetId=t,this.me=r}}class Bu{constructor(t,r,s=Jr.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=u}}class hl{constructor(){this.fe=0,this.ge=iu(),this.pe=Jr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Lr(),r=Lr(),s=Lr();return this.ge.forEach((u,p)=>{switch(p){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Jt()}}),new ks(this.pe,this.ye,t,r,s)}Ce(){this.we=!1,this.ge=iu()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Tn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ld{constructor(t){this.Le=t,this.Be=new Map,this.ke=vi(),this.qe=fl(),this.Qe=new di(En)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const s=this.Ge(r);switch(t.state){case 0:this.ze(r)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(t.resumeToken));break;default:Jt()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(t){const r=t.targetId,s=t.me.count,u=this.Je(r);if(u){const p=u.target;if(M(p))if(0===s){const _=new vn(p.path);this.Ue(r,_,hi.newNoDocument(_,On.min()))}else Tn(1===s);else{const _=this.Ye(r);if(_!==s){const w=this.Ze(t),x=w?this.Xe(w,t,_):1;0!==x&&(this.je(r),this.Qe=this.Qe.insert(r,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=r;let _,w;try{_=q(s).toUint8Array()}catch(x){if(x instanceof rs)return cr("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{w=new fo(_,u,p)}catch(x){return cr(x instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return 0===w.Ie?null:w}Xe(t,r,s){return r.me.count===s-this.nt(t,r.targetId)?0:2}nt(t,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(p=>{const _=this.Le.tt(),w=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.mightContain(w)||(this.Ue(r,p,null),u++)}),u}rt(t){const r=new Map;this.Be.forEach((p,_)=>{const w=this.Je(_);if(w){if(p.current&&M(w.target)){const x=new vn(w.target.path);null!==this.ke.get(x)||this.it(_,x)||this.Ue(_,x,hi.newNoDocument(x,t))}p.be&&(r.set(_,p.ve()),p.Ce())}});let s=Lr();this.qe.forEach((p,_)=>{let w=!0;_.forEachWhile(x=>{const X=this.Je(x);return!X||"TargetPurposeLimboResolution"===X.purpose||(w=!1,!1)}),w&&(s=s.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(t));const u=new zo(t,r,this.Qe,this.ke,s);return this.ke=vi(),this.qe=fl(),this.Qe=new di(En),u}$e(t,r){if(!this.ze(t))return;const s=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new hl,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new Br(En),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||Bt("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new hl),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function fl(){return new di(vn.comparator)}function iu(){return new di(vn.comparator)}const Ch={asc:"ASCENDING",desc:"DESCENDING"},Xa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ud={and:"AND",or:"OR"};class $u{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function pi(l,t){return l.useProto3Json||yn(t)?t:{value:t}}function Qa(l,t){return l.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ju(l,t){return l.useProto3Json?t.toBase64():t.toUint8Array()}function Fs(l,t){return Qa(l,t.toTimestamp())}function Lo(l){return Tn(!!l),On.fromTimestamp(function(r){const s=Mo(r);return new Ln(s.seconds,s.nanos)}(l))}function pl(l,t){return Ya(l,t).canonicalString()}function Ya(l,t){const r=(u=l,new vr(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?r:r.child(t)}function Hs(l){const t=vr.fromString(l);return Tn(fd(t)),t}function Tc(l,t){return pl(l.databaseId,t.path)}function zs(l,t){const r=Hs(t);if(r.get(1)!==l.databaseId.projectId)throw new nn(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new nn(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new vn(bc(r))}function op(l,t){return pl(l.databaseId,t)}function Ls(l){const t=Hs(l);return 4===t.length?vr.emptyPath():bc(t)}function cd(l){return new vr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function bc(l){return Tn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Dc(l,t,r){return{name:Tc(l,t),fields:r.value.mapValue.fields}}function wc(l,t,r){const s=zs(l,t.name),u=Lo(t.updateTime),p=t.createTime?Lo(t.createTime):On.min(),_=new Ji({mapValue:{fields:t.fields}}),w=hi.newFoundDocument(s,u,p,_);return r&&w.setHasCommittedMutations(),r?w.setHasCommittedMutations():w}function Ll(l,t){let r;if(t instanceof _a)r={update:Dc(l,t.key,t.value)};else if(t instanceof ka)r={delete:Tc(l,t.key)};else if(t instanceof ya)r={update:Dc(l,t.key,t.data),updateMask:rm(t.fieldMask)};else{if(!(t instanceof Ah))return Jt();r={verify:Tc(l,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(p,_){const w=_.transform;if(w instanceof ga)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Ei)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof aa)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof as)return{fieldPath:_.field.canonicalString(),increment:w.Pe};throw Jt()}(0,s))),t.precondition.isNone||(r.currentDocument=void 0!==(p=t.precondition).updateTime?{updateTime:Fs(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Jt()),r;var p}function su(l,t){const r=t.currentDocument?void 0!==(p=t.currentDocument).updateTime?ui.updateTime(Lo(p.updateTime)):void 0!==p.exists?ui.exists(p.exists):ui.none():ui.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(_,w){let x=null;"setToServerValue"in w?(Tn("REQUEST_TIME"===w.setToServerValue),x=new ga):"appendMissingElements"in w?x=new Ei(w.appendMissingElements.values||[]):"removeAllFromArray"in w?x=new aa(w.removeAllFromArray.values||[]):"increment"in w?x=new as(_,w.increment):Jt();const X=Qr.fromServerFormat(w.fieldPath);return new Ki(X,x)}(l,u)):[];var p;if(t.update){const u=zs(l,t.update.name),p=new Ji({mapValue:{fields:t.update.fields}});if(t.updateMask){const _=new Hi((t.updateMask.fieldPaths||[]).map(ae=>Qr.fromServerFormat(ae)));return new ya(u,p,_,r,s)}return new _a(u,p,r,s)}if(t.delete){const u=zs(l,t.delete);return new ka(u,r)}if(t.verify){const u=zs(l,t.verify);return new Ah(u,r)}return Jt()}function kr(l,t){return{documents:[op(l,t.path)]}}function au(l,t){const r={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=op(l,u);const p=function(X){if(0!==X.length)return lp(ki.create(X,"and"))}(t.filters);p&&(r.structuredQuery.where=p);const _=function(X){if(0!==X.length)return X.map(ae=>{return{field:Gs((We=ae).field),direction:nm(We.dir)};var We})}(t.orderBy);_&&(r.structuredQuery.orderBy=_);const w=pi(l,t.limit);return null!==w&&(r.structuredQuery.limit=w),t.startAt&&(r.structuredQuery.startAt={before:(X=t.startAt).inclusive,values:X.position}),t.endAt&&(r.structuredQuery.endAt=function(X){return{before:!X.inclusive,values:X.position}}(t.endAt)),{_t:r,parent:u};var X}function hd(l){let t=Ls(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Tn(1===s);const ae=r.from[0];ae.allDescendants?u=ae.collectionId:t=t.child(ae.collectionId)}let p=[];r.where&&(p=function(Ie){const We=sp(Ie);return We instanceof ki&&ra(We)?We.getFilters():[We]}(r.where));let _=[];r.orderBy&&(_=r.orderBy.map(We=>{return new fa(Vl((cn=We).field),function(pn){switch(pn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(cn.direction));var cn}));let w=null;r.limit&&(w=function(Ie){let We;return We="object"==typeof Ie?Ie.value:Ie,yn(We)?null:We}(r.limit));let x=null;var Ie;r.startAt&&(x=new os((Ie=r.startAt).values||[],!!Ie.before));let X=null;return r.endAt&&(X=function(Ie){return new os(Ie.values||[],!Ie.before)}(r.endAt)),C(t,u,_,p,w,"F",x,X)}function sp(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Vl(r.unaryFilter.field);return ni.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Vl(r.unaryFilter.field);return ni.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Vl(r.unaryFilter.field);return ni.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Vl(r.unaryFilter.field);return ni.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}(l):void 0!==l.fieldFilter?ni.create(Vl((r=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return ki.create(r.compositeFilter.filters.map(s=>sp(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Jt()}}(r.compositeFilter.op))}(l):Jt();var r}function nm(l){return Ch[l]}function Th(l){return Xa[l]}function ap(l){return ud[l]}function Gs(l){return{fieldPath:l.canonicalString()}}function Vl(l){return Qr.fromServerFormat(l.fieldPath)}function lp(l){return l instanceof ni?function(r){if("=="===r.op){if(Io(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NAN"}};if(ii(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Io(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NOT_NAN"}};if(ii(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(r.field),op:Th(r.op),value:r.value}}}(l):l instanceof ki?function(r){const s=r.getFilters().map(u=>lp(u));return 1===s.length?s[0]:{compositeFilter:{op:ap(r.op),filters:s}}}(l):Jt()}function rm(l){const t=[];return l.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function fd(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class gl{constructor(t,r,s,u,p=On.min(),_=On.min(),w=Jr.EMPTY_BYTE_STRING,x=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=w,this.expectedCount=x}withSequenceNumber(t){return new gl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class en{constructor(t){this.ct=t}}function Sc(l,t){const r=t.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:zu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:Tc(p=l.ct,(_=t).key),fields:_.data.value.mapValue.fields,updateTime:Qa(p,_.version.toTimestamp()),createTime:Qa(p,_.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Ci(t.version)};else{if(!t.isUnknownDocument())return Jt();s.unknownDocument={path:r.path.toArray(),version:Ci(t.version)}}var p,_;return s}function zu(l){const t=l.toTimestamp();return[t.seconds,t.nanoseconds]}function Ci(l){const t=l.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ul(l){const t=new Ln(l.seconds,l.nanoseconds);return On.fromTimestamp(t)}function Ia(l,t){const r=(t.baseMutations||[]).map(p=>su(l.ct,p));for(let p=0;p<t.mutations.length-1;++p)p+1<t.mutations.length&&void 0!==t.mutations[p+1].transform&&(t.mutations[p].updateTransforms=t.mutations[p+1].transform.fieldTransforms,t.mutations.splice(p+1,1),++p);const s=t.mutations.map(p=>su(l.ct,p)),u=Ln.fromMillis(t.localWriteTimeMs);return new b(t.batchId,u,r,s)}function Ds(l){const t=Ul(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?Ul(l.lastLimboFreeSnapshotVersion):On.min();let s;return s=void 0!==l.query.documents?(Tn(1===(p=l.query).documents.length),be(N(Ls(p.documents[0])))):function(p){return be(hd(p))}(l.query),new gl(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,t,r,Jr.fromBase64String(l.resumeToken));var p}function Rc(l,t){const r=Ci(t.snapshotVersion),s=Ci(t.lastLimboFreeSnapshotVersion);let u;u=M(t.target)?kr(l.ct,t.target):au(l.ct,t.target)._t;const p=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ss(t.target),readTime:r,resumeToken:p,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Mc(l){const t=hd({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Cr(t,t.limit,"L"):t}function Pc(l,t){return new O(t.largestBatchId,su(l.ct,t.overlayMutation))}function bh(l,t){const r=t.path.lastSegment();return[l,Ni(t.path.popLast()),r]}function im(l,t,r,s){return{indexId:l,uid:t,sequenceNumber:r,readTime:Ci(s.readTime),documentKey:Ni(s.documentKey.path),largestBatchId:s.largestBatchId}}class up{getBundleMetadata(t,r){return Dh(t).get(r).next(s=>{if(s)return{id:(p=s).bundleId,createTime:Ul(p.createTime),version:p.version};var p})}saveBundleMetadata(t,r){return Dh(t).put({bundleId:(u=r).id,createTime:Ci(Lo(u.createTime)),version:u.version});var u}getNamedQuery(t,r){return xc(t).get(r).next(s=>{if(s)return{name:(p=s).name,query:Mc(p.bundledQuery),readTime:Ul(p.readTime)};var p})}saveNamedQuery(t,r){return xc(t).put({name:(u=r).name,readTime:Ci(Lo(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Dh(l){return Ii(l,"bundles")}function xc(l){return Ii(l,"namedQueries")}class us{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new us(t,r.uid||"")}getOverlay(t,r){return la(t).get(bh(this.userId,r)).next(s=>s?Pc(this.serializer,s):null)}getOverlays(t,r){const s=Fo();return yt.forEach(r,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,r,s){const u=[];return s.forEach((p,_)=>{const w=new O(r,_);u.push(this.ht(t,w))}),yt.waitFor(u)}removeOverlaysForBatchId(t,r,s){const u=new Set;r.forEach(_=>u.add(Ni(_.getCollectionPath())));const p=[];return u.forEach(_=>{const w=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);p.push(la(t).j("collectionPathOverlayIndex",w))}),yt.waitFor(p)}getOverlaysForCollection(t,r,s){const u=Fo(),p=Ni(r),_=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return la(t).U("collectionPathOverlayIndex",_).next(w=>{for(const x of w){const X=Pc(this.serializer,x);u.set(X.getKey(),X)}return u})}getOverlaysForCollectionGroup(t,r,s,u){const p=Fo();let _;const w=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return la(t).J({index:"collectionGroupOverlayIndex",range:w},(x,X,ae)=>{const Ie=Pc(this.serializer,X);p.size()<u||Ie.largestBatchId===_?(p.set(Ie.getKey(),Ie),_=Ie.largestBatchId):ae.done()}).next(()=>p)}ht(t,r){return la(t).put(function(u,p,_){const[w,x,X]=bh(p,_.mutation.key);return{userId:p,collectionPath:x,documentId:X,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:Ll(u.ct,_.mutation)}}(this.serializer,this.userId,r))}}function la(l){return Ii(l,"documentOverlays")}class wh{Pt(t){return Ii(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(r=>{const s=null==r?void 0:r.value;return s?Jr.fromUint8Array(s):Jr.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.Pt(t).put({name:"sessionToken",value:r.toUint8Array()})}}class ms{constructor(){}It(t,r){this.Tt(t,r),r.Et()}Tt(t,r){if("nullValue"in t)this.dt(r,5);else if("booleanValue"in t)this.dt(r,10),r.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(r,15),r.At(Ai(t.integerValue));else if("doubleValue"in t){const s=Ai(t.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),xo(s)?r.At(0):r.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(r,20),"string"==typeof s&&(s=Mo(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,r),this.ft(r);else if("bytesValue"in t)this.dt(r,30),r.gt(q(t.bytesValue)),this.ft(r);else if("referenceValue"in t)this.yt(t.referenceValue,r);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in t?is(t)?this.dt(r,Number.MAX_SAFE_INTEGER):jo(t)?this.wt(t.mapValue,r):(this.St(t.mapValue,r),this.ft(r)):"arrayValue"in t?(this.bt(t.arrayValue,r),this.ft(r)):Jt()}Vt(t,r){this.dt(r,25),this.Dt(t,r)}Dt(t,r){r.Rt(t)}St(t,r){const s=t.fields||{};this.dt(r,55);for(const u of Object.keys(s))this.Vt(u,r),this.Tt(s[u],r)}wt(t,r){var s,u;const p=t.fields||{};this.dt(r,53);const _="value",w=(null===(u=null===(s=p[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(Ai(w)),this.Vt(_,r),this.Tt(p[_],r)}bt(t,r){const s=t.values||[];this.dt(r,50);for(const u of s)this.Tt(u,r)}yt(t,r){this.dt(r,37),vn.fromName(t).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(t,r){t.At(r)}ft(t){t.At(2)}}function Ea(l){if(0===l)return 8;let t=0;return!(l>>4)&&(t+=4,l<<=4),!(l>>6)&&(t+=2,l<<=2),!(l>>7)&&(t+=1),t}function cp(l){const t=64-function(s){let u=0;for(let p=0;p<8;++p){const _=Ea(255&s[p]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(t/8)}ms.vt=new ms;class dp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ot(s.value),s=r.next();this.Nt()}Lt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=r.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const r=this.qt(t),s=cp(r);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Kt(t){const r=this.qt(t),s=cp(r);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const r=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(t),s=!!(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ft(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(t){const r=255&t;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const r=t+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class om{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class sm{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class lu{constructor(){this.jt=new dp,this.Ht=new om(this.jt),this.Jt=new sm(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ml{constructor(t,r,s,u){this.indexId=t,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new ml(this.indexId,this.documentKey,this.arrayValue,s)}}function Za(l,t){let r=l.indexId-t.indexId;return 0!==r?r:(r=Nc(l.arrayValue,t.arrayValue),0!==r?r:(r=Nc(l.directionalValue,t.directionalValue),0!==r?r:vn.comparator(l.documentKey,t.documentKey)))}function Nc(l,t){for(let r=0;r<l.length&&r<t.length;++r){const s=l[r]-t[r];if(0!==s)return s}return l.length-t.length}class pd{constructor(t){this.Xt=new Br((r,s)=>Qr.comparator(r.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const r of t.filters){const s=r;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(Tn(t.collectionGroup===this.collectionId),this.nn)return!1;const r=mi(t);if(void 0!==r&&!this.sn(r))return!1;const s=Xi(t);let u=new Set,p=0,_=0;for(;p<s.length&&this.sn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Xt.size>0){const w=this.Xt.getIterator().getNext();if(!u.has(w.field.canonicalString())){const x=s[p];if(!this.on(w,x)||!this._n(this.en[_++],x))return!1}++p}for(;p<s.length;++p)if(_>=this.en.length||!this._n(this.en[_++],s[p]))return!1;return!0}an(){if(this.nn)return null;let t=new Br(Qr.comparator);const r=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Qi(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),r.push(new Qi(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),r.push(new Qi(s.field,"asc"===s.dir?0:1)));return new bo(bo.UNKNOWN_ID,this.collectionId,r,Do.empty())}sn(t){for(const r of this.tn)if(this.on(r,t))return!0;return!1}on(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function Sh(l){var t,r;if(Tn(l instanceof ni||l instanceof ki),l instanceof ni){if(l instanceof Zo){const u=(null===(r=null===(t=l.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(p=>ni.create(l.field,"==",p)))||[];return ki.create(u,"or")}return l}const s=l.filters.map(u=>Sh(u));return ki.create(s,l.op)}function Rh(l){if(0===l.getFilters().length)return[];const t=Oc(Sh(l));return Tn(Mh(t)),gd(t)||md(t)?[t]:t.getFilters()}function gd(l){return l instanceof ni}function md(l){return l instanceof ki&&ra(l)}function Mh(l){return gd(l)||md(l)||function(r){if(r instanceof ki&&Nl(r)){for(const s of r.getFilters())if(!gd(s)&&!md(s))return!1;return!0}return!1}(l)}function Oc(l){if(Tn(l instanceof ni||l instanceof ki),l instanceof ni)return l;if(1===l.filters.length)return Oc(l.filters[0]);const t=l.filters.map(s=>Oc(s));let r=ki.create(t,l.op);return r=Go(r),Mh(r)?r:(Tn(r instanceof ki),Tn(gs(r)),Tn(r.filters.length>1),r.filters.reduce((s,u)=>kc(s,u)))}function kc(l,t){let r;return Tn(l instanceof ni||l instanceof ki),Tn(t instanceof ni||t instanceof ki),r=l instanceof ni?t instanceof ni?ki.create([l,t],"and"):hp(l,t):t instanceof ni?hp(t,l):function(u,p){if(Tn(u.filters.length>0&&p.filters.length>0),gs(u)&&gs(p))return Ol(u,p.getFilters());const _=Nl(u)?u:p,w=Nl(u)?p:u,x=_.filters.map(X=>kc(X,w));return ki.create(x,"or")}(l,t),Go(r)}function hp(l,t){if(gs(t))return Ol(t,l.getFilters());{const r=t.filters.map(s=>kc(l,s));return ki.create(r,"or")}}function Go(l){if(Tn(l instanceof ni||l instanceof ki),l instanceof ni)return l;const t=l.getFilters();if(1===t.length)return Go(t[0]);if(xa(l))return l;const r=t.map(u=>Go(u)),s=[];return r.forEach(u=>{u instanceof ni?s.push(u):u instanceof ki&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:ki.create(s,l.op)}class uu{constructor(){this.un=new qi}addToCollectionParentIndex(t,r){return this.un.add(r),yt.resolve()}getCollectionParents(t,r){return yt.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return yt.resolve()}deleteFieldIndex(t,r){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,r){return yt.resolve()}getDocumentsMatchingTarget(t,r){return yt.resolve(null)}getIndexType(t,r){return yt.resolve(0)}getFieldIndexes(t,r){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,r){return yt.resolve(yi.min())}getMinOffsetFromCollectionGroup(t,r){return yt.resolve(yi.min())}updateCollectionGroup(t,r,s){return yt.resolve()}updateIndexEntries(t,r){return yt.resolve()}}class qi{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r]||new Br(vr.comparator),p=!u.has(s);return this.index[r]=u.add(s),p}has(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(t){return(this.index[t]||new Br(vr.comparator)).toArray()}}const Gu=new Uint8Array(0);class Ph{constructor(t,r){this.databaseId=r,this.cn=new qi,this.ln=new gn(s=>ss(s),(s,u)=>E(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.cn.has(r)){const s=r.lastSegment(),u=r.popLast();t.addOnCommittedListener(()=>{this.cn.add(r)});const p={collectionId:s,parent:Ni(u)};return fp(t).put(p)}return yt.resolve()}getCollectionParents(t,r){const s=[],u=IDBKeyRange.bound([r,""],[Ir(r),""],!1,!0);return fp(t).U(u).next(p=>{for(const _ of p){if(_.collectionId!==r)break;s.push(we(_.parent))}return s})}addFieldIndex(t,r){const s=Wu(t),u={indexId:(w=r).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var w;delete u.indexId;const p=s.add(u);if(r.indexState){const _=$l(t);return p.next(w=>{_.put(im(w,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(t,r){const s=Wu(t),u=$l(t),p=Bl(t);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=Wu(t),s=Bl(t),u=$l(t);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,r){return yt.forEach(this.hn(r),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const p=new pd(s).an();if(null!=p)return this.addFieldIndex(t,p)}}))}getDocumentsMatchingTarget(t,r){const s=Bl(t);let u=!0;const p=new Map;return yt.forEach(this.hn(r),_=>this.Pn(t,_).next(w=>{u&&(u=!!w),p.set(_,w)})).next(()=>{if(u){let _=Lr();const w=[];return yt.forEach(p,(x,X)=>{var tr;Bt("IndexedDbIndexManager",`Using index ${tr=x,`id=${tr.indexId}|cg=${tr.collectionGroup}|f=${tr.fields.map(Zn=>`${Zn.fieldPath}:${Zn.kind}`).join(",")}`} to execute ${ss(r)}`);const ae=function(tr,Zn){const Kr=mi(Zn);if(void 0===Kr)return null;for(const Dr of $(tr,Kr.fieldPath))switch(Dr.op){case"array-contains-any":return Dr.value.arrayValue.values||[];case"array-contains":return[Dr.value]}return null}(X,x),Ie=function(tr,Zn){const Kr=new Map;for(const Dr of Xi(Zn))for(const gt of $(tr,Dr.fieldPath))switch(gt.op){case"==":case"in":Kr.set(Dr.fieldPath.canonicalString(),gt.value);break;case"not-in":case"!=":return Kr.set(Dr.fieldPath.canonicalString(),gt.value),Array.from(Kr.values())}return null}(X,x),We=function(tr,Zn){const Kr=[];let Dr=!0;for(const gt of Xi(Zn)){const $e=0===gt.kind?y(tr,gt.fieldPath,tr.startAt):U(tr,gt.fieldPath,tr.startAt);Kr.push($e.value),Dr&&(Dr=$e.inclusive)}return new os(Kr,Dr)}(X,x),Dt=function(tr,Zn){const Kr=[];let Dr=!0;for(const gt of Xi(Zn)){const $e=0===gt.kind?U(tr,gt.fieldPath,tr.endAt):y(tr,gt.fieldPath,tr.endAt);Kr.push($e.value),Dr&&(Dr=$e.inclusive)}return new os(Kr,Dr)}(X,x),cn=this.In(x,X,We),In=this.In(x,X,Dt),pn=this.Tn(x,X,Ie),Vn=this.En(x.indexId,ae,cn,We.inclusive,In,Dt.inclusive,pn);return yt.forEach(Vn,rr=>s.G(rr,r.limit).next(tr=>{tr.forEach(Zn=>{const Kr=vn.fromSegments(Zn.documentKey);_.has(Kr)||(_=_.add(Kr),w.push(Kr))})}))}).next(()=>w)}return yt.resolve(null)})}hn(t){let r=this.ln.get(t);return r||(r=0===t.filters.length?[t]:Rh(ki.create(t.filters,"and")).map(s=>Ka(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,r),r)}En(t,r,s,u,p,_,w){const x=(null!=r?r.length:1)*Math.max(s.length,p.length),X=x/(null!=r?r.length:1),ae=[];for(let Ie=0;Ie<x;++Ie){const We=r?this.dn(r[Ie/X]):Gu,Dt=this.An(t,We,s[Ie%X],u),cn=this.Rn(t,We,p[Ie%X],_),In=w.map(pn=>this.An(t,We,pn,!0));ae.push(...this.createRange(Dt,cn,In))}return ae}An(t,r,s,u){const p=new ml(t,vn.empty(),r,s);return u?p:p.Zt()}Rn(t,r,s,u){const p=new ml(t,vn.empty(),r,s);return u?p.Zt():p}Pn(t,r){const s=new pd(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,u).next(p=>{let _=null;for(const w of p)s.rn(w)&&(!_||w.fields.length>_.fields.length)&&(_=w);return _})}getIndexType(t,r){let s=2;const u=this.hn(r);return yt.forEach(u,p=>this.Pn(t,p).next(_=>{_?0!==s&&_.fields.length<function(x){let X=new Br(Qr.comparator),ae=!1;for(const Ie of x.filters)for(const We of Ie.getFlattenedFilters())We.field.isKeyField()||("array-contains"===We.op||"array-contains-any"===We.op?ae=!0:X=X.add(We.field));for(const Ie of x.orderBy)Ie.field.isKeyField()||(X=X.add(Ie.field));return X.size+(ae?1:0)}(p)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}Vn(t,r){const s=new lu;for(const u of Xi(t)){const p=r.data.field(u.fieldPath);if(null==p)return null;const _=s.Yt(u.kind);ms.vt.It(p,_)}return s.zt()}dn(t){const r=new lu;return ms.vt.It(t,r.Yt(0)),r.zt()}mn(t,r){const s=new lu;return ms.vt.It(jn(this.databaseId,r),s.Yt(function(p){const _=Xi(p);return 0===_.length?0:_[_.length-1].kind}(t))),s.zt()}Tn(t,r,s){if(null===s)return[];let u=[];u.push(new lu);let p=0;for(const _ of Xi(t)){const w=s[p++];for(const x of u)if(this.fn(r,_.fieldPath)&&$r(w))u=this.gn(u,_,w);else{const X=x.Yt(_.kind);ms.vt.It(w,X)}}return this.pn(u)}In(t,r,s){return this.Tn(t,r,s.position)}pn(t){const r=[];for(let s=0;s<t.length;++s)r[s]=t[s].zt();return r}gn(t,r,s){const u=[...t],p=[];for(const _ of s.arrayValue.values||[])for(const w of u){const x=new lu;x.seed(w.zt()),ms.vt.It(_,x.Yt(r.kind)),p.push(x)}return p}fn(t,r){return!!t.filters.find(s=>s instanceof ni&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,r){const s=Wu(t),u=$l(t);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(p=>{const _=[];return yt.forEach(p,w=>u.get([w.indexId,this.uid]).next(x=>{_.push(function(ae,Ie){const We=Ie?new Do(Ie.sequenceNumber,new yi(Ul(Ie.readTime),new vn(we(Ie.documentKey)),Ie.largestBatchId)):Do.empty(),Dt=ae.fields.map(([cn,In])=>new Qi(Qr.fromServerFormat(cn),In));return new bo(ae.indexId,ae.collectionGroup,Dt,We)}(w,x))})).next(()=>_)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:En(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,s){const u=Wu(t),p=$l(t);return this.yn(t).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(w=>yt.forEach(w,x=>p.put(im(x.indexId,this.uid,_,s)))))}updateIndexEntries(t,r){const s=new Map;return yt.forEach(r,(u,p)=>{const _=s.get(u.collectionGroup);return(_?yt.resolve(_):this.getFieldIndexes(t,u.collectionGroup)).next(w=>(s.set(u.collectionGroup,w),yt.forEach(w,x=>this.wn(t,u,x).next(X=>{const ae=this.Sn(p,x);return X.isEqual(ae)?yt.resolve():this.bn(t,p,x,X,ae)}))))})}Dn(t,r,s,u){return Bl(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,r.key),documentKey:r.key.path.toArray()})}vn(t,r,s,u){return Bl(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,r.key),r.key.path.toArray()])}wn(t,r,s){const u=Bl(t);let p=new Br(Za);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,r)])},(_,w)=>{p=p.add(new ml(s.indexId,r,w.arrayValue,w.directionalValue))}).next(()=>p)}Sn(t,r){let s=new Br(Za);const u=this.Vn(r,t);if(null==u)return s;const p=mi(r);if(null!=p){const _=t.data.field(p.fieldPath);if($r(_))for(const w of _.arrayValue.values||[])s=s.add(new ml(r.indexId,t.key,this.dn(w),u))}else s=s.add(new ml(r.indexId,t.key,Gu,u));return s}bn(t,r,s,u,p){Bt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const _=[];return function(x,X,ae,Ie,We){const Dt=x.getIterator(),cn=X.getIterator();let In=yo(Dt),pn=yo(cn);for(;In||pn;){let Vn=!1,rr=!1;if(In&&pn){const tr=ae(In,pn);tr<0?rr=!0:tr>0&&(Vn=!0)}else null!=In?rr=!0:Vn=!0;Vn?(Ie(pn),pn=yo(cn)):rr?(We(In),In=yo(Dt)):(In=yo(Dt),pn=yo(cn))}}(u,p,Za,w=>{_.push(this.Dn(t,r,s,w))},w=>{_.push(this.vn(t,r,s,w))}),yt.waitFor(_)}yn(t){let r=1;return $l(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(t,r,s){s=s.sort((_,w)=>Za(_,w)).filter((_,w,x)=>!w||0!==Za(_,x[w-1]));const u=[];u.push(t);for(const _ of s){const w=Za(_,t),x=Za(_,r);if(0===w)u[0]=t.Zt();else if(w>0&&x<0)u.push(_),u.push(_.Zt());else if(x>0)break}u.push(r);const p=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Gu,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Gu,[]]))}return p}Cn(t,r){return Za(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(cu)}getMinOffset(t,r){return yt.mapArray(this.hn(r),s=>this.Pn(t,s).next(u=>u||Jt())).next(cu)}}function fp(l){return Ii(l,"collectionParents")}function Bl(l){return Ii(l,"indexEntries")}function Wu(l){return Ii(l,"indexConfiguration")}function $l(l){return Ii(l,"indexState")}function cu(l){Tn(0!==l.length);let t=l[0].indexState.offset,r=t.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;xi(u,t)<0&&(t=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new yi(t.readTime,t.documentKey,r)}const ua={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new ws(t,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vd(l,t,r){const s=l.store("mutations"),u=l.store("documentMutations"),p=[],_=IDBKeyRange.only(r.batchId);let w=0;const x=s.J({range:_},(ae,Ie,We)=>(w++,We.delete()));p.push(x.next(()=>{Tn(1===w)}));const X=[];for(const ae of r.mutations){const Ie=qe(t,ae.key.path,r.batchId);p.push(u.delete(Ie)),X.push(ae.key)}return yt.waitFor(p).next(()=>X)}function vl(l){if(!l)return 0;let t;if(l.document)t=l.document;else if(l.unknownDocument)t=l.unknownDocument;else{if(!l.noDocument)throw Jt();t=l.noDocument}return JSON.stringify(t).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class jl{constructor(t,r,s,u){this.userId=t,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,r,s,u){Tn(""!==t.uid);const p=t.isAuthenticated()?t.uid:"";return new jl(p,r,s,u)}checkEmpty(t){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ja(t).J({index:"userMutationsIndex",range:s},(u,p,_)=>{r=!1,_.done()}).next(()=>r)}addMutationBatch(t,r,s,u){const p=Hl(t),_=Ja(t);return _.add({}).next(w=>{Tn("number"==typeof w);const x=new b(w,r,s,u),X=function(Dt,cn,In){const pn=In.baseMutations.map(rr=>Ll(Dt.ct,rr)),Vn=In.mutations.map(rr=>Ll(Dt.ct,rr));return{userId:cn,batchId:In.batchId,localWriteTimeMs:In.localWriteTime.toMillis(),baseMutations:pn,mutations:Vn}}(this.serializer,this.userId,x),ae=[];let Ie=new Br((We,Dt)=>En(We.canonicalString(),Dt.canonicalString()));for(const We of u){const Dt=qe(this.userId,We.key.path,w);Ie=Ie.add(We.key.path.popLast()),ae.push(_.put(X)),ae.push(p.put(Dt,Qt))}return Ie.forEach(We=>{ae.push(this.indexManager.addToCollectionParentIndex(t,We))}),t.addOnCommittedListener(()=>{this.Fn[w]=x.keys()}),yt.waitFor(ae).next(()=>x)})}lookupMutationBatch(t,r){return Ja(t).get(r).next(s=>s?(Tn(s.userId===this.userId),Ia(this.serializer,s)):null)}Mn(t,r){return this.Fn[r]?yt.resolve(this.Fn[r]):this.lookupMutationBatch(t,r).next(s=>{if(s){const u=s.keys();return this.Fn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(t,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Ja(t).J({index:"userMutationsIndex",range:u},(_,w,x)=>{w.userId===this.userId&&(Tn(w.batchId>=s),p=Ia(this.serializer,w)),x.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ja(t).J({index:"userMutationsIndex",range:r,reverse:!0},(u,p,_)=>{s=p.batchId,_.done()}).next(()=>s)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ja(t).U("userMutationsIndex",r).next(s=>s.map(u=>Ia(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,r){const s=et(this.userId,r.path),u=IDBKeyRange.lowerBound(s),p=[];return Hl(t).J({range:u},(_,w,x)=>{const[X,ae,Ie]=_,We=we(ae);if(X===this.userId&&r.path.isEqual(We))return Ja(t).get(Ie).next(Dt=>{if(!Dt)throw Jt();Tn(Dt.userId===this.userId),p.push(Ia(this.serializer,Dt))});x.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Br(En);const u=[];return r.forEach(p=>{const _=et(this.userId,p.path),w=IDBKeyRange.lowerBound(_),x=Hl(t).J({range:w},(X,ae,Ie)=>{const[We,Dt,cn]=X,In=we(Dt);We===this.userId&&p.path.isEqual(In)?s=s.add(cn):Ie.done()});u.push(x)}),yt.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1,p=et(this.userId,s),_=IDBKeyRange.lowerBound(p);let w=new Br(En);return Hl(t).J({range:_},(x,X,ae)=>{const[Ie,We,Dt]=x,cn=we(We);Ie===this.userId&&s.isPrefixOf(cn)?cn.length===u&&(w=w.add(Dt)):ae.done()}).next(()=>this.xn(t,w))}xn(t,r){const s=[],u=[];return r.forEach(p=>{u.push(Ja(t).get(p).next(_=>{if(null===_)throw Jt();Tn(_.userId===this.userId),s.push(Ia(this.serializer,_))}))}),yt.waitFor(u).next(()=>s)}removeMutationBatch(t,r){return vd(t._e,this.userId,r).next(s=>(t.addOnCommittedListener(()=>{this.On(r.batchId)}),yt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return yt.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return Hl(t).J({range:s},(p,_,w)=>{if(p[0]===this.userId){const x=we(p[1]);u.push(x)}else w.done()}).next(()=>{Tn(0===u.length)})})}containsKey(t,r){return du(t,this.userId,r)}Nn(t){return pp(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function du(l,t,r){const s=et(t,r.path),u=s[1],p=IDBKeyRange.lowerBound(s);let _=!1;return Hl(l).J({range:p,H:!0},(w,x,X)=>{const[ae,Ie,We]=w;ae===t&&Ie===u&&(_=!0),X.done()}).next(()=>_)}function Ja(l){return Ii(l,"mutations")}function Hl(l){return Ii(l,"documentMutations")}function pp(l){return Ii(l,"mutationQueues")}class Aa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Aa(0)}static kn(){return new Aa(-1)}}class Fc{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.qn(t).next(r=>{const s=new Aa(r.highestTargetId);return r.highestTargetId=s.next(),this.Qn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(r=>On.fromTimestamp(new Ln(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Qn(t,u)))}addTargetData(t,r){return this.Kn(t,r).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(r,s),this.Qn(t,s))))}updateTargetData(t,r){return this.Kn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>Ku(t).delete(r.targetId)).next(()=>this.qn(t)).next(s=>(Tn(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,r,s){let u=0;const p=[];return Ku(t).J((_,w)=>{const x=Ds(w);x.sequenceNumber<=r&&null===s.get(x.targetId)&&(u++,p.push(this.removeTargetData(t,x)))}).next(()=>yt.waitFor(p)).next(()=>u)}forEachTarget(t,r){return Ku(t).J((s,u)=>{const p=Ds(u);r(p)})}qn(t){return _d(t).get("targetGlobalKey").next(r=>(Tn(null!==r),r))}Qn(t,r){return _d(t).put("targetGlobalKey",r)}Kn(t,r){return Ku(t).put(Rc(this.serializer,r))}$n(t,r){let s=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,s=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(r=>r.targetCount)}getTargetData(t,r){const s=ss(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return Ku(t).J({range:u,index:"queryTargetsIndex"},(_,w,x)=>{const X=Ds(w);E(r,X.target)&&(p=X,x.done())}).next(()=>p)}addMatchingKeys(t,r,s){const u=[],p=el(t);return r.forEach(_=>{const w=Ni(_.path);u.push(p.put({targetId:s,path:w})),u.push(this.referenceDelegate.addReference(t,s,_))}),yt.waitFor(u)}removeMatchingKeys(t,r,s){const u=el(t);return yt.forEach(r,p=>{const _=Ni(p.path);return yt.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(t,s,p)])})}removeMatchingKeysForTargetId(t,r){const s=el(t),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=el(t);let p=Lr();return u.J({range:s,H:!0},(_,w,x)=>{const X=we(_[1]),ae=new vn(X);p=p.add(ae)}).next(()=>p)}containsKey(t,r){const s=Ni(r.path),u=IDBKeyRange.bound([s],[Ir(s)],!1,!0);let p=0;return el(t).J({index:"documentTargetsIndex",H:!0,range:u},([_,w],x,X)=>{0!==_&&(p++,X.done())}).next(()=>p>0)}ot(t,r){return Ku(t).get(r).next(s=>s?Ds(s):null)}}function Ku(l){return Ii(l,"targets")}function _d(l){return Ii(l,"targetGlobal")}function el(l){return Ii(l,"targetDocuments")}function gp([l,t],[r,s]){const u=En(l,r);return 0===u?En(t,s):u}class b_{constructor(t){this.Un=t,this.buffer=new Br(gp),this.Wn=0}Gn(){return++this.Wn}zn(t){const r=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();gp(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class mp{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var r=this;Bt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,te.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){mo(s)?Bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Tr(s)}yield r.Hn(3e5)}))}}class qu{constructor(t,r){this.Jn=t,this.params=r}calculateTargetCount(t,r){return this.Jn.Yn(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(0===r)return yt.resolve(li.oe);const s=new b_(r);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.Jn.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(ua)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ua):this.Xn(t,r))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,r){let s,u,p,_,w,x,X;const ae=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),u=this.params.maximumSequenceNumbersToCollect):u=Ie,_=Date.now(),this.nthSequenceNumber(t,u))).next(Ie=>(s=Ie,w=Date.now(),this.removeTargets(t,s,r))).next(Ie=>(p=Ie,x=Date.now(),this.removeOrphanedDocuments(t,s))).next(Ie=>(X=Date.now(),Cn()<=mr.$b.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-ae}ms\n\tDetermined least recently used ${u} in `+(w-_)+`ms\n\tRemoved ${p} targets in `+(x-w)+`ms\n\tRemoved ${Ie} documents in `+(X-x)+`ms\nTotal Duration: ${X-ae}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Ie})))}}class xh{constructor(t,r){this.db=t,this.garbageCollector=function am(l,t){return new qu(l,t)}(this,r)}Yn(t){const r=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>r.next(u=>s+u))}er(t){let r=0;return this.Zn(t,s=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Zn(t,r){return this.tr(t,(s,u)=>r(u))}addReference(t,r,s){return Ca(t,s)}removeReference(t,r,s){return Ca(t,s)}removeTargets(t,r,s){return this.db.getTargetCache().removeTargets(t,r,s)}markPotentiallyOrphaned(t,r){return Ca(t,r)}nr(t,r){return function(u,p){let _=!1;return pp(u).Y(w=>du(u,w,p).next(x=>(x&&(_=!0),yt.resolve(!x)))).next(()=>_)}(t,r)}removeOrphanedDocuments(t,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(t,(_,w)=>{if(w<=r){const x=this.nr(t,_).next(X=>{if(!X)return p++,s.getEntry(t,_).next(()=>(s.removeEntry(_,On.min()),el(t).delete([0,Ni(_.path)])))});u.push(x)}}).next(()=>yt.waitFor(u)).next(()=>s.apply(t)).next(()=>p)}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,r){return Ca(t,r)}tr(t,r){const s=el(t);let u,p=li.oe;return s.J({index:"documentTargetsIndex"},([_,w],{path:x,sequenceNumber:X})=>{0===_?(p!==li.oe&&r(new vn(we(u)),p),p=X,u=x):p=li.oe}).next(()=>{p!==li.oe&&r(new vn(we(u)),p)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ca(l,t){return el(l).put((u=l.currentSequenceNumber,{targetId:0,path:Ni(t.path),sequenceNumber:u}));var u}class yd{constructor(){this.changes=new gn(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,hi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?yt.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hu{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,s){return _l(t).put(s)}removeEntry(t,r,s){return _l(t).delete(function(p,_){const w=p.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],zu(_),w[w.length-1]]}(r,s))}updateMetadata(t,r){return this.getMetadata(t).next(s=>(s.byteSize+=r,this.rr(t,s)))}getEntry(t,r){let s=hi.newInvalidDocument(r);return _l(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(zl(r))},(u,p)=>{s=this.ir(r,p)}).next(()=>s)}sr(t,r){let s={size:0,document:hi.newInvalidDocument(r)};return _l(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(zl(r))},(u,p)=>{s={document:this.ir(r,p),size:vl(p)}}).next(()=>s)}getEntries(t,r){let s=vi();return this._r(t,r,(u,p)=>{const _=this.ir(u,p);s=s.insert(u,_)}).next(()=>s)}ar(t,r){let s=vi(),u=new di(vn.comparator);return this._r(t,r,(p,_)=>{const w=this.ir(p,_);s=s.insert(p,w),u=u.insert(p,vl(_))}).next(()=>({documents:s,ur:u}))}_r(t,r,s){if(r.isEmpty())return yt.resolve();let u=new Br(Oh);r.forEach(x=>u=u.add(x));const p=IDBKeyRange.bound(zl(u.first()),zl(u.last())),_=u.getIterator();let w=_.getNext();return _l(t).J({index:"documentKeyIndex",range:p},(x,X,ae)=>{const Ie=vn.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;w&&Oh(w,Ie)<0;)s(w,null),w=_.getNext();w&&w.isEqual(Ie)&&(s(w,X),w=_.hasNext()?_.getNext():null),w?ae.$(zl(w)):ae.done()}).next(()=>{for(;w;)s(w,null),w=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(t,r,s,u,p){const _=r.path,w=[_.popLast().toArray(),_.lastSegment(),zu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],x=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _l(t).U(IDBKeyRange.bound(w,x,!0)).next(X=>{null==p||p.incrementDocumentReadCount(X.length);let ae=vi();for(const Ie of X){const We=this.ir(vn.fromSegments(Ie.prefixPath.concat(Ie.collectionGroup,Ie.documentId)),Ie);We.isFoundDocument()&&(fi(r,We)||u.has(We.key))&&(ae=ae.insert(We.key,We))}return ae})}getAllFromCollectionGroup(t,r,s,u){let p=vi();const _=Nh(r,s),w=Nh(r,yi.max());return _l(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,w,!0)},(x,X,ae)=>{const Ie=this.ir(vn.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);p=p.insert(Ie.key,Ie),p.size===u&&ae.done()}).next(()=>p)}newChangeBuffer(t){return new Lc(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return Id(t).get("remoteDocumentGlobalKey").next(r=>(Tn(!!r),r))}rr(t,r){return Id(t).put("remoteDocumentGlobalKey",r)}ir(t,r){if(r){const s=function si(l,t){let r;if(t.document)r=wc(l.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=vn.fromSegments(t.noDocument.path),u=Ul(t.noDocument.readTime);r=hi.newNoDocument(s,u),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jt();{const s=vn.fromSegments(t.unknownDocument.path),u=Ul(t.unknownDocument.version);r=hi.newUnknownDocument(s,u)}}return t.readTime&&r.setReadTime(function(u){const p=new Ln(u[0],u[1]);return On.fromTimestamp(p)}(t.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(On.min()))return s}return hi.newInvalidDocument(t)}}function vp(l){return new hu(l)}class Lc extends yd{constructor(t,r){super(),this.cr=t,this.trackRemovals=r,this.lr=new gn(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const r=[];let s=0,u=new Br((p,_)=>En(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const w=this.lr.get(p);if(r.push(this.cr.removeEntry(t,p,w.readTime)),_.isValidDocument()){const x=Sc(this.cr.serializer,_);u=u.add(p.path.popLast());const X=vl(x);s+=X-w.size,r.push(this.cr.addEntry(t,p,x))}else if(s-=w.size,this.trackRemovals){const x=Sc(this.cr.serializer,_.convertToNoDocument(On.min()));r.push(this.cr.addEntry(t,p,x))}}),u.forEach(p=>{r.push(this.cr.indexManager.addToCollectionParentIndex(t,p))}),r.push(this.cr.updateMetadata(t,s)),yt.waitFor(r)}getFromCache(t,r){return this.cr.sr(t,r).next(s=>(this.lr.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,r){return this.cr.ar(t,r).next(({documents:s,ur:u})=>(u.forEach((p,_)=>{this.lr.set(p,{size:_,readTime:s.get(p).readTime})}),s))}}function Id(l){return Ii(l,"remoteDocumentGlobal")}function _l(l){return Ii(l,"remoteDocumentsV14")}function zl(l){const t=l.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Nh(l,t){const r=t.documentKey.path.toArray();return[l,zu(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Oh(l,t){const r=l.path.toArray(),s=t.path.toArray();let u=0;for(let p=0;p<r.length-2&&p<s.length-2;++p)if(u=En(r[p],s[p]),u)return u;return u=En(r.length,s.length),u||(u=En(r[r.length-2],s[s.length-2]),u||En(r[r.length-1],s[s.length-1]))}class _p{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class yp{constructor(t,r,s,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(null!==s&&va(s.mutation,u,Hi.empty(),Ln.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,Lr()).next(()=>s))}getLocalViewOfDocuments(t,r,s=Lr()){const u=Fo();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,s).next(p=>{let _=Fi();return p.forEach((w,x)=>{_=_.insert(w,x.overlayedDocument)}),_}))}getOverlayedDocuments(t,r){const s=Fo();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,Lr()))}populateOverlays(t,r,s){const u=[];return s.forEach(p=>{r.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(t,u).next(p=>{p.forEach((_,w)=>{r.set(_,w)})})}computeViews(t,r,s,u){let p=vi();const _=Bi(),w=Bi();return r.forEach((x,X)=>{const ae=s.get(X.key);u.has(X.key)&&(void 0===ae||ae.mutation instanceof ya)?p=p.insert(X.key,X):void 0!==ae?(_.set(X.key,ae.mutation.getFieldMask()),va(ae.mutation,X,ae.mutation.getFieldMask(),Ln.now())):_.set(X.key,Hi.empty())}),this.recalculateAndSaveOverlays(t,p).next(x=>(x.forEach((X,ae)=>_.set(X,ae)),r.forEach((X,ae)=>{var Ie;return w.set(X,new _p(ae,null!==(Ie=_.get(X))&&void 0!==Ie?Ie:null))}),w))}recalculateAndSaveOverlays(t,r){const s=Bi();let u=new di((_,w)=>_-w),p=Lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(_=>{for(const w of _)w.keys().forEach(x=>{const X=r.get(x);if(null===X)return;let ae=s.get(x)||Hi.empty();ae=w.applyToLocalView(X,ae),s.set(x,ae);const Ie=(u.get(w.batchId)||Lr()).add(x);u=u.insert(w.batchId,Ie)})}).next(()=>{const _=[],w=u.getReverseIterator();for(;w.hasNext();){const x=w.getNext(),X=x.key,ae=x.value,Ie=Li();ae.forEach(We=>{if(!p.has(We)){const Dt=ru(r.get(We),s.get(We));null!==Dt&&Ie.set(We,Dt),p=p.add(We)}}),_.push(this.documentOverlayCache.saveOverlays(t,X,Ie))}return yt.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,u){return vn.isDocumentKey((_=r).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):k(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,u):this.getDocumentsMatchingCollectionQuery(t,r,s,u);var _}getNextDocuments(t,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,u-p.size):yt.resolve(Fo());let w=-1,x=p;return _.next(X=>yt.forEach(X,(ae,Ie)=>(w<Ie.largestBatchId&&(w=Ie.largestBatchId),p.get(ae)?yt.resolve():this.remoteDocumentCache.getEntry(t,ae).next(We=>{x=x.insert(ae,We)}))).next(()=>this.populateOverlays(t,X,p)).next(()=>this.computeViews(t,x,X,Lr())).next(ae=>({batchId:w,changes:ko(ae)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new vn(r)).next(s=>{let u=Fi();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,s,u){const p=r.collectionGroup;let _=Fi();return this.indexManager.getCollectionParents(t,p).next(w=>yt.forEach(w,x=>{const X=(Ie=r,We=x.child(p),new ie(We,null,Ie.explicitOrderBy.slice(),Ie.filters.slice(),Ie.limit,Ie.limitType,Ie.startAt,Ie.endAt));var Ie,We;return this.getDocumentsMatchingCollectionQuery(t,X,s,u).next(ae=>{ae.forEach((Ie,We)=>{_=_.insert(Ie,We)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(t,r,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,p,u))).next(_=>{p.forEach((x,X)=>{const ae=X.getKey();null===_.get(ae)&&(_=_.insert(ae,hi.newInvalidDocument(ae)))});let w=Fi();return _.forEach((x,X)=>{const ae=p.get(x);void 0!==ae&&va(ae.mutation,X,Hi.empty(),Ln.now()),fi(r,X)&&(w=w.insert(x,X))}),w})}}class tl{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return yt.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Lo(u.createTime)}),yt.resolve();var u}getNamedQuery(t,r){return yt.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,{name:(u=r).name,query:Mc(u.bundledQuery),readTime:Lo(u.readTime)}),yt.resolve();var u}}class lm{constructor(){this.overlays=new di(vn.comparator),this.Ir=new Map}getOverlay(t,r){return yt.resolve(this.overlays.get(r))}getOverlays(t,r){const s=Fo();return yt.forEach(r,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((u,p)=>{this.ht(t,r,p)}),yt.resolve()}removeOverlaysForBatchId(t,r,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(s)),yt.resolve()}getOverlaysForCollection(t,r,s){const u=Fo(),p=r.length+1,_=new vn(r.child("")),w=this.overlays.getIteratorFrom(_);for(;w.hasNext();){const x=w.getNext().value,X=x.getKey();if(!r.isPrefixOf(X.path))break;X.path.length===p&&x.largestBatchId>s&&u.set(x.getKey(),x)}return yt.resolve(u)}getOverlaysForCollectionGroup(t,r,s,u){let p=new di((X,ae)=>X-ae);const _=this.overlays.getIterator();for(;_.hasNext();){const X=_.getNext().value;if(X.getKey().getCollectionGroup()===r&&X.largestBatchId>s){let ae=p.get(X.largestBatchId);null===ae&&(ae=Fo(),p=p.insert(X.largestBatchId,ae)),ae.set(X.getKey(),X)}}const w=Fo(),x=p.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((X,ae)=>w.set(X,ae)),!(w.size()>=u)););return yt.resolve(w)}ht(t,r,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new O(r,s));let p=this.Ir.get(r);void 0===p&&(p=Lr(),this.Ir.set(r,p)),this.Ir.set(r,p.add(s.key))}}class Vc{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,yt.resolve()}}class fu{constructor(){this.Tr=new Br(Jo.Er),this.dr=new Br(Jo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const s=new Jo(t,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Vr(new Jo(t,r))}mr(t,r){t.forEach(s=>this.removeReference(s,r))}gr(t){const r=new vn(new vr([])),s=new Jo(r,t),u=new Jo(r,t+1),p=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),p.push(_.key)}),p}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new vn(new vr([])),s=new Jo(r,t),u=new Jo(r,t+1);let p=Lr();return this.dr.forEachInRange([s,u],_=>{p=p.add(_.key)}),p}containsKey(t){const r=new Jo(t,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&t.isEqual(s.key)}}class Jo{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return vn.comparator(t.key,r.key)||En(t.wr,r.wr)}static Ar(t,r){return En(t.wr,r.wr)||vn.comparator(t.key,r.key)}}class Ed{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Br(Jo.Er)}checkEmpty(t){return yt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,s,u){const p=this.Sr;this.Sr++;const _=new b(p,r,s,u);this.mutationQueue.push(_);for(const w of u)this.br=this.br.add(new Jo(w.key,p)),this.indexManager.addToCollectionParentIndex(t,w.key.path.popLast());return yt.resolve(_)}lookupMutationBatch(t,r){return yt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const u=this.vr(r+1),p=u<0?0:u;return yt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new Jo(r,0),u=new Jo(r,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([s,u],_=>{const w=this.Dr(_.wr);p.push(w)}),yt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Br(En);return r.forEach(u=>{const p=new Jo(u,0),_=new Jo(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,_],w=>{s=s.add(w.wr)})}),yt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1;let p=s;vn.isDocumentKey(p)||(p=p.child(""));const _=new Jo(new vn(p),0);let w=new Br(En);return this.br.forEachWhile(x=>{const X=x.key.path;return!!s.isPrefixOf(X)&&(X.length===u&&(w=w.add(x.wr)),!0)},_),yt.resolve(this.Cr(w))}Cr(t){const r=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&r.push(u)}),r}removeMutationBatch(t,r){Tn(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return yt.forEach(r.mutations,u=>{const p=new Jo(u.key,r.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,r){const s=new Jo(r,0),u=this.br.firstAfterOrEqual(s);return yt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return yt.resolve()}Fr(t,r){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Uc{constructor(t){this.Mr=t,this.docs=new di(vn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,u=this.docs.get(s),p=u?u.size:0,_=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return yt.resolve(s?s.document.mutableCopy():hi.newInvalidDocument(r))}getEntries(t,r){let s=vi();return r.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():hi.newInvalidDocument(u))}),yt.resolve(s)}getDocumentsMatchingQuery(t,r,s,u){let p=vi();const _=r.path,w=new vn(_.child("")),x=this.docs.getIteratorFrom(w);for(;x.hasNext();){const{key:X,value:{document:ae}}=x.getNext();if(!_.isPrefixOf(X.path))break;X.path.length>_.length+1||xi(ao(ae),s)<=0||(u.has(ae.key)||fi(r,ae))&&(p=p.insert(ae.key,ae.mutableCopy()))}return yt.resolve(p)}getAllFromCollectionGroup(t,r,s,u){Jt()}Or(t,r){return yt.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new kh(this)}getSize(t){return yt.resolve(this.size)}}class kh extends yd{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),yt.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}class Ip{constructor(t){this.persistence=t,this.Nr=new gn(r=>ss(r),E),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fu,this.targetCount=0,this.kr=Aa.Bn()}forEachTarget(t,r){return this.Nr.forEach((s,u)=>r(u)),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),yt.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new Aa(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,yt.resolve()}updateTargetData(t,r){return this.Kn(r),yt.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,r,s){let u=0;const p=[];return this.Nr.forEach((_,w)=>{w.sequenceNumber<=r&&null===s.get(w.targetId)&&(this.Nr.delete(_),p.push(this.removeMatchingKeysForTargetId(t,w.targetId)),u++)}),yt.waitFor(p).next(()=>u)}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,r){const s=this.Nr.get(r)||null;return yt.resolve(s)}addMatchingKeys(t,r,s){return this.Br.Rr(r,s),yt.resolve()}removeMatchingKeys(t,r,s){this.Br.mr(r,s);const u=this.persistence.referenceDelegate,p=[];return u&&r.forEach(_=>{p.push(u.markPotentiallyOrphaned(t,_))}),yt.waitFor(p)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),yt.resolve()}getMatchingKeysForTargetId(t,r){const s=this.Br.yr(r);return yt.resolve(s)}containsKey(t,r){return yt.resolve(this.Br.containsKey(r))}}class Ad{constructor(t,r){this.qr={},this.overlays={},this.Qr=new li(0),this.Kr=!1,this.Kr=!0,this.$r=new Vc,this.referenceDelegate=t(this),this.Ur=new Ip(this),this.indexManager=new uu,this.remoteDocumentCache=new Uc(s=>this.referenceDelegate.Wr(s)),this.serializer=new en(r),this.Gr=new tl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new lm,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.qr[t.toKey()];return s||(s=new Ed(r,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,s){Bt("MemoryPersistence","Starting transaction:",t);const u=new Bc(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(t,r){return yt.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,r)))}}class Bc extends $t{constructor(t){super(),this.currentSequenceNumber=t}}class $c{constructor(t){this.persistence=t,this.Jr=new fu,this.Yr=null}static Zr(t){return new $c(t)}get Xr(){if(this.Yr)return this.Yr;throw Jt()}addReference(t,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),yt.resolve()}removeReference(t,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),yt.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),yt.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>s.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.Xr,s=>{const u=vn.fromPath(s);return this.ei(t,u).next(p=>{p||r.removeEntry(u,On.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return yt.or([()=>yt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}class Td{constructor(t){this.serializer=t}O(t,r,s,u){const p=new qo("createOrUpgrade",r);var x;s<1&&u>=1&&(t.createObjectStore("owner"),(x=t).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Oe,{unique:!0}),x.createObjectStore("documentMutations"),yl(t),function(x){x.createObjectStore("remoteDocuments")}(t));let _=yt.resolve();return s<3&&u>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(t),yl(t)),_=_.next(()=>function(x){const X=x.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:On.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",ae)}(p))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(x,X){return X.store("mutations").U().next(ae=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Oe,{unique:!0});const Ie=X.store("mutations"),We=ae.map(Dt=>Ie.put(Dt));return yt.waitFor(We)})}(t,p))),_=_.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(_=_.next(()=>this.ni(p))),s<6&&u>=6&&(_=_.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(t),this.ri(p)))),s<7&&u>=7&&(_=_.next(()=>this.ii(p))),s<8&&u>=8&&(_=_.next(()=>this.si(t,p))),s<9&&u>=9&&(_=_.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(_=_.next(()=>this.oi(p))),s<11&&u>=11&&(_=_.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(_=_.next(()=>{!function(x){const X=x.createObjectStore("documentOverlays",{keyPath:wi});X.createIndex("collectionPathOverlayIndex",lo,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",wo,{unique:!1})}(t)})),s<13&&u>=13&&(_=_.next(()=>function(x){const X=x.createObjectStore("remoteDocumentsV14",{keyPath:_t});X.createIndex("documentKeyIndex",qt),X.createIndex("collectionGroupIndex",rn)}(t)).next(()=>this._i(t,p)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(t,p))),s<15&&u>=15&&(_=_.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Zr}).createIndex("sequenceNumberIndex",ci,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:Di}).createIndex("documentKeyIndex",ri,{unique:!1})}(t))),s<16&&u>=16&&(_=_.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(x){x.createObjectStore("globals",{keyPath:"name"})}(t)})),_}ri(t){let r=0;return t.store("remoteDocuments").J((s,u)=>{r+=vl(u)}).next(()=>{const s={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const r=t.store("mutationQueues"),s=t.store("mutations");return r.U().next(u=>yt.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(w=>yt.forEach(w,x=>{Tn(x.userId===p.userId);const X=Ia(this.serializer,x);return vd(t,p.userId,X).next(()=>{})}))}))}ii(t){const r=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((_,w)=>{const x=new vr(_),X=[0,Ni(x)];p.push(r.get(X).next(ae=>ae?yt.resolve():r.put({targetId:0,path:Ni(x),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>yt.waitFor(p))})}si(t,r){t.createObjectStore("collectionParents",{keyPath:Wn});const s=r.store("collectionParents"),u=new qi,p=_=>{if(u.add(_)){const w=_.lastSegment(),x=_.popLast();return s.put({collectionId:w,parent:Ni(x)})}};return r.store("remoteDocuments").J({H:!0},(_,w)=>{const x=new vr(_);return p(x.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([_,w,x],X)=>{const ae=we(w);return p(ae.popLast())}))}oi(t){const r=t.store("targets");return r.J((s,u)=>{const p=Ds(u),_=Rc(this.serializer,p);return r.put(_)})}_i(t,r){const s=r.store("remoteDocuments"),u=[];return s.J((p,_)=>{const w=r.store("remoteDocumentsV14"),x=(Ie=_,Ie.document?new vn(vr.fromString(Ie.document.name).popFirst(5)):Ie.noDocument?vn.fromSegments(Ie.noDocument.path):Ie.unknownDocument?vn.fromSegments(Ie.unknownDocument.path):Jt()).path.toArray(),X={prefixPath:x.slice(0,x.length-2),collectionGroup:x[x.length-2],documentId:x[x.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Ie;u.push(w.put(X))}).next(()=>yt.waitFor(u))}ai(t,r){const s=r.store("mutations"),u=vp(this.serializer),p=new Ad($c.Zr,this.serializer.ct);return s.U().next(_=>{const w=new Map;return _.forEach(x=>{var X;let ae=null!==(X=w.get(x.userId))&&void 0!==X?X:Lr();Ia(this.serializer,x).keys().forEach(Ie=>ae=ae.add(Ie)),w.set(x.userId,ae)}),yt.forEach(w,(x,X)=>{const ae=new Ve(X),Ie=us.lt(this.serializer,ae),We=p.getIndexManager(ae),Dt=jl.lt(ae,this.serializer,We,p.referenceDelegate);return new yp(u,Dt,Ie,We).recalculateAndSaveOverlaysForDocumentKeys(new ps(r,li.oe),x).next()})})}}function yl(l){l.createObjectStore("targetDocuments",{keyPath:Pn}).createIndex("documentTargetsIndex",qn,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",An,{unique:!0}),l.createObjectStore("targetGlobal")}const Fh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bd{constructor(t,r,s,u,p,_,w,x,X,ae,Ie=17){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=s,this.ui=p,this.window=_,this.document=w,this.ci=X,this.li=ae,this.hi=Ie,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=We=>Promise.resolve(),!bd.D())throw new nn(Mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xh(this,u),this.Ai=r+"main",this.serializer=new en(x),this.Ri=new ji(this.Ai,this.hi,new Td(this.serializer)),this.$r=new wh,this.Ur=new Fc(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vp(this.serializer),this.Gr=new up,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ae&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nn(Mt.FAILED_PRECONDITION,Fh);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new li(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var r=this;return this.di=function(){var s=(0,te.A)(function*(u){if(r.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var r=(0,te.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,te.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Il(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(r=>this.isPrimary&&!r?this.bi(t).next(()=>!1):!!r&&this.Di(t).next(()=>!0))).catch(t=>{if(mo(t))return Bt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Xu(t).get("owner").next(r=>yt.resolve(this.vi(r)))}Ci(t){return Il(t).delete(this.clientId)}Fi(){var t=this;return(0,te.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Ii(s,"clientMetadata");return u.U().next(p=>{const _=t.xi(p,18e5),w=p.filter(x=>-1===_.indexOf(x));return yt.forEach(w,x=>u.delete(x.clientId)).next(()=>w)})}).catch(()=>[]);if(t.Vi)for(const s of r)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?yt.resolve(!0):Xu(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new nn(Mt.FAILED_PRECONDITION,Fh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Il(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Bt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,te.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new ps(r,li.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,r){return t.filter(s=>this.Mi(s.updateTimeMs,r)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Il(t).U().next(r=>this.xi(r,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,r){return jl.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Ph(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return us.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,r,s){Bt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===r?"readonly":"readwrite",p=17===(x=this.hi)?no:16===x?$o:15===x?Bo:14===x?Xo:13===x?uo:12===x?No:11===x?vo:void Jt();var x;let _;return this.Ri.runTransaction(t,u,p,w=>(_=new ps(w,this.Qr?this.Qr.next():li.oe),"readwrite-primary"===r?this.wi(_).next(x=>!!x||this.Si(_)).next(x=>{if(!x)throw yr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new nn(Mt.FAILED_PRECONDITION,As);return s(_)}).next(x=>this.Di(_).next(()=>x)):this.Ki(_).next(()=>s(_)))).then(w=>(_.raiseOnCommittedEvent(),w))}Ki(t){return Xu(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new nn(Mt.FAILED_PRECONDITION,Fh)})}Di(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xu(t).put("owner",r)}static D(){return ji.D()}bi(t){const r=Xu(t);return r.get("owner").next(s=>this.vi(s)?(Bt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):yt.resolve())}Mi(t,r){const s=Date.now();return!(t<s-r||t>s&&(yr(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,ir.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var r;try{const s=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(t)));return Bt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return yr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){yr("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Xu(l){return Ii(l,"owner")}function Il(l){return Ii(l,"clientMetadata")}function Ta(l,t){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+t+"/"+r+"/"}class Vo{constructor(t,r,s,u){this.targetId=t,this.fromCache=r,this.$i=s,this.Ui=u}static Wi(t,r){let s=Lr(),u=Lr();for(const p of r.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Vo(t,r.fromCache,s,u)}}class Ep{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Lh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ir.nr)()?8:ta((0,ir.ZQ)())>0?6:4}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,s,u){const p={result:null};return this.Yi(t,r).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Zi(t,r,u,s).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new Ep;return this.Xi(t,r,_).next(w=>{if(p.result=w,this.zi)return this.es(t,r,_,w.size)})}).next(()=>p.result)}es(t,r,s,u){return s.documentReadCount<this.ji?(Cn()<=mr.$b.DEBUG&&Bt("QueryEngine","SDK will not create cache indexes for query:",_i(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),yt.resolve()):(Cn()<=mr.$b.DEBUG&&Bt("QueryEngine","Query:",_i(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Cn()<=mr.$b.DEBUG&&Bt("QueryEngine","The SDK decides to create cache indexes for query:",_i(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,be(r))):yt.resolve())}Yi(t,r){if(ue(r))return yt.resolve(null);let s=be(r);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Cr(r,null,"F"),s=be(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(p=>{const _=Lr(...p);return this.Ji.getDocuments(t,_).next(w=>this.indexManager.getMinOffset(t,s).next(x=>{const X=this.ts(r,w);return this.ns(r,X,_,x.readTime)?this.Yi(t,Cr(r,null,"F")):this.rs(t,X,r,x)}))})))}Zi(t,r,s,u){return ue(r)||u.isEqual(On.min())?yt.resolve(null):this.Ji.getDocuments(t,s).next(p=>{const _=this.ts(r,p);return this.ns(r,_,s,u)?yt.resolve(null):(Cn()<=mr.$b.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),_i(r)),this.rs(t,_,r,ns(u,-1)).next(w=>w))})}ts(t,r){let s=new Br(Wi(t));return r.forEach((u,p)=>{fi(t,p)&&(s=s.add(p))}),s}ns(t,r,s,u){if(null===t.limit)return!1;if(s.size!==r.size)return!0;const p="F"===t.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(t,r,s){return Cn()<=mr.$b.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",_i(r)),this.Ji.getDocumentsMatchingQuery(t,r,yi.min(),s)}rs(t,r,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(p=>(r.forEach(_=>{p=p.insert(_.key,_)}),p))}}class Vh{constructor(t,r,s,u){this.persistence=t,this.ss=r,this.serializer=u,this.os=new di(En),this._s=new gn(p=>ss(p),E),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function Ap(l,t,r,s){return new Vh(l,t,r,s)}function Uh(l,t){return pu.apply(this,arguments)}function pu(){return(pu=(0,te.A)(function*(l,t){const r=Lt(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,r.ls(t),r.mutationQueue.getAllMutationBatches(s))).next(p=>{const _=[],w=[];let x=Lr();for(const X of u){_.push(X.batchId);for(const ae of X.mutations)x=x.add(ae.key)}for(const X of p){w.push(X.batchId);for(const ae of X.mutations)x=x.add(ae.key)}return r.localDocuments.getDocuments(s,x).next(X=>({hs:X,removedBatchIds:_,addedBatchIds:w}))})})})).apply(this,arguments)}function jc(l){const t=Lt(l);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function Hc(l,t,r){let s=Lr(),u=Lr();return r.forEach(p=>s=s.add(p)),t.getEntries(l,s).next(p=>{let _=vi();return r.forEach((w,x)=>{const X=p.get(w);x.isFoundDocument()!==X.isFoundDocument()&&(u=u.add(w)),x.isNoDocument()&&x.version.isEqual(On.min())?(t.removeEntry(w,x.readTime),_=_.insert(w,x)):!X.isValidDocument()||x.version.compareTo(X.version)>0||0===x.version.compareTo(X.version)&&X.hasPendingWrites?(t.addEntry(x),_=_.insert(w,x)):Bt("LocalStore","Ignoring outdated watch update for ",w,". Current version:",X.version," Watch version:",x.version)}),{Ps:_,Is:u}})}function wd(l,t){const r=Lt(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Qu(l,t){const r=Lt(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Ur.getTargetData(s,t).next(p=>p?(u=p,yt.resolve(u)):r.Ur.allocateTargetId(s).next(_=>(u=new gl(t,_,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(t,s.targetId)),s})}function cs(l,t,r){return gu.apply(this,arguments)}function gu(){return(gu=(0,te.A)(function*(l,t,r){const s=Lt(l),u=s.os.get(t),p=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",p,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!mo(_))throw _;Bt("LocalStore",`Failed to update sequence numbers for target ${t}: ${_}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function Yu(l,t,r){const s=Lt(l);let u=On.min(),p=Lr();return s.persistence.runTransaction("Execute query","readwrite",_=>function(x,X,ae){const Ie=Lt(x),We=Ie._s.get(ae);return void 0!==We?yt.resolve(Ie.os.get(We)):Ie.Ur.getTargetData(X,ae)}(s,_,be(t)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,w.targetId).next(x=>{p=x})}).next(()=>s.ss.getDocumentsMatchingQuery(_,t,r?u:On.min(),r?p:Lr())).next(w=>(Sd(s,zi(t),w),{documents:w,Ts:p})))}function Cp(l,t){const r=Lt(l),s=Lt(r.Ur),u=r.os.get(t);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,t).next(_=>_?_.target:null))}function zc(l,t){const r=Lt(l),s=r.us.get(t)||On.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.cs.getAllFromCollectionGroup(u,t,ns(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Sd(r,t,u),u))}function Sd(l,t,r){let s=l.us.get(t)||On.min();r.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),l.us.set(t,s)}function $h(){return($h=(0,te.A)(function*(l,t,r,s){const u=Lt(l);let p=Lr(),_=vi();for(const X of r){const ae=t.Es(X.metadata.name);X.document&&(p=p.add(ae));const Ie=t.ds(X);Ie.setReadTime(t.As(X.metadata.readTime)),_=_.insert(ae,Ie)}const w=u.cs.newChangeBuffer({trackRemovals:!0}),x=yield Qu(u,(ae=s,be(N(vr.fromString(`__bundle__/docs/${ae}`)))));var ae;return u.persistence.runTransaction("Apply bundle documents","readwrite",X=>Hc(X,w,_).next(ae=>(w.apply(X),ae)).next(ae=>u.Ur.removeMatchingKeysForTargetId(X,x.targetId).next(()=>u.Ur.addMatchingKeys(X,p,x.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(X,ae.Ps,ae.Is)).next(()=>ae.Ps)))})).apply(this,arguments)}function Tp(l,t){return La.apply(this,arguments)}function La(){return(La=(0,te.A)(function*(l,t,r=Lr()){const s=yield Qu(l,be(Mc(t.bundledQuery))),u=Lt(l);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=Lo(t.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(p,t);const w=s.withResumeToken(Jr.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(w.targetId,w),u.Ur.updateTargetData(p,w).next(()=>u.Ur.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Ur.addMatchingKeys(p,r,s.targetId)).next(()=>u.Gr.saveNamedQuery(p,t))})})).apply(this,arguments)}function vs(l,t){return`firestore_clients_${l}_${t}`}function cm(l,t,r){let s=`firestore_mutations_${l}_${r}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function jh(l,t){return`firestore_targets_${l}_${t}`}class Hh{constructor(t,r,s,u){this.user=t,this.batchId=r,this.state=s,this.error=u}static Rs(t,r,s){const u=JSON.parse(s);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new nn(u.error.code,u.error.message))),_?new Hh(t,r,u.state,p):(yr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mu{constructor(t,r,s){this.targetId=t,this.state=r,this.error=s}static Rs(t,r){const s=JSON.parse(r);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new nn(s.error.code,s.error.message))),p?new mu(t,s.state,u):(yr("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ss{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Rs(t,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=qa();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=fs(s.activeTargetIds[_]),p=p.add(s.activeTargetIds[_]);return u?new Ss(t,p):(yr("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class vu{constructor(t,r){this.clientId=t,this.onlineState=r}static Rs(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new vu(r.clientId,r.onlineState):(yr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Zu{constructor(){this.activeTargetIds=qa()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _u{constructor(t,r,s,u,p){this.window=t,this.ui=r,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new di(En),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=vs(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Zu),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,te.A)(function*(){const r=yield t.syncEngine.Qi();for(const u of r){if(u===t.ps)continue;const p=t.getItem(vs(t.persistenceKey,u));if(p){const _=Ss.Rs(u,p);_&&(t.Ss=t.Ss.insert(_.clientId,_))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let r=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,r,s){this.qs(t,r,s),this.Qs(t)}addLocalQueryTarget(t,r=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(jh(this.persistenceKey,t));if(u){const p=mu.Rs(t,u);p&&(s=p.state)}}return r&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(jh(this.persistenceKey,t))}updateQueryState(t,r,s){this.$s(t,r,s)}handleUserChange(t,r,s){r.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return Bt("SharedClientState","READ",t,r),r}setItem(t,r){Bt("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){Bt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var r=this;const s=t;if(s.storageArea===this.storage){if(Bt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,te.A)(function*(){if(r.started){if(null!==s.key)if(r.Cs.test(s.key)){if(null==s.newValue){const u=r.Gs(s.key);return r.zs(u,null)}{const u=r.js(s.key,s.newValue);if(u)return r.zs(u.clientId,u)}}else if(r.Fs.test(s.key)){if(null!==s.newValue){const u=r.Hs(s.key,s.newValue);if(u)return r.Js(u)}}else if(r.Ms.test(s.key)){if(null!==s.newValue){const u=r.Ys(s.key,s.newValue);if(u)return r.Zs(u)}}else if(s.key===r.xs){if(null!==s.newValue){const u=r.Ls(s.newValue);if(u)return r.Bs(u)}}else if(s.key===r.vs){const u=function(_){let w=li.oe;if(null!=_)try{const x=JSON.parse(_);Tn("number"==typeof x),w=x}catch(x){yr("SharedClientState","Failed to read sequence number from WebStorage",x)}return w}(s.newValue);u!==li.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Os){const u=r.Xs(s.newValue);yield Promise.all(u.map(p=>r.syncEngine.eo(p)))}}else r.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,r,s){const u=new Hh(this.currentUser,t,r,s),p=cm(this.persistenceKey,this.currentUser,t);this.setItem(p,u.Vs())}Qs(t){const r=cm(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,r,s){const u=jh(this.persistenceKey,t),p=new mu(t,r,s);this.setItem(u,p.Vs())}Ws(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Os,r)}Gs(t){const r=this.Cs.exec(t);return r?r[1]:null}js(t,r){const s=this.Gs(t);return Ss.Rs(s,r)}Hs(t,r){const s=this.Fs.exec(t),u=Number(s[1]);return Hh.Rs(new Ve(void 0!==s[2]?s[2]:null),u,r)}Ys(t,r){const s=this.Ms.exec(t),u=Number(s[1]);return mu.Rs(u,r)}Ls(t){return vu.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var r=this;return(0,te.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.no(t.batchId,t.state,t.error);Bt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,r){const s=r?this.Ss.insert(t,r):this.Ss.remove(t),u=this.ks(this.Ss),p=this.ks(s),_=[],w=[];return p.forEach(x=>{u.has(x)||_.push(x)}),u.forEach(x=>{p.has(x)||w.push(x)}),this.syncEngine.io(_,w).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let r=qa();return t.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class nl{constructor(){this.so=new Zu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,s){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Zu,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Gc{_o(t){}shutdown(){}}class El{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rd=null;function zh(){return null===Rd?Rd=268435456+Math.round(2147483648*Math.random()):Rd++,"0x"+Rd.toString(16)}const ba={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Md{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const _s="WebChannelConnection";class bp extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(r,s,u,p,_){const w=zh(),x=this.xo(r,s.toUriEncodedString());Bt("RestConnection",`Sending RPC '${r}' ${w}:`,x,u);const X={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(X,p,_),this.No(r,x,X,u).then(ae=>(Bt("RestConnection",`Received RPC '${r}' ${w}: `,ae),ae),ae=>{throw cr("RestConnection",`RPC '${r}' ${w} failed with error: `,ae,"url: ",x,"request:",u),ae})}Lo(r,s,u,p,_,w){return this.Mo(r,s,u,p,_)}Oo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ot,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,_)=>r[_]=p),u&&u.headers.forEach((p,_)=>r[_]=p)}xo(r,s){return`${this.Do}/v1/${s}:${ba[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,s,u){const p=zh();return new Promise((_,w)=>{const x=new Pi;x.setWithCredentials(!0),x.listenOnce(st.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case kt.NO_ERROR:const ae=x.getResponseJson();Bt(_s,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(ae)),_(ae);break;case kt.TIMEOUT:Bt(_s,`RPC '${t}' ${p} timed out`),w(new nn(Mt.DEADLINE_EXCEEDED,"Request time out"));break;case kt.HTTP_ERROR:const Ie=x.getStatus();if(Bt(_s,`RPC '${t}' ${p} failed with status:`,Ie,"response text:",x.getResponseText()),Ie>0){let We=x.getResponseJson();Array.isArray(We)&&(We=We[0]);const Dt=null==We?void 0:We.error;if(Dt&&Dt.status&&Dt.message){const cn=function(pn){const Vn=pn.toLowerCase().replace(/_/g,"-");return Object.values(Mt).indexOf(Vn)>=0?Vn:Mt.UNKNOWN}(Dt.status);w(new nn(cn,Dt.message))}else w(new nn(Mt.UNKNOWN,"Server responded with status "+x.getStatus()))}else w(new nn(Mt.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{Bt(_s,`RPC '${t}' ${p} completed.`)}});const X=JSON.stringify(u);Bt(_s,`RPC '${t}' ${p} sending request:`,u),x.send(r,"POST",X,s,15)})}Bo(t,r,s){const u=zh(),p=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],_=ve(),w=sn(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(x.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Oo(x.initMessageHeaders,r,s),x.encodeInitMessageHeaders=!0;const ae=p.join("");Bt(_s,`Creating RPC '${t}' stream ${u}: ${ae}`,x);const Ie=_.createWebChannel(ae,x);let We=!1,Dt=!1;const cn=new Md({Io:pn=>{Dt?Bt(_s,`Not sending because RPC '${t}' stream ${u} is closed:`,pn):(We||(Bt(_s,`Opening RPC '${t}' stream ${u} transport.`),Ie.open(),We=!0),Bt(_s,`RPC '${t}' stream ${u} sending:`,pn),Ie.send(pn))},To:()=>Ie.close()}),In=(pn,Vn,rr)=>{pn.listen(Vn,tr=>{try{rr(tr)}catch(Zn){setTimeout(()=>{throw Zn},0)}})};return In(Ie,Rt.EventType.OPEN,()=>{Dt||(Bt(_s,`RPC '${t}' stream ${u} transport opened.`),cn.yo())}),In(Ie,Rt.EventType.CLOSE,()=>{Dt||(Dt=!0,Bt(_s,`RPC '${t}' stream ${u} transport closed`),cn.So())}),In(Ie,Rt.EventType.ERROR,pn=>{Dt||(Dt=!0,cr(_s,`RPC '${t}' stream ${u} transport errored:`,pn),cn.So(new nn(Mt.UNAVAILABLE,"The operation could not be completed")))}),In(Ie,Rt.EventType.MESSAGE,pn=>{var Vn;if(!Dt){const rr=pn.data[0];Tn(!!rr);const Zn=rr.error||(null===(Vn=rr[0])||void 0===Vn?void 0:Vn.error);if(Zn){Bt(_s,`RPC '${t}' stream ${u} received error:`,Zn);const Kr=Zn.status;let Dr=function(ot){const It=re[ot];if(void 0!==It)return on(It)}(Kr),gt=Zn.message;void 0===Dr&&(Dr=Mt.INTERNAL,gt="Unknown error status: "+Kr+" with message "+Zn.message),Dt=!0,cn.So(new nn(Dr,gt)),Ie.close()}else Bt(_s,`RPC '${t}' stream ${u} received:`,rr),cn.bo(rr)}}),In(w,Je.STAT_EVENT,pn=>{pn.stat===Qe.PROXY?Bt(_s,`RPC '${t}' stream ${u} detected buffering proxy`):pn.stat===Qe.NOPROXY&&Bt(_s,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{cn.wo()},0),cn}}function dm(){return typeof window<"u"?window:null}function I(){return typeof document<"u"?document:null}function h(l){return new $u(l,!0)}class g{constructor(t,r,s=1e3,u=1.5,p=6e4){this.ui=t,this.timerId=r,this.ko=s,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-s);u>0&&Bt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class T{constructor(t,r,s,u,p,_,w,x){this.ui=t,this.Ho=s,this.Jo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=w,this.listener=x,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new g(t,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,te.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,te.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,r){var s=this;return(0,te.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():r&&r.code===Mt.RESOURCE_EXHAUSTED?(yr(r.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===Mt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===r&&this.P_(s,u)},s=>{t(()=>{const u=new nn(Mt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,r){const s=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,te.A)(function*(){t.state=0,t.start()}))}I_(t){return Bt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(Bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G extends T{constructor(t,r,s,u,p,_){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,_),this.serializer=p}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=function dd(l,t){let r;if("targetChange"in t){const s="NO_CHANGE"===(X=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:Jt(),u=t.targetChange.targetIds||[],p=function(X,ae){return X.useProto3Json?(Tn(void 0===ae||"string"==typeof ae),Jr.fromBase64String(ae||"")):(Tn(void 0===ae||ae instanceof Buffer||ae instanceof Uint8Array),Jr.fromUint8Array(ae||new Uint8Array))}(l,t.targetChange.resumeToken),_=t.targetChange.cause,w=_&&function(X){const ae=void 0===X.code?Mt.UNKNOWN:on(X.code);return new nn(ae,X.message||"")}(_);r=new Bu(s,u,p,w||null)}else if("documentChange"in t){const s=t.documentChange,u=zs(l,s.document.name),p=Lo(s.document.updateTime),_=s.document.createTime?Lo(s.document.createTime):On.min(),w=new Ji({mapValue:{fields:s.document.fields}}),x=hi.newFoundDocument(u,p,_,w);r=new ls(s.targetIds||[],s.removedTargetIds||[],x.key,x)}else if("documentDelete"in t){const s=t.documentDelete,u=zs(l,s.document),p=s.readTime?Lo(s.readTime):On.min(),_=hi.newNoDocument(u,p);r=new ls([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in t){const s=t.documentRemove,u=zs(l,s.document);r=new ls([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Jt();{const s=t.filter,{count:u=0,unchangedNames:p}=s,_=new F(u,p);r=new dl(s.targetId,_)}}var X;return r}(this.serializer,t),s=function(p){if(!("targetChange"in p))return On.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?On.min():_.readTime?Lo(_.readTime):On.min()}(t);return this.listener.d_(r,s)}A_(t){const r={};r.database=cd(this.serializer),r.addTarget=function(p,_){let w;const x=_.target;if(w=M(x)?{documents:kr(p,x)}:{query:au(p,x)._t},w.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){w.resumeToken=ju(p,_.resumeToken);const X=pi(p,_.expectedCount);null!==X&&(w.expectedCount=X)}else if(_.snapshotVersion.compareTo(On.min())>0){w.readTime=Qa(p,_.snapshotVersion.toTimestamp());const X=pi(p,_.expectedCount);null!==X&&(w.expectedCount=X)}return w}(this.serializer,t);const s=function tm(l,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);s&&(r.labels=s),this.a_(r)}R_(t){const r={};r.database=cd(this.serializer),r.removeTarget=t,this.a_(r)}}class se extends T{constructor(t,r,s,u,p,_){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,_),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return Tn(!!t.streamToken),this.lastStreamToken=t.streamToken,Tn(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Tn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=function Fa(l,t){return l&&l.length>0?(Tn(void 0!==t),l.map(r=>function(u,p){let _=Lo(u.updateTime?u.updateTime:p);return _.isEqual(On.min())&&(_=Lo(p)),new ho(_,u.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),s=Lo(t.commitTime);return this.listener.g_(s,r)}p_(){const t={};t.database=cd(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>Ll(this.serializer,s))};this.a_(r)}}class Ge extends class{}{constructor(t,r,s,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new nn(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Mo(t,Ya(r,s),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new nn(Mt.UNKNOWN,p.toString())})}Lo(t,r,s,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,w])=>this.connection.Lo(t,Ya(r,s),u,_,w,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new nn(Mt.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class At{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yr(r),this.D_=!1):Bt("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class an{constructor(t,r,s,u,p){var _=this;this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(w=>{s.enqueueAndForget((0,te.A)(function*(){var x;Al(_)&&(Bt("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,te.A)(function*(ae){const Ie=Lt(ae);Ie.L_.add(4),yield Kn(Ie),Ie.q_.set("Unknown"),Ie.L_.delete(4),yield xn(Ie)}),function X(ae){return x.apply(this,arguments)})(_))}))}),this.q_=new At(s,u)}}function xn(l){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,te.A)(function*(l){if(Al(l))for(const t of l.B_)yield t(!0)})).apply(this,arguments)}function Kn(l){return po.apply(this,arguments)}function po(){return(po=(0,te.A)(function*(l){for(const t of l.B_)yield t(!1)})).apply(this,arguments)}function Ws(l,t){const r=Lt(l);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),Wc(r)?xd(r):es(r).r_()&&Pd(r,t))}function rl(l,t){const r=Lt(l),s=es(r);r.N_.delete(t),s.r_()&&Da(r,t),0===r.N_.size&&(s.r_()?s.o_():Al(r)&&r.q_.set("Unknown"))}function Pd(l,t){if(l.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(On.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}es(l).A_(t)}function Da(l,t){l.Q_.xe(t),es(l).R_(t)}function xd(l){l.Q_=new ld({getRemoteKeysForTarget:t=>l.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>l.N_.get(t)||null,tt:()=>l.datastore.serializer.databaseId}),es(l).start(),l.q_.v_()}function Wc(l){return Al(l)&&!es(l).n_()&&l.N_.size>0}function Al(l){return 0===Lt(l).L_.size}function Dp(l){l.Q_=void 0}function hm(l){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,te.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function fm(l){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,te.A)(function*(l){l.N_.forEach((t,r)=>{Pd(l,t)})})).apply(this,arguments)}function Gl(l,t){return yu.apply(this,arguments)}function yu(){return(yu=(0,te.A)(function*(l,t){Dp(l),Wc(l)?(l.q_.M_(t),xd(l)):l.q_.set("Unknown")})).apply(this,arguments)}function D_(l,t,r){return pm.apply(this,arguments)}function pm(){return pm=(0,te.A)(function*(l,t,r){if(l.q_.set("Online"),t instanceof Bu&&2===t.state&&t.cause)try{yield(s=(0,te.A)(function*(p,_){const w=_.cause;for(const x of _.targetIds)p.N_.has(x)&&(yield p.remoteSyncer.rejectListen(x,w),p.N_.delete(x),p.Q_.removeTarget(x))}),function u(p,_){return s.apply(this,arguments)})(l,t)}catch(s){Bt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Od(l,s)}else if(t instanceof ls?l.Q_.Ke(t):t instanceof dl?l.Q_.He(t):l.Q_.We(t),!r.isEqual(On.min()))try{const s=yield jc(l.localStore);r.compareTo(s)>=0&&(yield function(p,_){const w=p.Q_.rt(_);return w.targetChanges.forEach((x,X)=>{if(x.resumeToken.approximateByteSize()>0){const ae=p.N_.get(X);ae&&p.N_.set(X,ae.withResumeToken(x.resumeToken,_))}}),w.targetMismatches.forEach((x,X)=>{const ae=p.N_.get(x);if(!ae)return;p.N_.set(x,ae.withResumeToken(Jr.EMPTY_BYTE_STRING,ae.snapshotVersion)),Da(p,x);const Ie=new gl(ae.target,x,X,ae.sequenceNumber);Pd(p,Ie)}),p.remoteSyncer.applyRemoteEvent(w)}(l,r))}catch(s){Bt("RemoteStore","Failed to raise snapshot:",s),yield Od(l,s)}var s}),pm.apply(this,arguments)}function Od(l,t,r){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,te.A)(function*(l,t,r){if(!mo(t))throw t;l.L_.add(1),yield Kn(l),l.q_.set("Offline"),r||(r=()=>jc(l.localStore)),l.asyncQueue.enqueueRetryable((0,te.A)(function*(){Bt("RemoteStore","Retrying IndexedDB access"),yield r(),l.L_.delete(1),yield xn(l)}))})).apply(this,arguments)}function w_(l,t){return t().catch(r=>Od(l,r,t))}function Ju(l){return wp.apply(this,arguments)}function wp(){return(wp=(0,te.A)(function*(l){const t=Lt(l),r=Va(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Wh(t);)try{const u=yield wd(t.localStore,s);if(null===u){0===t.O_.length&&r.o_();break}s=u.batchId,Kh(t,u)}catch(u){yield Od(t,u)}gm(t)&&Sp(t)})).apply(this,arguments)}function Wh(l){return Al(l)&&l.O_.length<10}function Kh(l,t){l.O_.push(t);const r=Va(l);r.r_()&&r.V_&&r.m_(t.mutations)}function gm(l){return Al(l)&&!Va(l).n_()&&l.O_.length>0}function Sp(l){Va(l).start()}function K0(l){return mm.apply(this,arguments)}function mm(){return(mm=(0,te.A)(function*(l){Va(l).p_()})).apply(this,arguments)}function q0(l){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,te.A)(function*(l){const t=Va(l);for(const r of l.O_)t.m_(r.mutations)})).apply(this,arguments)}function vm(l,t,r){return _m.apply(this,arguments)}function _m(){return(_m=(0,te.A)(function*(l,t,r){const s=l.O_.shift(),u=S.from(s,t,r);yield w_(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield Ju(l)})).apply(this,arguments)}function wa(l,t){return qh.apply(this,arguments)}function qh(){return qh=(0,te.A)(function*(l,t){var r;t&&Va(l).V_&&(yield(r=(0,te.A)(function*(u,p){if(vt(w=p.code)&&w!==Mt.ABORTED){const _=u.O_.shift();Va(u).s_(),yield w_(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield Ju(u)}var w}),function s(u,p){return r.apply(this,arguments)})(l,t)),gm(l)&&Sp(l)}),qh.apply(this,arguments)}function ym(l,t){return kd.apply(this,arguments)}function kd(){return(kd=(0,te.A)(function*(l,t){const r=Lt(l);r.asyncQueue.verifyOperationInProgress(),Bt("RemoteStore","RemoteStore received new credentials");const s=Al(r);r.L_.add(3),yield Kn(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),yield xn(r)})).apply(this,arguments)}function S_(l,t){return R_.apply(this,arguments)}function R_(){return(R_=(0,te.A)(function*(l,t){const r=Lt(l);t?(r.L_.delete(2),yield xn(r)):t||(r.L_.add(2),yield Kn(r),r.q_.set("Unknown"))})).apply(this,arguments)}function es(l){return l.K_||(l.K_=function(r,s,u){const p=Lt(r);return p.w_(),new G(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:hm.bind(null,l),Ro:fm.bind(null,l),mo:Gl.bind(null,l),d_:D_.bind(null,l)}),l.B_.push(function(){var t=(0,te.A)(function*(r){r?(l.K_.s_(),Wc(l)?xd(l):l.q_.set("Unknown")):(yield l.K_.stop(),Dp(l))});return function(r){return t.apply(this,arguments)}}())),l.K_}function Va(l){return l.U_||(l.U_=function(r,s,u){const p=Lt(r);return p.w_(),new se(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:K0.bind(null,l),mo:wa.bind(null,l),f_:q0.bind(null,l),g_:vm.bind(null,l)}),l.B_.push(function(){var t=(0,te.A)(function*(r){r?(l.U_.s_(),yield Ju(l)):(yield l.U_.stop(),l.O_.length>0&&(Bt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(r){return t.apply(this,arguments)}}())),l.U_}class Mp{constructor(t,r,s,u,p){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,u,p){const _=Date.now()+s,w=new Mp(t,r,_,u,p);return w.start(s),w}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nn(Mt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qc(l,t){if(yr("AsyncQueue",`${t}: ${l}`),mo(l))return new nn(Mt.UNAVAILABLE,`${t}: ${l}`);throw l}class Fd{constructor(t){this.comparator=t?(r,s)=>t(r,s)||vn.comparator(r.key,s.key):(r,s)=>vn.comparator(r.key,s.key),this.keyedMap=Fi(),this.sortedSet=new di(this.comparator)}static emptySet(t){return new Fd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Fd)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const s=new Fd;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class Im{constructor(){this.W_=new di(vn.comparator)}track(t){const r=t.doc.key,s=this.W_.get(r);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(r,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(r):1===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):Jt():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,s)=>{t.push(s)}),t}}class Ld{constructor(t,r,s,u,p,_,w,x,X){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=w,this.excludesMetadataChanges=x,this.hasCachedResults=X}static fromInitialDocuments(t,r,s,u,p){const _=[];return r.forEach(w=>{_.push({type:0,doc:w})}),new Ld(t,r,Fd.emptySet(r),_,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ei(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class M_{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class X0{constructor(){this.queries=Em(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const u=Lt(r),p=u.queries;u.queries=Em(),p.forEach((_,w)=>{for(const x of w.j_)x.onError(s)})}(this,new nn(Mt.ABORTED,"Firestore shutting down"))}}function Em(){return new gn(l=>Hr(l),ei)}function Am(l,t){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,te.A)(function*(l,t){const r=Lt(l);let s=3;const u=t.query;let p=r.queries.get(u);p?!p.H_()&&t.J_()&&(s=2):(p=new M_,s=t.J_()?0:1);try{switch(s){case 0:p.z_=yield r.onListen(u,!0);break;case 1:p.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(_){const w=qc(_,`Initialization of query '${_i(t.query)}' failed`);return void t.onError(w)}r.queries.set(u,p),p.j_.push(t),t.Z_(r.onlineState),p.z_&&t.X_(p.z_)&&Pp(r)})).apply(this,arguments)}function Tm(l,t){return bm.apply(this,arguments)}function bm(){return(bm=(0,te.A)(function*(l,t){const r=Lt(l),s=t.query;let u=3;const p=r.queries.get(s);if(p){const _=p.j_.indexOf(t);_>=0&&(p.j_.splice(_,1),0===p.j_.length?u=t.J_()?0:1:!p.H_()&&t.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function P_(l,t){const r=Lt(l);let s=!1;for(const u of t){const _=r.queries.get(u.query);if(_){for(const w of _.j_)w.X_(u)&&(s=!0);_.z_=u}}s&&Pp(r)}function x_(l,t,r){const s=Lt(l),u=s.queries.get(t);if(u)for(const p of u.j_)p.onError(r);s.queries.delete(t)}function Pp(l){l.Y_.forEach(t=>{t.next()})}var Vd,Dm;(Dm=Vd||(Vd={})).ea="default",Dm.Cache="cache";class xp{constructor(t,r,s){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new Ld(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Ld.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Vd.Cache}}class N_{constructor(t,r){this.aa=t,this.byteLength=r}ua(){return"metadata"in this.aa}}class wm{constructor(t){this.serializer=t}Es(t){return zs(this.serializer,t)}ds(t){return t.metadata.exists?wc(this.serializer,t.document,!1):hi.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Lo(t)}}class Q0{constructor(t,r,s){this.ca=t,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=O_(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++r;const s=vr.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(t){const r=new Map,s=new wm(this.serializer);for(const u of t)if(u.metadata.queries){const p=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const w=(r.get(_)||Lr()).add(p);r.set(_,w)}}return r}complete(){var t=this;return(0,te.A)(function*(){const r=yield function um(l,t,r,s){return $h.apply(this,arguments)}(t.localStore,new wm(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield Tp(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:r}})()}}function O_(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class k_{constructor(t){this.key=t}}class F_{constructor(t){this.key=t}}class Sm{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Lr(),this.mutatedKeys=Lr(),this.Aa=Wi(t),this.Ra=new Fd(this.Aa)}get Va(){return this.Ta}ma(t,r){const s=r?r.fa:new Im,u=r?r.Ra:this.Ra;let p=r?r.mutatedKeys:this.mutatedKeys,_=u,w=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,X="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((ae,Ie)=>{const We=u.get(ae),Dt=fi(this.query,Ie)?Ie:null,cn=!!We&&this.mutatedKeys.has(We.key),In=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let pn=!1;We&&Dt?We.data.isEqual(Dt.data)?cn!==In&&(s.track({type:3,doc:Dt}),pn=!0):this.ga(We,Dt)||(s.track({type:2,doc:Dt}),pn=!0,(x&&this.Aa(Dt,x)>0||X&&this.Aa(Dt,X)<0)&&(w=!0)):!We&&Dt?(s.track({type:0,doc:Dt}),pn=!0):We&&!Dt&&(s.track({type:1,doc:We}),pn=!0,(x||X)&&(w=!0)),pn&&(Dt?(_=_.add(Dt),p=In?p.add(ae):p.delete(ae)):(_=_.delete(ae),p=p.delete(ae)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const ae="F"===this.query.limitType?_.last():_.first();_=_.delete(ae.key),p=p.delete(ae.key),s.track({type:1,doc:ae})}return{Ra:_,fa:s,ns:w,mutatedKeys:p}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,u){const p=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const _=t.fa.G_();_.sort((ae,Ie)=>function(Dt,cn){const In=pn=>{switch(pn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return In(Dt)-In(cn)}(ae.type,Ie.type)||this.Aa(ae.doc,Ie.doc)),this.pa(s),u=null!=u&&u;const w=r&&!u?this.ya():[],x=0===this.da.size&&this.current&&!u?1:0,X=x!==this.Ea;return this.Ea=x,0!==_.length||X?{snapshot:new Ld(this.query,t.Ra,p,_,t.mutatedKeys,0===x,X,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:w}:{wa:w}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Im,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Lr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return t.forEach(s=>{this.da.has(s)||r.push(new F_(s))}),this.da.forEach(s=>{t.has(s)||r.push(new k_(s))}),r}ba(t){this.Ta=t.Ts,this.da=Lr();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Ld.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class HA{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class L_{constructor(t){this.key=t,this.va=!1}}class Y0{constructor(t,r,s,u,p,_){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new gn(w=>Hr(w),ei),this.Ma=new Map,this.xa=new Set,this.Oa=new di(vn.comparator),this.Na=new Map,this.La=new fu,this.Ba={},this.ka=new Map,this.qa=Aa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Z0(l,t){return V_.apply(this,arguments)}function V_(){return(V_=(0,te.A)(function*(l,t,r=!0){const s=nf(l);let u;const p=s.Fa.get(t);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield Op(s,t,r,!0),u})).apply(this,arguments)}function J0(l,t){return Np.apply(this,arguments)}function Np(){return(Np=(0,te.A)(function*(l,t){const r=nf(l);yield Op(r,t,!0,!1)})).apply(this,arguments)}function Op(l,t,r,s){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,te.A)(function*(l,t,r,s){const u=yield Qu(l.localStore,be(t)),p=u.targetId,_=l.sharedClientState.addLocalQueryTarget(p,r);let w;return s&&(w=yield Wl(l,t,p,"current"===_,u.resumeToken)),l.isPrimaryClient&&r&&Ws(l.remoteStore,u),w})).apply(this,arguments)}function Wl(l,t,r,s,u){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,te.A)(function*(l,t,r,s,u){l.Ka=(Ie,We,Dt)=>{return(cn=(0,te.A)(function*(pn,Vn,rr,tr){let Zn=Vn.view.ma(rr);Zn.ns&&(Zn=yield Yu(pn.localStore,Vn.query,!1).then(({documents:$e})=>Vn.view.ma($e,Zn)));const Kr=tr&&tr.targetChanges.get(Vn.targetId),Dr=tr&&null!=tr.targetMismatches.get(Vn.targetId),gt=Vn.view.applyChanges(Zn,pn.isPrimaryClient,Kr,Dr);return Qc(pn,Vn.targetId,gt.wa),gt.snapshot}),function In(pn,Vn,rr,tr){return cn.apply(this,arguments)})(l,Ie,We,Dt);var cn};const p=yield Yu(l.localStore,t,!0),_=new Sm(t,p.Ts),w=_.ma(p.documents),x=ks.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,u),X=_.applyChanges(w,l.isPrimaryClient,x);Qc(l,r,X.wa);const ae=new HA(t,r,_);return l.Fa.set(t,ae),l.Ma.has(r)?l.Ma.get(r).push(t):l.Ma.set(r,[t]),X.snapshot}),Ud.apply(this,arguments)}function eI(l,t,r){return kp.apply(this,arguments)}function kp(){return(kp=(0,te.A)(function*(l,t,r){const s=Lt(l),u=s.Fa.get(t),p=s.Ma.get(u.targetId);if(p.length>1)return s.Ma.set(u.targetId,p.filter(_=>!ei(_,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield cs(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&rl(s.remoteStore,u.targetId),Cl(s,u.targetId)}).catch(Tr))):(Cl(s,u.targetId),yield cs(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Fp(l,t){return U_.apply(this,arguments)}function U_(){return(U_=(0,te.A)(function*(l,t){const r=Lt(l),s=r.Fa.get(t),u=r.Ma.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),rl(r.remoteStore,s.targetId))})).apply(this,arguments)}function Mm(){return(Mm=(0,te.A)(function*(l,t,r){const s=Um(l);try{const u=yield function(_,w){const x=Lt(_),X=Ln.now(),ae=w.reduce((Dt,cn)=>Dt.add(cn.key),Lr());let Ie,We;return x.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let cn=vi(),In=Lr();return x.cs.getEntries(Dt,ae).next(pn=>{cn=pn,cn.forEach((Vn,rr)=>{rr.isValidDocument()||(In=In.add(Vn))})}).next(()=>x.localDocuments.getOverlayedDocuments(Dt,cn)).next(pn=>{Ie=pn;const Vn=[];for(const rr of w){const tr=Uu(rr,Ie.get(rr.key).overlayedDocument);null!=tr&&Vn.push(new ya(rr.key,tr,Ha(tr.value.mapValue),ui.exists(!0)))}return x.mutationQueue.addMutationBatch(Dt,X,Vn,w)}).next(pn=>{We=pn;const Vn=pn.applyToLocalDocumentSet(Ie,In);return x.documentOverlayCache.saveOverlays(Dt,pn.batchId,Vn)})}).then(()=>({batchId:We.batchId,changes:ko(Ie)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(_,w,x){let X=_.Ba[_.currentUser.toKey()];X||(X=new di(En)),X=X.insert(w,x),_.Ba[_.currentUser.toKey()]=X}(s,u.batchId,r),yield nc(s,u.changes),yield Ju(s.remoteStore)}catch(u){const p=qc(u,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function B_(l,t){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,te.A)(function*(l,t){const r=Lt(l);try{const s=yield function Dd(l,t){const r=Lt(l),s=t.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const w=[];t.targetChanges.forEach((ae,Ie)=>{const We=u.get(Ie);if(!We)return;w.push(r.Ur.removeMatchingKeys(p,ae.removedDocuments,Ie).next(()=>r.Ur.addMatchingKeys(p,ae.addedDocuments,Ie)));let Dt=We.withSequenceNumber(p.currentSequenceNumber);var In,pn,Vn;null!==t.targetMismatches.get(Ie)?Dt=Dt.withResumeToken(Jr.EMPTY_BYTE_STRING,On.min()).withLastLimboFreeSnapshotVersion(On.min()):ae.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(ae.resumeToken,s)),u=u.insert(Ie,Dt),pn=Dt,Vn=ae,(0===(In=We).resumeToken.approximateByteSize()||pn.snapshotVersion.toMicroseconds()-In.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&w.push(r.Ur.updateTargetData(p,Dt))});let x=vi(),X=Lr();if(t.documentUpdates.forEach(ae=>{t.resolvedLimboDocuments.has(ae)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(p,ae))}),w.push(Hc(p,_,t.documentUpdates).next(ae=>{x=ae.Ps,X=ae.Is})),!s.isEqual(On.min())){const ae=r.Ur.getLastRemoteSnapshotVersion(p).next(Ie=>r.Ur.setTargetsMetadata(p,p.currentSequenceNumber,s));w.push(ae)}return yt.waitFor(w).next(()=>_.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,x,X)).next(()=>x)}).then(p=>(r.os=u,p))}(r.localStore,t);t.targetChanges.forEach((u,p)=>{const _=r.Na.get(p);_&&(Tn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?Tn(_.va):u.removedDocuments.size>0&&(Tn(_.va),_.va=!1))}),yield nc(r,s,t)}catch(s){yield Tr(s)}})).apply(this,arguments)}function tI(l,t,r){const s=Lt(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.Fa.forEach((p,_)=>{const w=_.view.Z_(t);w.snapshot&&u.push(w.snapshot)}),function(_,w){const x=Lt(_);x.onlineState=w;let X=!1;x.queries.forEach((ae,Ie)=>{for(const We of Ie.j_)We.Z_(w)&&(X=!0)}),X&&Pp(x)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function GA(l,t,r){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,te.A)(function*(l,t,r){const s=Lt(l);s.sharedClientState.updateQueryState(t,"rejected",r);const u=s.Na.get(t),p=u&&u.key;if(p){let _=new di(vn.comparator);_=_.insert(p,hi.newNoDocument(p,On.min()));const w=Lr().add(p),x=new zo(On.min(),new Map,new di(En),_,w);yield B_(s,x),s.Oa=s.Oa.remove(p),s.Na.delete(t),Hd(s)}else yield cs(s.localStore,t,!1).then(()=>Cl(s,t,r)).catch(Tr)})).apply(this,arguments)}function nI(l,t){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,te.A)(function*(l,t){const r=Lt(l),s=t.batch.batchId;try{const u=yield function Bh(l,t){const r=Lt(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),p=r.cs.newChangeBuffer({trackRemovals:!0});return function(w,x,X,ae){const Ie=X.batch,We=Ie.keys();let Dt=yt.resolve();return We.forEach(cn=>{Dt=Dt.next(()=>ae.getEntry(x,cn)).next(In=>{const pn=X.docVersions.get(cn);Tn(null!==pn),In.version.compareTo(pn)<0&&(Ie.applyToRemoteDocument(In,X),In.isValidDocument()&&(In.setReadTime(X.commitVersion),ae.addEntry(In)))})}),Dt.next(()=>w.mutationQueue.removeMutationBatch(x,Ie))}(r,s,t,p).next(()=>p.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let x=Lr();for(let X=0;X<w.mutationResults.length;++X)w.mutationResults[X].transformResults.length>0&&(x=x.add(w.batch.mutations[X].key));return x}(t))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,t);Xc(r,s,null),tc(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield nc(r,u)}catch(u){yield Tr(u)}})).apply(this,arguments)}function xm(l,t,r){return ec.apply(this,arguments)}function ec(){return(ec=(0,te.A)(function*(l,t,r){const s=Lt(l);try{const u=yield function(_,w){const x=Lt(_);return x.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let ae;return x.mutationQueue.lookupMutationBatch(X,w).next(Ie=>(Tn(null!==Ie),ae=Ie.keys(),x.mutationQueue.removeMutationBatch(X,Ie))).next(()=>x.mutationQueue.performConsistencyCheck(X)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(X,ae,w)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,ae)).next(()=>x.localDocuments.getDocuments(X,ae))})}(s.localStore,t);Xc(s,t,r),tc(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),yield nc(s,u)}catch(u){yield Tr(u)}})).apply(this,arguments)}function $d(){return($d=(0,te.A)(function*(l,t){const r=Lt(l);Al(r.remoteStore)||Bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const w=Lt(_);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>w.mutationQueue.getHighestUnacknowledgedBatchId(x))}(r.localStore);if(-1===s)return void t.resolve();const u=r.ka.get(s)||[];u.push(t),r.ka.set(s,u)}catch(s){const u=qc(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function tc(l,t){(l.ka.get(t)||[]).forEach(r=>{r.resolve()}),l.ka.delete(t)}function Xc(l,t,r){const s=Lt(l);let u=s.Ba[s.currentUser.toKey()];if(u){const p=u.get(t);p&&(r?p.reject(r):p.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function Cl(l,t,r=null){l.sharedClientState.removeLocalQueryTarget(t);for(const s of l.Ma.get(t))l.Fa.delete(s),r&&l.Ca.$a(s,r);l.Ma.delete(t),l.isPrimaryClient&&l.La.gr(t).forEach(s=>{l.La.containsKey(s)||Lp(l,s)})}function Lp(l,t){l.xa.delete(t.path.canonicalString());const r=l.Oa.get(t);null!==r&&(rl(l.remoteStore,r),l.Oa=l.Oa.remove(t),l.Na.delete(r),Hd(l))}function Qc(l,t,r){for(const s of r)s instanceof k_?(l.La.addReference(s.key,t),jd(l,s)):s instanceof F_?(Bt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,t),l.La.containsKey(s.key)||Lp(l,s.key)):Jt()}function jd(l,t){const r=t.key,s=r.path.canonicalString();l.Oa.get(r)||l.xa.has(s)||(Bt("SyncEngine","New document in limbo: "+r),l.xa.add(s),Hd(l))}function Hd(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const t=l.xa.values().next().value;l.xa.delete(t);const r=new vn(vr.fromString(t)),s=l.qa.next();l.Na.set(s,new L_(r)),l.Oa=l.Oa.insert(r,s),Ws(l.remoteStore,new gl(be(N(r.path)),s,"TargetPurposeLimboResolution",li.oe))}}function nc(l,t,r){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,te.A)(function*(l,t,r){const s=Lt(l),u=[],p=[],_=[];var w;s.Fa.isEmpty()||(s.Fa.forEach((w,x)=>{_.push(s.Ka(x,t,r).then(X=>{var ae;if((X||r)&&s.isPrimaryClient){const Ie=X?!X.fromCache:null===(ae=null==r?void 0:r.targetChanges.get(x.targetId))||void 0===ae?void 0:ae.current;s.sharedClientState.updateQueryState(x.targetId,Ie?"current":"not-current")}if(X){u.push(X);const Ie=Vo.Wi(x.targetId,X);p.push(Ie)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(w=(0,te.A)(function*(X,ae){const Ie=Lt(X);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>yt.forEach(ae,Dt=>yt.forEach(Dt.$i,cn=>Ie.persistence.referenceDelegate.addReference(We,Dt.targetId,cn)).next(()=>yt.forEach(Dt.Ui,cn=>Ie.persistence.referenceDelegate.removeReference(We,Dt.targetId,cn)))))}catch(We){if(!mo(We))throw We;Bt("LocalStore","Failed to update sequence numbers: "+We)}for(const We of ae){const Dt=We.targetId;if(!We.fromCache){const cn=Ie.os.get(Dt),pn=cn.withLastLimboFreeSnapshotVersion(cn.snapshotVersion);Ie.os=Ie.os.insert(Dt,pn)}}}),function x(X,ae){return w.apply(this,arguments)})(s.localStore,p))}),Yh.apply(this,arguments)}function Zh(l,t){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,te.A)(function*(l,t){const r=Lt(l);if(!r.currentUser.isEqual(t)){Bt("SyncEngine","User change. New user:",t.toKey());const s=yield Uh(r.localStore,t);r.currentUser=t,(p=r).ka.forEach(w=>{w.forEach(x=>{x.reject(new nn(Mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield nc(r,s.hs)}var p})).apply(this,arguments)}function $_(l,t){const r=Lt(l),s=r.Na.get(t);if(s&&s.va)return Lr().add(s.key);{let u=Lr();const p=r.Ma.get(t);if(!p)return u;for(const _ of p){const w=r.Fa.get(_);u=u.unionWith(w.view.Va)}return u}}function rI(l,t){return Om.apply(this,arguments)}function Om(){return(Om=(0,te.A)(function*(l,t){const r=Lt(l),s=yield Yu(r.localStore,t.query,!0),u=t.view.ba(s);return r.isPrimaryClient&&Qc(r,t.targetId,u.wa),u})).apply(this,arguments)}function km(l,t){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,te.A)(function*(l,t){const r=Lt(l);return zc(r.localStore,t).then(s=>nc(r,s))})).apply(this,arguments)}function iI(l,t,r,s){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,te.A)(function*(l,t,r,s){const u=Lt(l),p=yield function(w,x){const X=Lt(w),ae=Lt(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>ae.Mn(Ie,x).next(We=>We?X.localDocuments.getDocuments(Ie,We):yt.resolve(null)))}(u.localStore,t);var x;null!==p?("pending"===r?yield Ju(u.remoteStore):"acknowledged"===r||"rejected"===r?(Xc(u,t,s||null),tc(u,t),x=t,Lt(Lt(u.localStore).mutationQueue).On(x)):Jt(),yield nc(u,p)):Bt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Up(){return(Up=(0,te.A)(function*(l,t){const r=Lt(l);if(nf(r),Um(r),!0===t&&!0!==r.Qa){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield Bp(r,s.toArray());r.Qa=!0,yield S_(r.remoteStore,!0);for(const p of u)Ws(r.remoteStore,p)}else if(!1===t&&!1!==r.Qa){const s=[];let u=Promise.resolve();r.Ma.forEach((p,_)=>{r.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(Cl(r,_),cs(r.localStore,_,!0))),rl(r.remoteStore,_)}),yield u,yield Bp(r,s),function(_){const w=Lt(_);w.Na.forEach((x,X)=>{rl(w.remoteStore,X)}),w.La.pr(),w.Na=new Map,w.Oa=new di(vn.comparator)}(r),r.Qa=!1,yield S_(r.remoteStore,!1)}})).apply(this,arguments)}function Bp(l,t,r){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,te.A)(function*(l,t,r){const s=Lt(l),u=[],p=[];for(const _ of t){let w;const x=s.Ma.get(_);if(x&&0!==x.length){w=yield Qu(s.localStore,be(x[0]));for(const X of x){const ae=s.Fa.get(X),Ie=yield rI(s,ae);Ie.snapshot&&p.push(Ie.snapshot)}}else{const X=yield Cp(s.localStore,_);w=yield Qu(s.localStore,X),yield Wl(s,oI(X),_,!1,w.resumeToken)}u.push(w)}return s.Ca.d_(p),u})).apply(this,arguments)}function oI(l){return C(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function WA(l){return r=Lt(l).localStore,Lt(Lt(r).persistence).Qi();var r}function ef(l,t,r,s){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,te.A)(function*(l,t,r,s){const u=Lt(l);if(u.Qa)return void Bt("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(t);if(p&&p.length>0)switch(r){case"current":case"not-current":{const _=yield zc(u.localStore,zi(p[0])),w=zo.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,Jr.EMPTY_BYTE_STRING);yield nc(u,_,w);break}case"rejected":yield cs(u.localStore,t,!0),Cl(u,t,s);break;default:Jt()}})).apply(this,arguments)}function $p(l,t,r){return tf.apply(this,arguments)}function tf(){return(tf=(0,te.A)(function*(l,t,r){const s=nf(l);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Bt("SyncEngine","Adding an already active target "+u);continue}const p=yield Cp(s.localStore,u),_=yield Qu(s.localStore,p);yield Wl(s,oI(p),_.targetId,!1,_.resumeToken),Ws(s.remoteStore,_)}for(const u of r)s.Ma.has(u)&&(yield cs(s.localStore,u,!1).then(()=>{rl(s.remoteStore,u),Cl(s,u)}).catch(Tr))}})).apply(this,arguments)}function nf(l){const t=Lt(l);return t.remoteStore.remoteSyncer.applyRemoteEvent=B_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GA.bind(null,t),t.Ca.d_=P_.bind(null,t.eventManager),t.Ca.$a=x_.bind(null,t.eventManager),t}function Um(l){const t=Lt(l);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xm.bind(null,t),t}let rc=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,te.A)(function*(){s.serializer=h(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return Ap(this.persistence,new Lh,r.initialUser,this.serializer)}Ga(r){return new Ad($c.Zr,this.serializer)}Wa(r){return new nl}terminate(){var r=this;return(0,te.A)(function*(){var s,u;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class Iu extends rc{constructor(t,r,s){super(),this.Ja=t,this.cacheSizeBytes=r,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,s=this;return(0,te.A)(function*(){yield r().call(s,t),yield s.Ja.initialize(s,t),yield Um(s.Ja.syncEngine),yield Ju(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return Ap(this.persistence,new Lh,t.initialUser,this.serializer)}ja(t,r){return new mp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}Ha(t,r){const s=new Nr(r,this.persistence);return new Ps(t.asyncQueue,s)}Ga(t){const r=Ta(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new bd(this.synchronizeTabs,r,t.clientId,s,t.asyncQueue,dm(),I(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new nl}}class Bm extends Iu{constructor(t,r){super(t,r,!1),this.Ja=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,s=this;return(0,te.A)(function*(){yield r().call(s,t);const u=s.Ja.syncEngine;s.sharedClientState instanceof _u&&(s.sharedClientState.syncEngine={no:iI.bind(null,u),ro:ef.bind(null,u),io:$p.bind(null,u),Qi:WA.bind(null,u),eo:km.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var p=(0,te.A)(function*(_){yield function Jh(l,t){return Up.apply(this,arguments)}(s.Ja.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}Wa(t){const r=dm();if(!_u.D(r))throw new nn(Mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Ta(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new _u(r,t.asyncQueue,s,t.clientId,t.initialUser)}}let Eu=(()=>{class l{initialize(r,s){var u=this;return(0,te.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>tI(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=Zh.bind(null,u.syncEngine),yield S_(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new X0}createDatastore(r){const s=h(r.databaseInfo.databaseId),u=new bp(r.databaseInfo);return new Ge(r.authCredentials,r.appCheckCredentials,u,s)}createRemoteStore(r){return u=this.localStore,p=this.datastore,_=r.asyncQueue,w=s=>tI(this.syncEngine,s,0),x=El.D()?new El:new Gc,new an(u,p,_,w,x);var u,p,_,w,x}createSyncEngine(r,s){return function(p,_,w,x,X,ae,Ie){const We=new Y0(p,_,w,x,X,ae);return Ie&&(We.Qa=!0),We}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,te.A)(function*(){var s,u,p;yield(p=(0,te.A)(function*(w){const x=Lt(w);Bt("RemoteStore","RemoteStore shutting down."),x.L_.add(5),yield Kn(x),x.k_.shutdown(),x.q_.set("Unknown")}),function _(w){return p.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function $m(l,t=10240){let r=0;return{read:()=>(0,te.A)(function*(){if(r<l.byteLength){const s={value:l.slice(r,r+t),done:!1};return r+=t,s}return{done:!0}})(),cancel:()=>(0,te.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class rf{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}class z_{constructor(t,r){this.Xa=t,this.serializer=r,this.metadata=new Ur,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,te.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,te.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,te.A)(function*(){const r=yield t.nu();if(null===r)return null;const s=t.eu.decode(r),u=Number(s);isNaN(u)&&t.ru(`length string (${s}) is not valid number`);const p=yield t.iu(u);return new N_(JSON.parse(p),r.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,te.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const r=t.su();r<0&&t.ru("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),s})()}iu(t){var r=this;return(0,te.A)(function*(){for(;r.buffer.length<t;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const s=r.eu.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),s})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,te.A)(function*(){const r=yield t.Xa.read();if(!r.done){const s=new Uint8Array(t.buffer.length+r.value.length);s.set(t.buffer),s.set(r.value,t.buffer.length),t.buffer=s}return r.done})()}}class jm{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,te.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new nn(Mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,te.A)(function*(_,w){const x=Lt(_),X={documents:w.map(Dt=>Tc(x.serializer,Dt))},ae=yield x.Lo("BatchGetDocuments",x.serializer.databaseId,vr.emptyPath(),X,w.length),Ie=new Map;ae.forEach(Dt=>{const cn=function ou(l,t){return"found"in t?function(s,u){Tn(!!u.found);const p=zs(s,u.found.name),_=Lo(u.found.updateTime),w=u.found.createTime?Lo(u.found.createTime):On.min(),x=new Ji({mapValue:{fields:u.found.fields}});return hi.newFoundDocument(p,_,w,x)}(l,t):"missing"in t?function(s,u){Tn(!!u.missing),Tn(!!u.readTime);const p=zs(s,u.missing),_=Lo(u.readTime);return hi.newNoDocument(p,_)}(l,t):Jt()}(x.serializer,Dt);Ie.set(cn.key.toString(),cn)});const We=[];return w.forEach(Dt=>{const cn=Ie.get(Dt.toString());Tn(!!cn),We.push(cn)}),We}),function p(_,w){return u.apply(this,arguments)})(r.datastore,t);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new ka(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,te.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var s;t.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const p=vn.fromPath(u);t.mutations.push(new Ah(p,t.precondition(p)))}),yield(s=(0,te.A)(function*(p,_){const w=Lt(p),x={writes:_.map(X=>Ll(w.serializer,X))};yield w.Mo("Commit",w.serializer.databaseId,vr.emptyPath(),x)}),function u(p,_){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw Jt();r=On.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!r.isEqual(s))throw new nn(Mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(On.min())?ui.exists(!1):ui.updateTime(r):ui.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(On.min()))throw new nn(Mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(r)}return ui.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class G_{constructor(t,r,s,u,p){this.asyncQueue=t,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=p,this._u=s.maxAttempts,this.t_=new g(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,te.A)(function*(){const r=new jm(t.datastore),s=t.cu(r);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(u)}).catch(p=>{t.lu(p)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const r=this.updateFunction(t);return!yn(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!vt(r)}return!1}}class jp{constructor(t,r,s,u,p){var _=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=Ve.UNAUTHENTICATED,this.clientId=Xn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var w=(0,te.A)(function*(x){Bt("FirestoreClient","Received user=",x.uid),yield _.authCredentialListener(x),_.user=x});return function(x){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(s,w=>(Bt("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=qc(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function sf(l,t){return ic.apply(this,arguments)}function ic(){return ic=(0,te.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress(),Bt("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield t.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var u=(0,te.A)(function*(p){s.isEqual(p)||(yield Uh(t.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=t}),ic.apply(this,arguments)}function W_(l,t){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,te.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress();const r=yield K_(l);Bt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,l.configuration),l.setCredentialChangeListener(s=>ym(t.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>ym(t.remoteStore,u)),l._onlineComponents=t})).apply(this,arguments)}function K_(l){return zd.apply(this,arguments)}function zd(){return(zd=(0,te.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Bt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sf(l,l._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===Mt.FAILED_PRECONDITION||u.code===Mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;cr("Error using user provided cache. Falling back to memory cache: "+t),yield sf(l,new rc)}}else Bt("FirestoreClient","Using default OfflineComponentProvider"),yield sf(l,new rc);var u;return l._offlineComponents})).apply(this,arguments)}function Gd(l){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,te.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Bt("FirestoreClient","Using user provided OnlineComponentProvider"),yield W_(l,l._uninitializedComponentsProvider._online)):(Bt("FirestoreClient","Using default OnlineComponentProvider"),yield W_(l,new Eu))),l._onlineComponents})).apply(this,arguments)}function zm(l){return K_(l).then(t=>t.persistence)}function Yc(l){return K_(l).then(t=>t.localStore)}function Gm(l){return Gd(l).then(t=>t.remoteStore)}function Wm(l){return Gd(l).then(t=>t.syncEngine)}function Wd(l){return Km.apply(this,arguments)}function Km(){return(Km=(0,te.A)(function*(l){const t=yield Gd(l),r=t.eventManager;return r.onListen=Z0.bind(null,t.syncEngine),r.onUnlisten=eI.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=J0.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Fp.bind(null,t.syncEngine),r})).apply(this,arguments)}function X_(l,t,r={}){const s=new Ur;return l.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function(p,_,w,x,X){const ae=new rf({next:We=>{ae.Za(),_.enqueueAndForget(()=>Tm(p,Ie));const Dt=We.docs.has(w);!Dt&&We.fromCache?X.reject(new nn(Mt.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&We.fromCache&&x&&"server"===x.source?X.reject(new nn(Mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(We)},error:We=>X.reject(We)}),Ie=new xp(N(w.path),ae,{includeMetadataChanges:!0,_a:!0});return Am(p,Ie)}(yield Wd(l),l.asyncQueue,t,r,s)})),s.promise}function aI(l,t,r={}){const s=new Ur;return l.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function(p,_,w,x,X){const ae=new rf({next:We=>{ae.Za(),_.enqueueAndForget(()=>Tm(p,Ie)),We.fromCache&&"server"===x.source?X.reject(new nn(Mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(We)},error:We=>X.reject(We)}),Ie=new xp(w,ae,{includeMetadataChanges:!0,_a:!0});return Am(p,Ie)}(yield Wd(l),l.asyncQueue,t,r,s)})),s.promise}function Y_(l){const t={};return void 0!==l.timeoutSeconds&&(t.timeoutSeconds=l.timeoutSeconds),t}const zp=new Map;function Tl(l,t,r){if(!r)throw new nn(Mt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${t}.`)}function Kd(l,t,r,s){if(!0===t&&!0===s)throw new nn(Mt.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function qm(l){if(!vn.isDocumentKey(l))throw new nn(Mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Xm(l){if(vn.isDocumentKey(l))throw new nn(Mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function lf(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const t=(s=l).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof l?"a function":Jt()}function Ri(l,t){if("_delegate"in l&&(l=l._delegate),!(l instanceof t)){if(t.name===l.constructor.name)throw new nn(Mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lf(l);throw new nn(Mt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return l}function dI(l,t){if(t<=0)throw new nn(Mt.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${t}.`)}class hI{constructor(t){var r,s;if(void 0===t.host){if(void 0!==t.ssl)throw new nn(Mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nn(Mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Kd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Y_(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new nn(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new nn(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new nn(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zc{constructor(t,r,s,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nn(Mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new nn(Mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hI(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new to;switch(s.type){case"firstParty":return new Ht(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nn(Mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,te.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=zp.get(r);s&&(Bt("ComponentProvider","Removing Datastore"),zp.delete(r),s.terminate())}(this),Promise.resolve()}}class Ks{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ks(this.firestore,t,this._query)}}class Po{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Po(this.firestore,t,this._key)}}class bl extends Ks{constructor(t,r,s){super(t,r,N(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Po(this.firestore,null,new vn(t))}withConverter(t){return new bl(this.firestore,t,this._path)}}function Z_(l,t,...r){if(l=(0,ir.Ku)(l),Tl("collection","path",t),l instanceof Zc){const s=vr.fromString(t,...r);return Xm(s),new bl(l,null,s)}{if(!(l instanceof Po||l instanceof bl))throw new nn(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(vr.fromString(t,...r));return Xm(s),new bl(l.firestore,null,s)}}function Wp(l,t,...r){if(l=(0,ir.Ku)(l),1===arguments.length&&(t=Xn.newId()),Tl("doc","path",t),l instanceof Zc){const s=vr.fromString(t,...r);return qm(s),new Po(l,null,new vn(s))}{if(!(l instanceof Po||l instanceof bl))throw new nn(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(vr.fromString(t,...r));return qm(s),new Po(l.firestore,l instanceof bl?l.converter:null,new vn(s))}}function J_(l,t){return l=(0,ir.Ku)(l),t=(0,ir.Ku)(t),(l instanceof Po||l instanceof bl)&&(t instanceof Po||t instanceof bl)&&l.firestore===t.firestore&&l.path===t.path&&l.converter===t.converter}function Qm(l,t){return l=(0,ir.Ku)(l),t=(0,ir.Ku)(t),l instanceof Ks&&t instanceof Ks&&l.firestore===t.firestore&&ei(l._query,t._query)&&l.converter===t.converter}class Ym{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new g(this,"async_queue_retry"),this.Vu=()=>{const s=I();s&&Bt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const r=I();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=I();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,te.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(r){if(!mo(r))throw r;Bt("AsyncQueue","Operation failed with retryable error: "+r)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(s=>{throw this.Eu=s,this.du=!1,yr("INTERNAL UNHANDLED ERROR: ",function(_){let w=_.message||"";return _.stack&&(w=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),w}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(t,r,s){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const u=Mp.createAndSchedule(this,t,r,s,p=>this.yu(p));return this.Tu.push(u),u}fu(){this.Eu&&Jt()}verifyOperationInProgress(){}wu(){var t=this;return(0,te.A)(function*(){let r;do{r=t.mu,yield r}while(r!==t.mu)})()}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function Kp(l){return function(r){if("object"!=typeof r||null===r)return!1;const u=r;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(l)}class pI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,s){this._progressObserver={next:t,error:r,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class so extends Zc{constructor(t,r,s,u){super(t,r,s,u),this.type="firestore",this._queue=new Ym,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var t=this;return(0,te.A)(function*(){if(t._firestoreClient){const r=t._firestoreClient.terminate();t._queue=new Ym(r),t._firestoreClient=void 0,yield r}})()}}function Ao(l){if(l._terminated)throw new nn(Mt.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||ey(l),l._firestoreClient}function ey(l){var t,r,s;const u=l._freezeSettings(),p=(x=(null===(t=l._app)||void 0===t?void 0:t.options.appId)||"",new je(l._databaseId,x,l._persistenceKey,(ae=u).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,Y_(ae.experimentalLongPollingOptions),ae.useFetchStreams));var x,ae;l._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new jp(l._authCredentials,l._appCheckCredentials,l._queue,p,l._componentsProvider&&function(w){const x=null==w?void 0:w._online.build();return{_offline:null==w?void 0:w._offline.build(x),_online:x}}(l._componentsProvider))}function Jm(){return(Jm=(0,te.A)(function*(l){cr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=l._freezeSettings();ev(l,Eu.provider,{build:r=>new Bm(r,t.cacheSizeBytes)})})).apply(this,arguments)}function ev(l,t,r){if((l=Ri(l,so))._firestoreClient||l._terminated)throw new nn(Mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new nn(Mt.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:t,_offline:r},ey(l)}class Kl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kl(Jr.fromBase64String(t))}catch(r){throw new nn(Mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Kl(Jr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Au{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new nn(Mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sc{constructor(t){this._methodName=t}}class Xp{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new nn(Mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new nn(Mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return En(this._lat,t._lat)||En(this._long,t._long)}}class Qp{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,t._values)}}const II=/^__.*__$/;class EI{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return null!==this.fieldMask?new ya(t,this.data,this.fieldMask,r,this.fieldTransforms):new _a(t,this.data,r,this.fieldTransforms)}}class ry{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new ya(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function iy(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class Xd{constructor(t,r,s,u,p,_){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Xd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:s,xu:!1});return u.Ou(t),u}Nu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Xs(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(iy(this.Cu)&&II.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class tC{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||h(t)}Qu(t,r,s,u=!1){return new Xd({Cu:t,methodName:r,qu:s,path:Qr.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(l){const t=l._freezeSettings(),r=h(l._databaseId);return new tC(l._databaseId,!!t.ignoreUndefinedProperties,r)}function Yd(l,t,r,s,u,p={}){const _=l.Qu(p.merge||p.mergeFields?2:0,t,r,u);iv("Data must be an object, but it was:",_,s);const w=rv(s,_);let x,X;if(p.merge)x=new Hi(_.fieldMask),X=_.fieldTransforms;else if(p.mergeFields){const ae=[];for(const Ie of p.mergeFields){const We=eh(t,Ie,r);if(!_.contains(We))throw new nn(Mt.INVALID_ARGUMENT,`Field '${We}' is specified in your field mask but missing from your input data.`);ov(ae,We)||ae.push(We)}x=new Hi(ae),X=_.fieldTransforms.filter(Ie=>x.covers(Ie.field))}else x=null,X=_.fieldTransforms;return new EI(new Ji(w),x,X)}class Yp extends sc{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yp}}function AI(l,t,r){return new Xd({Cu:3,qu:t.settings.qu,methodName:l._methodName,xu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class oy extends sc{_toFieldTransform(t){return new Ki(t.path,new ga)}isEqual(t){return t instanceof oy}}class sy extends sc{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=AI(this,t,!0),s=this.Ku.map(p=>ac(p,r)),u=new Ei(s);return new Ki(t.path,u)}isEqual(t){return t instanceof sy&&(0,ir.bD)(this.Ku,t.Ku)}}class ay extends sc{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=AI(this,t,!0),s=this.Ku.map(p=>ac(p,r)),u=new aa(s);return new Ki(t.path,u)}isEqual(t){return t instanceof ay&&(0,ir.bD)(this.Ku,t.Ku)}}class tv extends sc{constructor(t,r){super(t),this.$u=r}_toFieldTransform(t){const r=new as(t.serializer,tu(t.serializer,this.$u));return new Ki(t.path,r)}isEqual(t){return t instanceof tv&&this.$u===t.$u}}function Zd(l,t,r,s){const u=l.Qu(1,t,r);iv("Data must be an object, but it was:",u,s);const p=[],_=Ji.empty();ro(s,(x,X)=>{const ae=qs(t,x,r);X=(0,ir.Ku)(X);const Ie=u.Nu(ae);if(X instanceof Yp)p.push(ae);else{const We=ac(X,Ie);null!=We&&(p.push(ae),_.set(ae,We))}});const w=new Hi(p);return new ry(_,w,u.fieldTransforms)}function Jd(l,t,r,s,u,p){const _=l.Qu(1,t,r),w=[eh(t,s,r)],x=[u];if(p.length%2!=0)throw new nn(Mt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let We=0;We<p.length;We+=2)w.push(eh(t,p[We])),x.push(p[We+1]);const X=[],ae=Ji.empty();for(let We=w.length-1;We>=0;--We)if(!ov(X,w[We])){const Dt=w[We];let cn=x[We];cn=(0,ir.Ku)(cn);const In=_.Nu(Dt);if(cn instanceof Yp)X.push(Dt);else{const pn=ac(cn,In);null!=pn&&(X.push(Dt),ae.set(Dt,pn))}}const Ie=new Hi(X);return new ry(ae,Ie,_.fieldTransforms)}function nv(l,t,r,s=!1){return ac(r,l.Qu(s?4:3,t))}function ac(l,t){if(ly(l=(0,ir.Ku)(l)))return iv("Unsupported field value:",t,l),rv(l,t);if(l instanceof sc)return function(s,u){if(!iy(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(l,t),null;if(void 0===l&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),l instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(s,u){const p=[];let _=0;for(const w of s){let x=ac(w,u.Lu(_));null==x&&(x={nullValue:"NULL_VALUE"}),p.push(x),_++}return{arrayValue:{values:p}}}(l,t)}return function(s,u){if(null===(s=(0,ir.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return tu(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=Ln.fromDate(s);return{timestampValue:Qa(u.serializer,p)}}if(s instanceof Ln){const p=new Ln(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qa(u.serializer,p)}}if(s instanceof Xp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kl)return{bytesValue:ju(u.serializer,s._byteString)};if(s instanceof Po){const p=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(p))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:pl(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Qp)return w=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(x=>{if("number"!=typeof x)throw w.Bu("VectorValues must only contain numeric values.");return oo(w.serializer,x)})}}}}};var w;throw u.Bu(`Unsupported field value: ${lf(s)}`)}(l,t)}function rv(l,t){const r={};return Ma(l)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ro(l,(s,u)=>{const p=ac(u,t.Mu(s));null!=p&&(r[s]=p)}),{mapValue:{fields:r}}}function ly(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Ln||l instanceof Xp||l instanceof Kl||l instanceof Po||l instanceof sc||l instanceof Qp)}function iv(l,t,r){if(!ly(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=lf(r);throw t.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function eh(l,t,r){if((t=(0,ir.Ku)(t))instanceof Au)return t._internalPath;if("string"==typeof t)return qs(l,t);throw Xs("Field path arguments must be of type string or ",l,!1,void 0,r)}const th=new RegExp("[~\\*/\\[\\]]");function qs(l,t,r){if(t.search(th)>=0)throw Xs(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new Au(...t.split("."))._internalPath}catch{throw Xs(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function Xs(l,t,r,s,u){const p=s&&!s.isEmpty(),_=void 0!==u;let w=`Function ${t}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let x="";return(p||_)&&(x+=" (found",p&&(x+=` in field ${s}`),_&&(x+=` in document ${u}`),x+=")"),new nn(Mt.INVALID_ARGUMENT,w+l+x)}function ov(l,t){return l.some(r=>r.isEqual(t))}class Zp{constructor(t,r,s,u,p){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Po(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(sv("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class CI extends Zp{data(){return super.data()}}function sv(l,t){return"string"==typeof t?qs(l,t):t instanceof Au?t._internalPath:t._delegate._internalPath}function TI(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new nn(Mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class nh extends Jp{}function Jc(l,t,...r){let s=[];t instanceof Jp&&s.push(t),s=s.concat(r),function(p){const _=p.filter(x=>x instanceof uc).length,w=p.filter(x=>x instanceof lc).length;if(_>1||_>0&&w>0)throw new nn(Mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class lc extends nh{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new lc(t,r,s)}_apply(t){const r=this._parse(t);return hy(t._query,r),new Ks(t.firestore,t.converter,er(t._query,r))}_parse(t){const r=Qd(t.firestore);return function(p,_,w,x,X,ae,Ie){let We;if(X.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new nn(Mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){rg(Ie,ae);const Dt=[];for(const cn of Ie)Dt.push(hf(x,p,cn));We={arrayValue:{values:Dt}}}else We=hf(x,p,Ie)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||rg(Ie,ae),We=nv(w,"where",Ie,"in"===ae||"not-in"===ae);return ni.create(X,ae,We)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class uc extends Jp{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new uc(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:ki.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(u,p){let _=u;const w=p.getFlattenedFilters();for(const x of w)hy(_,x),_=er(_,x)}(t._query,r),new Ks(t.firestore,t.converter,er(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class df extends nh{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new df(t,r)}_apply(t){const r=function(u,p,_){if(null!==u.startAt)throw new nn(Mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new nn(Mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fa(p,_)}(t._query,this._field,this._direction);return new Ks(t.firestore,t.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new ie(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,r))}}class rh extends nh{constructor(t,r,s){super(),this.type=t,this._limit=r,this._limitType=s}static _create(t,r,s){return new rh(t,r,s)}_apply(t){return new Ks(t.firestore,t.converter,Cr(t._query,this._limit,this._limitType))}}class tg extends nh{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new tg(t,r,s)}_apply(t){const r=ih(t,this.type,this._docOrFields,this._inclusive);return new Ks(t.firestore,t.converter,(p=r,new ie((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class ng extends nh{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new ng(t,r,s)}_apply(t){const r=ih(t,this.type,this._docOrFields,this._inclusive);return new Ks(t.firestore,t.converter,(p=r,new ie((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function ih(l,t,r,s){if(r[0]=(0,ir.Ku)(r[0]),r[0]instanceof Zp)return function(p,_,w,x,X){if(!x)throw new nn(Mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const ae=[];for(const Ie of ee(p))if(Ie.field.isKeyField())ae.push(jn(_,x.key));else{const We=x.data.field(Ie.field);if(W(We))throw new nn(Mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const Dt=Ie.field.canonicalString();throw new nn(Mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}ae.push(We)}return new os(ae,X)}(l._query,l.firestore._databaseId,t,r[0]._document,s);{const u=Qd(l.firestore);return function(_,w,x,X,ae,Ie){const We=_.explicitOrderBy;if(ae.length>We.length)throw new nn(Mt.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let cn=0;cn<ae.length;cn++){const In=ae[cn];if(We[cn].field.isKeyField()){if("string"!=typeof In)throw new nn(Mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof In}`);if(!k(_)&&-1!==In.indexOf("/"))throw new nn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${In}' contains a slash.`);const pn=_.path.child(vr.fromString(In));if(!vn.isDocumentKey(pn))throw new nn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${pn}' is not because it contains an odd number of segments.`);const Vn=new vn(pn);Dt.push(jn(w,Vn))}else{const pn=nv(x,X,In);Dt.push(pn)}}return new os(Dt,Ie)}(l._query,l.firestore._databaseId,u,t,r,s)}}function hf(l,t,r){if("string"==typeof(r=(0,ir.Ku)(r))){if(""===r)throw new nn(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k(t)&&-1!==r.indexOf("/"))throw new nn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(vr.fromString(r));if(!vn.isDocumentKey(s))throw new nn(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jn(l,new vn(s))}if(r instanceof Po)return jn(l,r._key);throw new nn(Mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(r)}.`)}function rg(l,t){if(!Array.isArray(l)||0===l.length)throw new nn(Mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hy(l,t){const r=function(u,p){for(const _ of u)for(const w of _.getFlattenedFilters())if(p.indexOf(w.op)>=0)return w.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new nn(Mt.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class ff{convertValue(t,r="none"){switch(Mn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ai(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(q(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Jt()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return ro(t,(u,p)=>{s[u]=this.convertValue(p,r)}),s}convertVectorValue(t){var r,s,u;const p=null===(u=null===(s=null===(r=t.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>Ai(_.doubleValue));return new Qp(p)}convertGeoPoint(t){return new Xp(Ai(t.latitude),Ai(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=fe(t);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Me(t));default:return null}}convertTimestamp(t){const r=Mo(t);return new Ln(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=vr.fromString(t);Tn(fd(s));const u=new bt(s.get(1),s.get(3)),p=new vn(s.popFirst(5));return u.isEqual(r)||yr(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function pf(l,t,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(t,r):l.toFirestore(t):t,s}class ed extends ff{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Po(this.firestore,null,r)}}class cc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ql extends Zp{constructor(t,r,s,u,p,_){super(t,r,s,u,_),this._firestore=t,this._firestoreImpl=t,this.metadata=p}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(sv("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class td extends ql{data(t={}){return super.data(t)}}class Cu{constructor(t,r,s,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new cc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new td(this._firestore,this._userDataWriter,s.key,s,new cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new nn(Mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new td(u._firestore,u._userDataWriter,w.doc.key,w.doc,new cc(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>p||3!==w.type).map(w=>{const x=new td(u._firestore,u._userDataWriter,w.doc.key,w.doc,new cc(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let X=-1,ae=-1;return 0!==w.type&&(X=_.indexOf(w.doc.key),_=_.delete(w.doc.key)),1!==w.type&&(_=_.add(w.doc),ae=_.indexOf(w.doc.key)),{type:ig(w.type),doc:x,oldIndex:X,newIndex:ae}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function ig(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function dc(l,t){return l instanceof ql&&t instanceof ql?l._firestore===t._firestore&&l._key.isEqual(t._key)&&(null===l._document?null===t._document:l._document.isEqual(t._document))&&l._converter===t._converter:l instanceof Cu&&t instanceof Cu&&l._firestore===t._firestore&&Qm(l.query,t.query)&&l.metadata.isEqual(t.metadata)&&l._snapshot.isEqual(t._snapshot)}class Xl extends ff{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Po(this.firestore,null,r)}}function dv(l,t,r){l=Ri(l,Po);const s=Ri(l.firestore,so),u=pf(l.converter,t,r);return Wr(s,[Yd(Qd(s),"setDoc",l._key,u,null!==l.converter,r).toMutation(l._key,ui.none())])}function my(l,t,r,...s){l=Ri(l,Po);const u=Ri(l.firestore,so),p=Qd(u);let _;return _="string"==typeof(t=(0,ir.Ku)(t))||t instanceof Au?Jd(p,"updateDoc",l._key,t,r,s):Zd(p,"updateDoc",l._key,t),Wr(u,[_.toMutation(l._key,ui.exists(!0))])}function hv(l,...t){var r,s,u;l=(0,ir.Ku)(l);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof t[_]||Kp(t[_])||(p=t[_],_++);const w={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Kp(t[_])){const Ie=t[_];t[_]=null===(r=Ie.next)||void 0===r?void 0:r.bind(Ie),t[_+1]=null===(s=Ie.error)||void 0===s?void 0:s.bind(Ie),t[_+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let x,X,ae;if(l instanceof Po)X=Ri(l.firestore,so),ae=N(l._key.path),x={next:Ie=>{t[_]&&t[_](sg(X,l,Ie))},error:t[_+1],complete:t[_+2]};else{const Ie=Ri(l,Ks);X=Ri(Ie.firestore,so),ae=Ie._query;const We=new Xl(X);x={next:Dt=>{t[_]&&t[_](new Cu(X,We,Ie,Dt))},error:t[_+1],complete:t[_+2]},TI(l._query)}return function(We,Dt,cn,In){const pn=new rf(In),Vn=new xp(Dt,pn,cn);return We.asyncQueue.enqueueAndForget((0,te.A)(function*(){return Am(yield Wd(We),Vn)})),()=>{pn.Za(),We.asyncQueue.enqueueAndForget((0,te.A)(function*(){return Tm(yield Wd(We),Vn)}))}}(Ao(X),ae,w,x)}function Wr(l,t){return function(s,u){const p=new Ur;return s.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function zA(l,t,r){return Mm.apply(this,arguments)}(yield Wm(s),u,p)})),p.promise}(Ao(l),t)}function sg(l,t,r){const s=r.docs.get(t._key),u=new Xl(l);return new ql(l,u,t._key,s,new cc(r.hasPendingWrites,r.fromCache),t.converter)}const mv={maxAttempts:5};class Ey{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Qd(t)}set(t,r,s){this._verifyNotCommitted();const u=hc(t,this._firestore),p=pf(u.converter,r,s),_=Yd(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,ui.none())),this}update(t,r,s,...u){this._verifyNotCommitted();const p=hc(t,this._firestore);let _;return _="string"==typeof(r=(0,ir.Ku)(r))||r instanceof Au?Jd(this._dataReader,"WriteBatch.update",p._key,r,s,u):Zd(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(_.toMutation(p._key,ui.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=hc(t,this._firestore);return this._mutations=this._mutations.concat(new ka(r._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nn(Mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hc(l,t){if((l=(0,ir.Ku)(l)).firestore!==t)throw new nn(Mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class LI extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Qd(r)}get(r){const s=hc(r,this._firestore),u=new ed(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return Jt();const _=p[0];if(_.isFoundDocument())return new Zp(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new Zp(this._firestore,u,s._key,null,s.converter);throw Jt()})}set(r,s,u){const p=hc(r,this._firestore),_=pf(p.converter,s,u),w=Yd(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,w),this}update(r,s,u,...p){const _=hc(r,this._firestore);let w;return w="string"==typeof(s=(0,ir.Ku)(s))||s instanceof Au?Jd(this._dataReader,"Transaction.update",_._key,s,u,p):Zd(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,w),this}delete(r){const s=hc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=hc(t,this._firestore),s=new Xl(this._firestore);return super.get(t).then(u=>new ql(this._firestore,s,r._key,u._document,new cc(!1,!1),r.converter))}}function _v(l,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new nn("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return t}function wy(){if(typeof Uint8Array>"u")throw new nn("unimplemented","Uint8Arrays are not available in this environment.")}function Sy(){if(!function Oi(){return typeof atob<"u"}())throw new nn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){Ot=wr.SDK_VERSION,(0,wr._registerComponent)(new Ti.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const _=s.getProvider("app").getImmediate(),w=new so(new Pt(s.getProvider("auth-internal")),new ct(s.getProvider("app-check-internal")),function(X,ae){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new nn(Mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bt(X.options.projectId,ae)}(_,u),_);return p=Object.assign({useFetchStreams:r},p),w._setSettings(p),w},"PUBLIC").setMultipleInstances(!0)),(0,wr.registerVersion)(Te,"4.7.3",t),(0,wr.registerVersion)(Te,"4.7.3","esm2017")}();class Sa{constructor(t){this._delegate=t}static fromBase64String(t){return Sy(),new Sa(Kl.fromBase64String(t))}static fromUint8Array(t){return wy(),new Sa(Kl.fromUint8Array(t))}toBase64(){return Sy(),this._delegate.toBase64()}toUint8Array(){return wy(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mf(l){return function qI(l,t){if("object"!=typeof l||null===l)return!1;const r=l;for(const s of t)if(s in r&&"function"==typeof r[s])return!0;return!1}(l,["next","error","complete"])}class XI{enableIndexedDbPersistence(t,r){return function qd(l,t){cr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings();return ev(l,Eu.provider,{build:s=>new Iu(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function mI(l){return Jm.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function ty(l){if(l._initialized&&!l._terminated)throw new nn(Mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ur;return l._queue.enqueueAndForgetEvenWhileRestricted((0,te.A)(function*(){try{yield(r=(0,te.A)(function*(u){if(!ji.D())return Promise.resolve();const p=u+"main";yield ji.delete(p)}),function s(u){return r.apply(this,arguments)})(Ta(l._databaseId,l._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class yv{constructor(t,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof bt||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&cr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,s={}){!function Gp(l,t,r,s={}){var u;const p=(l=Ri(l,Zc))._getSettings(),_=`${t}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),s.mockUserToken){let w,x;if("string"==typeof s.mockUserToken)w=s.mockUserToken,x=Ve.MOCK_USER;else{w=(0,ir.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const X=s.mockUserToken.sub||s.mockUserToken.user_id;if(!X)throw new nn(Mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ve(X)}l._authCredentials=new Pr(new Vi(w,x))}}(this._delegate,t,r,s)}enableNetwork(){return function _I(l){return function sI(l){return l.asyncQueue.enqueue((0,te.A)(function*(){const t=yield zm(l),r=yield Gm(l);return t.setNetworkEnabled(!0),function(u){const p=Lt(u);return p.L_.delete(0),xn(p)}(r)}))}(Ao(l=Ri(l,so)))}(this._delegate)}disableNetwork(){return function yI(l){return function oc(l){return l.asyncQueue.enqueue((0,te.A)(function*(){const t=yield zm(l),r=yield Gm(l);return t.setNetworkEnabled(!1),(s=(0,te.A)(function*(p){const _=Lt(p);_.L_.add(0),yield Kn(_),_.q_.set("Offline")}),function u(p){return s.apply(this,arguments)})(r);var s}))}(Ao(l=Ri(l,so)))}(this._delegate)}enablePersistence(t){let r=!1,s=!1;return t&&(r=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,Kd("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vI(l){return function(r){const s=new Ur;return r.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function Qh(l,t){return $d.apply(this,arguments)}(yield Wm(r),s)})),s.promise}(Ao(l=Ri(l,so)))}(this._delegate)}onSnapshotsInSync(t){return function vy(l,t){return function XA(l,t){const r=new rf(t);return l.asyncQueue.enqueueAndForget((0,te.A)(function*(){return u=yield Wd(l),p=r,Lt(u).Y_.add(p),void p.next();var u,p})),()=>{r.Za(),l.asyncQueue.enqueueAndForget((0,te.A)(function*(){return u=yield Wd(l),p=r,void Lt(u).Y_.delete(p);var u,p}))}}(Ao(l=Ri(l,so)),Kp(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new nn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Dl(this,Z_(this._delegate,t))}catch(r){throw Qs(r,"collection()","Firestore.collection()")}}doc(t){try{return new Ua(this,Wp(this._delegate,t))}catch(r){throw Qs(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new da(this,function fI(l,t){if(l=Ri(l,Zc),Tl("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nn(Mt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ks(l,null,(s=t,new ie(vr.emptyPath(),s)));var s}(this._delegate,t))}catch(r){throw Qs(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Ay(l,t,r){l=Ri(l,so);const s=Object.assign(Object.assign({},mv),r);return function(p){if(p.maxAttempts<1)throw new nn(Mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,_,w){const x=new Ur;return p.asyncQueue.enqueueAndForget((0,te.A)(function*(){const X=yield function q_(l){return Gd(l).then(t=>t.datastore)}(p);new G_(p.asyncQueue,X,w,_,x).au()})),x.promise}(Ao(l),u=>t(new LI(l,u)),s)}(this._delegate,r=>t(new cg(this,r)))}batch(){return Ao(this._delegate),new QI(new Ey(this._delegate,t=>Wr(this._delegate,t)))}loadBundle(t){return function ny(l,t){const r=Ao(l=Ri(l,so)),s=new pI;return function QA(l,t,r,s){const u=function(_,w){let x;return x="string"==typeof _?kn().encode(_):_,ae=function(ae){if(ae instanceof Uint8Array)return $m(ae,void 0);if(ae instanceof ArrayBuffer)return $m(new Uint8Array(ae),void 0);if(ae instanceof ReadableStream)return ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new z_(ae,w);var ae}(r,h(t));l.asyncQueue.enqueueAndForget((0,te.A)(function*(){!function j_(l,t,r){const s=Lt(l);var u;(u=(0,te.A)(function*(_,w,x){try{const X=yield w.getMetadata();if(yield function(cn,In){const pn=Lt(cn),Vn=Lo(In.createTime);return pn.persistence.runTransaction("hasNewerBundle","readonly",rr=>pn.Gr.getBundleMetadata(rr,In.id)).then(rr=>!!rr&&rr.createTime.compareTo(Vn)>=0)}(_.localStore,X))return yield w.close(),x._completeWith({taskState:"Success",documentsLoaded:(cn=X).totalDocuments,bytesLoaded:cn.totalBytes,totalDocuments:cn.totalDocuments,totalBytes:cn.totalBytes}),Promise.resolve(new Set);x._updateProgress(O_(X));const ae=new Q0(X,_.localStore,w.serializer);let Ie=yield w.Ua();for(;Ie;){const Dt=yield ae.la(Ie);Dt&&x._updateProgress(Dt),Ie=yield w.Ua()}const We=yield ae.complete();return yield nc(_,We.Ia,void 0),yield function(cn,In){const pn=Lt(cn);return pn.persistence.runTransaction("Save bundle","readwrite",Vn=>pn.Gr.saveBundleMetadata(Vn,In))}(_.localStore,X),x._completeWith(We.progress),Promise.resolve(We.Pa)}catch(X){return cr("SyncEngine",`Loading bundle failed with ${X}`),x._failWith(X),Promise.resolve(new Set)}var cn}),function p(_,w,x){return u.apply(this,arguments)})(s,t,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Wm(l),u,s)}))}(r,l._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function JA(l,t){return function Q_(l,t){return l.asyncQueue.enqueue((0,te.A)(function*(){return function(s,u){const p=Lt(s);return p.persistence.runTransaction("Get named query","readonly",_=>p.Gr.getNamedQuery(_,u))}(yield Yc(l),t)}))}(Ao(l=Ri(l,so)),t).then(r=>r?new Ks(l,null,r.query):null)}(this._delegate,t).then(r=>r?new da(this,r):null)}}class vf extends ff{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sa(new Kl(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return Ua.forKey(r,this.firestore,null)}}class cg{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new vf(t)}get(t){const r=pc(t);return this._delegate.get(r).then(s=>new Ba(this._firestore,new ql(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(t,r,s){const u=pc(t);return s?(_v("Transaction.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(t,r,s,...u){const p=pc(t);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,s,...u),this}delete(t){const r=pc(t);return this._delegate.delete(r),this}}class QI{constructor(t){this._delegate=t}set(t,r,s){const u=pc(t);return s?(_v("WriteBatch.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(t,r,s,...u){const p=pc(t);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,s,...u),this}delete(t){const r=pc(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class fc{constructor(t,r,s){this._firestore=t,this._userDataWriter=r,this._delegate=s}fromFirestore(t,r){const s=new td(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yf(this._firestore,s),null!=r?r:{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const s=fc.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let p=u.get(r);return p||(p=new fc(t,new vf(t),r),u.set(r,p)),p}}fc.INSTANCES=new WeakMap;class Ua{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new vf(t)}static forPath(t,r,s){if(t.length%2!=0)throw new nn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ua(r,new Po(r._delegate,s,new vn(t)))}static forKey(t,r,s){return new Ua(r,new Po(r._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new Dl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Dl(this.firestore,Z_(this._delegate,t))}catch(r){throw Qs(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ir.Ku)(t))instanceof Po&&J_(this._delegate,t)}set(t,r){r=_v("DocumentReference.set",r);try{return r?dv(this._delegate,t,r):dv(this._delegate,t)}catch(s){throw Qs(s,"setDoc()","DocumentReference.set()")}}update(t,r,...s){try{return 1===arguments.length?my(this._delegate,t):my(this._delegate,t,r,...s)}catch(u){throw Qs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function PI(l){return Wr(Ri(l.firestore,so),[new ka(l._key,ui.none())])}(this._delegate)}onSnapshot(...t){const r=_f(t),s=dg(t,u=>new Ba(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return hv(this._delegate,r,s)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function gf(l){l=Ri(l,Po);const t=Ri(l.firestore,so),r=Ao(t),s=new Xl(t);return function af(l,t){const r=new Ur;return l.asyncQueue.enqueueAndForget((0,te.A)(function*(){return(s=(0,te.A)(function*(p,_,w){try{const x=yield function(ae,Ie){const We=Lt(ae);return We.persistence.runTransaction("read document","readonly",Dt=>We.localDocuments.getDocument(Dt,Ie))}(p,_);x.isFoundDocument()?w.resolve(x):x.isNoDocument()?w.resolve(null):w.reject(new nn(Mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const X=qc(x,`Failed to get document '${_} from cache`);w.reject(X)}}),function u(p,_,w){return s.apply(this,arguments)})(yield Yc(l),t,r);var s})),r.promise}(r,l._key).then(u=>new ql(t,s,l._key,u,new cc(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function gy(l){l=Ri(l,Po);const t=Ri(l.firestore,so);return X_(Ao(t),l._key,{source:"server"}).then(r=>sg(t,l,r))}(this._delegate):function py(l){l=Ri(l,Po);const t=Ri(l.firestore,so);return X_(Ao(t),l._key).then(r=>sg(t,l,r))}(this._delegate),r.then(s=>new Ba(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new Ua(this.firestore,this._delegate.withConverter(t?fc.getInstance(this.firestore,t):null))}}function Qs(l,t,r){return l.message=l.message.replace(t,r),l}function _f(l){for(const t of l)if("object"==typeof t&&!mf(t))return t;return{}}function dg(l,t){var r,s;let u;return u=mf(l[0])?l[0]:mf(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:p=>{u.next&&u.next(t(p))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Ba{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new Ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return dc(this._delegate,t._delegate)}}class yf extends Ba{data(t){const r=this._delegate.data(t);return this._delegate._converter||function gi(l){l||Jt()}(void 0!==r),r}}class da{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new vf(t)}where(t,r,s){try{return new da(this.firestore,Jc(this._delegate,function av(l,t,r){const s=t,u=sv("where",l);return lc._create(u,s,r)}(t,r,s)))}catch(u){throw Qs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new da(this.firestore,Jc(this._delegate,function uy(l,t="asc"){const r=t,s=sv("orderBy",l);return df._create(s,r)}(t,r)))}catch(s){throw Qs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new da(this.firestore,Jc(this._delegate,function eg(l){return dI("limit",l),rh._create("limit",l,"F")}(t)))}catch(r){throw Qs(r,"limit()","Query.limit()")}}limitToLast(t){try{return new da(this.firestore,Jc(this._delegate,function bI(l){return dI("limitToLast",l),rh._create("limitToLast",l,"L")}(t)))}catch(r){throw Qs(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new da(this.firestore,Jc(this._delegate,function cy(...l){return tg._create("startAt",l,!0)}(...t)))}catch(r){throw Qs(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new da(this.firestore,Jc(this._delegate,function DI(...l){return tg._create("startAfter",l,!1)}(...t)))}catch(r){throw Qs(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new da(this.firestore,Jc(this._delegate,function dy(...l){return ng._create("endBefore",l,!1)}(...t)))}catch(r){throw Qs(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new da(this.firestore,Jc(this._delegate,function lv(...l){return ng._create("endAt",l,!0)}(...t)))}catch(r){throw Qs(r,"endAt()","Query.endAt()")}}isEqual(t){return Qm(this._delegate,t._delegate)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function og(l){l=Ri(l,Ks);const t=Ri(l.firestore,so),r=Ao(t),s=new Xl(t);return function KA(l,t){const r=new Ur;return l.asyncQueue.enqueueAndForget((0,te.A)(function*(){return(s=(0,te.A)(function*(p,_,w){try{const x=yield Yu(p,_,!0),X=new Sm(_,x.Ts),ae=X.ma(x.documents),Ie=X.applyChanges(ae,!1);w.resolve(Ie.snapshot)}catch(x){const X=qc(x,`Failed to execute query '${_} against cache`);w.reject(X)}}),function u(p,_,w){return s.apply(this,arguments)})(yield Yc(l),t,r);var s})),r.promise}(r,l._query).then(u=>new Cu(t,s,l,u))}(this._delegate):"server"===(null==t?void 0:t.source)?function MI(l){l=Ri(l,Ks);const t=Ri(l.firestore,so),r=Ao(t),s=new Xl(t);return aI(r,l._query,{source:"server"}).then(u=>new Cu(t,s,l,u))}(this._delegate):function cv(l){l=Ri(l,Ks);const t=Ri(l.firestore,so),r=Ao(t),s=new Xl(t);return TI(l._query),aI(r,l._query).then(u=>new Cu(t,s,l,u))}(this._delegate),r.then(s=>new Ev(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const r=_f(t),s=dg(t,u=>new Ev(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return hv(this._delegate,r,s)}withConverter(t){return new da(this.firestore,this._delegate.withConverter(t?fc.getInstance(this.firestore,t):null))}}class Iv{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new yf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ev{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new da(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new yf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new Iv(this._firestore,r))}forEach(t,r){this._delegate.forEach(s=>{t.call(r,new yf(this._firestore,s))})}isEqual(t){return dc(this._delegate,t._delegate)}}class Dl extends da{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ua(this.firestore,t):null}doc(t){try{return new Ua(this.firestore,void 0===t?Wp(this._delegate):Wp(this._delegate,t))}catch(r){throw Qs(r,"doc()","CollectionReference.doc()")}}add(t){return function xI(l,t){const r=Ri(l.firestore,so),s=Wp(l),u=pf(l.converter,t);return Wr(r,[Yd(Qd(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}(this._delegate,t).then(r=>new Ua(this.firestore,r))}isEqual(t){return J_(this._delegate,t._delegate)}withConverter(t){return new Dl(this.firestore,this._delegate.withConverter(t?fc.getInstance(this.firestore,t):null))}}function pc(l){return Ri(l,Po)}class Tu{constructor(...t){this._delegate=new Au(...t)}static documentId(){return new Tu(Qr.keyField().canonicalString())}isEqual(t){return(t=(0,ir.Ku)(t))instanceof Au&&this._delegate._internalPath.isEqual(t._internalPath)}}class il{constructor(t){this._delegate=t}static serverTimestamp(){const t=function UI(){return new oy("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new il(t)}static delete(){const t=function VI(){return new Yp("deleteField")}();return t._methodName="FieldValue.delete",new il(t)}static arrayUnion(...t){const r=function BI(...l){return new sy("arrayUnion",l)}(...t);return r._methodName="FieldValue.arrayUnion",new il(r)}static arrayRemove(...t){const r=function $I(...l){return new ay("arrayRemove",l)}(...t);return r._methodName="FieldValue.arrayRemove",new il(r)}static increment(t){const r=function Cy(l){return new tv("increment",l)}(t);return r._methodName="FieldValue.increment",new il(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Av={Firestore:yv,GeoPoint:Xp,Timestamp:Ln,Blob:Sa,Transaction:cg,WriteBatch:QI,DocumentReference:Ua,DocumentSnapshot:Ba,Query:da,QueryDocumentSnapshot:yf,QuerySnapshot:Ev,CollectionReference:Dl,FieldPath:Tu,FieldValue:il,setLogLevel:function ug(l){!function Fn(l){Ye.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};function Py(l,t){return function My(l,t=fr.E){return new lt.c(r=>{let s;return null!=t?t.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},r)}):s=l.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(l,t)}function Cv(l,t){return Py(l,t).pipe((0,He.T)(r=>({payload:r,type:"query"})))}!function Ry(l){(function If(l,t){l.INTERNAL.registerComponent(new Ti.uA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},Av)))})(l,(t,r)=>new yv(t,r,new XI)),l.registerVersion("@firebase/firestore-compat","0.3.38")}(gr.A);class xy{constructor(t,r){(0,Ne.A)(this,"ref",void 0),(0,Ne.A)(this,"afs",void 0),this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const s=this.ref.collection(t),{ref:u,query:p}=pg(s,r);return new bv(u,p,this.afs)}snapshotChanges(){return function YI(l,t){return Py(l,t).pipe((0,Nn.Z)(void 0),_r(),(0,He.T)(r=>{const[s,u]=r;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,He.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,at.H)(this.ref.get(t)).pipe(ce.U0)}}function hg(l,t){return Cv(l,t).pipe((0,Nn.Z)(void 0),_r(),(0,He.T)(r=>{const[s,u]=r,p=u.payload.docChanges(),_=p.map(w=>({type:w.type,payload:w}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((w,x)=>{const X=p.find(Ie=>Ie.doc.ref.isEqual(w.ref)),ae=null==s?void 0:s.payload.docs.find(Ie=>Ie.ref.isEqual(w.ref));X&&JSON.stringify(X.doc.metadata)===JSON.stringify(w.metadata)||!X&&ae&&JSON.stringify(ae.metadata)===JSON.stringify(w.metadata)||_.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:w}})}),_}))}function Ny(l,t,r){return hg(l,r).pipe((0,Er.S)((s,u)=>function Oy(l,t,r){return t.forEach(s=>{r.indexOf(s.type)>-1&&(l=function fg(l,t){switch(t.type){case"added":if(!l[t.newIndex]||!l[t.newIndex].doc.ref.isEqual(t.doc.ref))return Tv(l,t.newIndex,0,t);break;case"modified":if(null==l[t.oldIndex]||l[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=l.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return Tv(l,t.newIndex,1,t)}break;case"removed":if(l[t.oldIndex]&&l[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Tv(l,t.oldIndex,1)}return l}(l,s))}),l}(s,u.map(p=>p.payload),t),[]),(0,lr.F)(),(0,He.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Tv(l,t,r,...s){const u=l.slice();return u.splice(t,r,...s),u}function ky(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class bv{constructor(t,r,s){(0,Ne.A)(this,"ref",void 0),(0,Ne.A)(this,"query",void 0),(0,Ne.A)(this,"afs",void 0),this.ref=t,this.query=r,this.afs=s}stateChanges(t){let r=hg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,He.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),r.pipe((0,Nn.Z)(void 0),_r(),(0,ye.p)(([s,u])=>u.length>0||!s),(0,He.T)(([,s])=>s),ce.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Er.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=ky(t);return Ny(this.query,r,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return Cv(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.T)(r=>r.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),ce.U0)}get(t){return(0,at.H)(this.query.get(t)).pipe(ce.U0)}add(t){return this.ref.add(t)}doc(t){return new xy(this.ref.doc(t),this.afs)}}class ZI{constructor(t,r){(0,Ne.A)(this,"query",void 0),(0,Ne.A)(this,"afs",void 0),this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?hg(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.T)(r=>r.filter(s=>t.indexOf(s.type)>-1)),(0,ye.p)(r=>r.length>0),ce.U0):hg(this.query,this.afs.schedulers.outsideAngular).pipe(ce.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Er.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=ky(t);return Ny(this.query,r,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return Cv(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ce.U0)}get(t){return(0,at.H)(this.query.get(t)).pipe(ce.U0)}}const Dv=new H.nKC("angularfire2.enableFirestorePersistence"),Fy=new H.nKC("angularfire2.firestore.persistenceSettings"),JI=new H.nKC("angularfire2.firestore.settings"),Ly=new H.nKC("angularfire2.firestore.use-emulator");function pg(l,t=r=>r){return{query:t(l),ref:l}}let Vy=(()=>{var l;class t{constructor(s,u,p,_,w,x,X,ae,Ie,We,Dt,cn,In,pn,Vn,rr,tr){(0,Ne.A)(this,"schedulers",void 0),(0,Ne.A)(this,"firestore",void 0),(0,Ne.A)(this,"persistenceEnabled$",void 0),this.schedulers=X;const Zn=(0,Re.iB)(s,x,u),Kr=Ie;We&&ln(Zn,x,Dt,In,pn,Vn,cn,rr),[this.firestore,this.persistenceEnabled$]=(0,Re.BM)(`${Zn.name}.firestore`,"AngularFirestore",Zn.name,()=>{const Dr=x.runOutsideAngular(()=>Zn.firestore());if(_&&Dr.settings(_),Kr&&Dr.useEmulator(...Kr),p&&!(0,Ae.Vy)(w)){const gt=()=>{try{return(0,at.H)(Dr.enablePersistence(ae||void 0).then(()=>!0,()=>!1))}catch($e){return typeof console<"u"&&console.warn($e),(0,Le.of)(!1)}};return[Dr,x.runOutsideAngular(gt)]}return[Dr,(0,Le.of)(!1)]},[_,Kr,p])}collection(s,u){let p;p="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:w}=pg(p,u),x=this.schedulers.ngZone.run(()=>_);return new bv(x,w,this)}collectionGroup(s,u){const p=u||(w=>w),_=this.firestore.collectionGroup(s);return new ZI(p(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const p=this.schedulers.ngZone.run(()=>u);return new xy(p,this)}createId(){return this.firestore.collection("_").doc().id}}return l=t,(0,Ne.A)(t,"\u0275fac",function(s){return new(s||l)(H.KVO(Re.rx),H.KVO(Re.uP,8),H.KVO(Dv,8),H.KVO(JI,8),H.KVO(H.Agw),H.KVO(H.SKi),H.KVO(ce.u0),H.KVO(Fy,8),H.KVO(Ly,8),H.KVO(Hn,8),H.KVO(Ee,8),H.KVO(ze,8),H.KVO(Fe,8),H.KVO(Ze,8),H.KVO(mt,8),H.KVO(_n,8),H.KVO(ce.Jv,8))}),(0,Ne.A)(t,"\u0275prov",H.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),t})(),Ef=(()=>{var l;class t{constructor(){me.A.registerVersion("angularfire",ce.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:t,providers:[{provide:Dv,useValue:!0},{provide:Fy,useValue:s}]}}}return l=t,(0,Ne.A)(t,"\u0275fac",function(s){return new(s||l)}),(0,Ne.A)(t,"\u0275mod",H.$C({type:l})),(0,Ne.A)(t,"\u0275inj",H.G2t({providers:[Vy]})),t})();const Af_firebaseConfig={apiKey:"AIzaSyDXswI8HddB76OEwuAqPBfy4W2sVCh9YQA",authDomain:"foundation-sure.firebaseapp.com",projectId:"foundation-sure",storageBucket:"foundation-sure.appspot.com",messagingSenderId:"949738403103",appId:"1:949738403103:web:c7ead68bfb0463bb536c2a",measurementId:"G-Z5YP45QPMX"};let Cf=(()=>{var l;class t{}return(l=t).\u0275fac=function(s){return new(s||l)},l.\u0275mod=H.$C({type:l,bootstrap:[ft]}),l.\u0275inj=H.G2t({imports:[c.Bb,f.bv.forRoot(),he,Nt.YN,Re.bf.initializeApp(Af_firebaseConfig),mn,hr.y5,Ef]}),t})();c.sG().bootstrapModule(Cf).catch(l=>console.error(l))},4412:(Rn,ht,j)=>{"use strict";j.d(ht,{t:()=>f});var c=j(1413);class f extends c.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const De=super._subscribe(H);return!De.closed&&H.next(this._value),De}getValue(){const{hasError:H,thrownError:De,_value:he}=this;if(H)throw De;return this._throwIfClosed(),he}next(H){super.next(this._value=H)}}},1985:(Rn,ht,j)=>{"use strict";j.d(ht,{c:()=>Ne});var c=j(7707),f=j(8359),xe=j(3494),H=j(1203),De=j(1026),he=j(8071),te=j(9786);let Ne=(()=>{class Re{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const lt=new Re;return lt.source=this,lt.operator=Le,lt}subscribe(Le,lt,at){const tt=function ce(Re){return Re&&Re instanceof c.vU||function Ae(Re){return Re&&(0,he.T)(Re.next)&&(0,he.T)(Re.error)&&(0,he.T)(Re.complete)}(Re)&&(0,f.Uv)(Re)}(Le)?Le:new c.Ms(Le,lt,at);return(0,te.Y)(()=>{const{operator:rt,source:pt}=this;tt.add(rt?rt.call(tt,pt):pt?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Le){try{return this._subscribe(Le)}catch(lt){Le.error(lt)}}forEach(Le,lt){return new(lt=Ke(lt))((at,tt)=>{const rt=new c.Ms({next:pt=>{try{Le(pt)}catch(ut){tt(ut),rt.unsubscribe()}},error:tt,complete:at});this.subscribe(rt)})}_subscribe(Le){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Le)}[xe.s](){return this}pipe(...Le){return(0,H.m)(Le)(this)}toPromise(Le){return new(Le=Ke(Le))((lt,at)=>{let tt;this.subscribe(rt=>tt=rt,rt=>at(rt),()=>lt(tt))})}}return Re.create=Ue=>new Re(Ue),Re})();function Ke(Re){var Ue;return null!==(Ue=null!=Re?Re:De.$.Promise)&&void 0!==Ue?Ue:Promise}},1413:(Rn,ht,j)=>{"use strict";j.d(ht,{B:()=>te});var c=j(1985),f=j(8359);const H=(0,j(1853).L)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=j(7908),he=j(9786);let te=(()=>{class Ke extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Re=new Ne(this,this);return Re.operator=ce,Re}_throwIfClosed(){if(this.closed)throw new H}next(ce){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(ce)}})}error(ce){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Re}=this;for(;Re.length;)Re.shift().error(ce)}})}complete(){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Re,isStopped:Ue,observers:Le}=this;return Re||Ue?f.Kn:(this.currentObservers=null,Le.push(ce),new f.yU(()=>{this.currentObservers=null,(0,De.o)(Le,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Re,thrownError:Ue,isStopped:Le}=this;Re?ce.error(Ue):Le&&ce.complete()}asObservable(){const ce=new c.c;return ce.source=this,ce}}return Ke.create=(Ae,ce)=>new Ne(Ae,ce),Ke})();class Ne extends te{constructor(Ae,ce){super(),this.destination=Ae,this.source=ce}next(Ae){var ce,Re;null===(Re=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Re||Re.call(ce,Ae)}error(Ae){var ce,Re;null===(Re=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Re||Re.call(ce,Ae)}complete(){var Ae,ce;null===(ce=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.complete)||void 0===ce||ce.call(Ae)}_subscribe(Ae){var ce,Re;return null!==(Re=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Ae))&&void 0!==Re?Re:f.Kn}}},7707:(Rn,ht,j)=>{"use strict";j.d(ht,{Ms:()=>at,vU:()=>Re});var c=j(8071),f=j(8359),xe=j(1026),H=j(5334),De=j(5343);const he=Ke("C",void 0,void 0);function Ke(dt,ge,Ce){return{kind:dt,value:ge,error:Ce}}var Ae=j(9270),ce=j(9786);class Re extends f.yU{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,f.Uv)(ge)&&ge.add(this)):this.destination=ut}static create(ge,Ce,He){return new at(ge,Ce,He)}next(ge){this.isStopped?pt(function Ne(dt){return Ke("N",dt,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?pt(function te(dt){return Ke("E",void 0,dt)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?pt(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Le(dt,ge){return Ue.call(dt,ge)}class lt{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(ge)}catch(He){tt(He)}}error(ge){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(ge)}catch(He){tt(He)}else tt(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(Ce){tt(Ce)}}}class at extends Re{constructor(ge,Ce,He){let Xe;if(super(),(0,c.T)(ge)||!ge)Xe={next:null!=ge?ge:void 0,error:null!=Ce?Ce:void 0,complete:null!=He?He:void 0};else{let Ct;this&&xe.$.useDeprecatedNextContext?(Ct=Object.create(ge),Ct.unsubscribe=()=>this.unsubscribe(),Xe={next:ge.next&&Le(ge.next,Ct),error:ge.error&&Le(ge.error,Ct),complete:ge.complete&&Le(ge.complete,Ct)}):Xe=ge}this.destination=new lt(Xe)}}function tt(dt){xe.$.useDeprecatedSynchronousErrorHandling?(0,ce.l)(dt):(0,H.m)(dt)}function pt(dt,ge){const{onStoppedNotification:Ce}=xe.$;Ce&&Ae.f.setTimeout(()=>Ce(dt,ge))}const ut={closed:!0,next:De.l,error:function rt(dt){throw dt},complete:De.l}},8359:(Rn,ht,j)=>{"use strict";j.d(ht,{Kn:()=>he,yU:()=>De,Uv:()=>te});var c=j(8071);const xe=(0,j(1853).L)(Ke=>function(ce){Ke(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Re,Ue)=>`${Ue+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var H=j(7908);class De{constructor(Ae){this.initialTeardown=Ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ae;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Le of ce)Le.remove(this);else ce.remove(this);const{initialTeardown:Re}=this;if((0,c.T)(Re))try{Re()}catch(Le){Ae=Le instanceof xe?Le.errors:[Le]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Le of Ue)try{Ne(Le)}catch(lt){Ae=null!=Ae?Ae:[],lt instanceof xe?Ae=[...Ae,...lt.errors]:Ae.push(lt)}}if(Ae)throw new xe(Ae)}}add(Ae){var ce;if(Ae&&Ae!==this)if(this.closed)Ne(Ae);else{if(Ae instanceof De){if(Ae.closed||Ae._hasParent(this))return;Ae._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(Ae)}}_hasParent(Ae){const{_parentage:ce}=this;return ce===Ae||Array.isArray(ce)&&ce.includes(Ae)}_addParent(Ae){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(Ae),ce):ce?[ce,Ae]:Ae}_removeParent(Ae){const{_parentage:ce}=this;ce===Ae?this._parentage=null:Array.isArray(ce)&&(0,H.o)(ce,Ae)}remove(Ae){const{_finalizers:ce}=this;ce&&(0,H.o)(ce,Ae),Ae instanceof De&&Ae._removeParent(this)}}De.EMPTY=(()=>{const Ke=new De;return Ke.closed=!0,Ke})();const he=De.EMPTY;function te(Ke){return Ke instanceof De||Ke&&"closed"in Ke&&(0,c.T)(Ke.remove)&&(0,c.T)(Ke.add)&&(0,c.T)(Ke.unsubscribe)}function Ne(Ke){(0,c.T)(Ke)?Ke():Ke.unsubscribe()}},1026:(Rn,ht,j)=>{"use strict";j.d(ht,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Rn,ht,j)=>{"use strict";j.d(ht,{z:()=>Ae});var c=j(1985),f=j(3073),xe=j(8455),H=j(3669),De=j(6450),he=j(3794),te=j(8496),Ne=j(4360),Ke=j(5225);function Ae(...Ue){const Le=(0,he.lI)(Ue),lt=(0,he.ms)(Ue),{args:at,keys:tt}=(0,f.D)(Ue);if(0===at.length)return(0,xe.H)([],Le);const rt=new c.c(function ce(Ue,Le,lt=H.D){return at=>{Re(Le,()=>{const{length:tt}=Ue,rt=new Array(tt);let pt=tt,ut=tt;for(let dt=0;dt<tt;dt++)Re(Le,()=>{const ge=(0,xe.H)(Ue[dt],Le);let Ce=!1;ge.subscribe((0,Ne._)(at,He=>{rt[dt]=He,Ce||(Ce=!0,ut--),ut||at.next(lt(rt.slice()))},()=>{--pt||at.complete()}))},at)},at)}}(at,Le,tt?pt=>(0,te.e)(tt,pt):H.D));return lt?rt.pipe((0,De.I)(lt)):rt}function Re(Ue,Le,lt){Ue?(0,Ke.N)(lt,Ue,Le):Le()}},8793:(Rn,ht,j)=>{"use strict";j.d(ht,{x:()=>De});var c=j(6365),xe=j(3794),H=j(8455);function De(...he){return function f(){return(0,c.U)(1)}()((0,H.H)(he,(0,xe.lI)(he)))}},983:(Rn,ht,j)=>{"use strict";j.d(ht,{w:()=>f});const f=new(j(1985).c)(De=>De.complete())},8455:(Rn,ht,j)=>{"use strict";j.d(ht,{H:()=>ge});var c=j(8750),f=j(941),xe=j(6745),he=j(1985),Ne=j(4761),Ke=j(8071),Ae=j(5225);function Re(Ce,He){if(!Ce)throw new Error("Iterable cannot be null");return new he.c(Xe=>{(0,Ae.N)(Xe,He,()=>{const Ct=Ce[Symbol.asyncIterator]();(0,Ae.N)(Xe,He,()=>{Ct.next().then(wt=>{wt.done?Xe.complete():Xe.next(wt.value)})},0,!0)})})}var Ue=j(5055),Le=j(9858),lt=j(7441),at=j(5397),tt=j(7953),rt=j(591),pt=j(5196);function ge(Ce,He){return He?function dt(Ce,He){if(null!=Ce){if((0,Ue.l)(Ce))return function H(Ce,He){return(0,c.Tg)(Ce).pipe((0,xe._)(He),(0,f.Q)(He))}(Ce,He);if((0,lt.X)(Ce))return function te(Ce,He){return new he.c(Xe=>{let Ct=0;return He.schedule(function(){Ct===Ce.length?Xe.complete():(Xe.next(Ce[Ct++]),Xe.closed||this.schedule())})})}(Ce,He);if((0,Le.y)(Ce))return function De(Ce,He){return(0,c.Tg)(Ce).pipe((0,xe._)(He),(0,f.Q)(He))}(Ce,He);if((0,tt.T)(Ce))return Re(Ce,He);if((0,at.x)(Ce))return function ce(Ce,He){return new he.c(Xe=>{let Ct;return(0,Ae.N)(Xe,He,()=>{Ct=Ce[Ne.l](),(0,Ae.N)(Xe,He,()=>{let wt,Se;try{({value:wt,done:Se}=Ct.next())}catch(Wt){return void Xe.error(Wt)}Se?Xe.complete():Xe.next(wt)},0,!0)}),()=>(0,Ke.T)(null==Ct?void 0:Ct.return)&&Ct.return()})}(Ce,He);if((0,pt.U)(Ce))return function ut(Ce,He){return Re((0,pt.C)(Ce),He)}(Ce,He)}throw(0,rt.L)(Ce)}(Ce,He):(0,c.Tg)(Ce)}},8750:(Rn,ht,j)=>{"use strict";j.d(ht,{Tg:()=>Ue});var c=j(1635),f=j(7441),xe=j(9858),H=j(1985),De=j(5055),he=j(7953),te=j(591),Ne=j(5397),Ke=j(5196),Ae=j(8071),ce=j(5334),Re=j(3494);function Ue(dt){if(dt instanceof H.c)return dt;if(null!=dt){if((0,De.l)(dt))return function Le(dt){return new H.c(ge=>{const Ce=dt[Re.s]();if((0,Ae.T)(Ce.subscribe))return Ce.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(dt);if((0,f.X)(dt))return function lt(dt){return new H.c(ge=>{for(let Ce=0;Ce<dt.length&&!ge.closed;Ce++)ge.next(dt[Ce]);ge.complete()})}(dt);if((0,xe.y)(dt))return function at(dt){return new H.c(ge=>{dt.then(Ce=>{ge.closed||(ge.next(Ce),ge.complete())},Ce=>ge.error(Ce)).then(null,ce.m)})}(dt);if((0,he.T)(dt))return rt(dt);if((0,Ne.x)(dt))return function tt(dt){return new H.c(ge=>{for(const Ce of dt)if(ge.next(Ce),ge.closed)return;ge.complete()})}(dt);if((0,Ke.U)(dt))return function pt(dt){return rt((0,Ke.C)(dt))}(dt)}throw(0,te.L)(dt)}function rt(dt){return new H.c(ge=>{(function ut(dt,ge){var Ce,He,Xe,Ct;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Ce=(0,c.xN)(dt);!(He=yield Ce.next()).done;)if(ge.next(He.value),ge.closed)return}catch(wt){Xe={error:wt}}finally{try{He&&!He.done&&(Ct=Ce.return)&&(yield Ct.call(Ce))}finally{if(Xe)throw Xe.error}}ge.complete()})})(dt,ge).catch(Ce=>ge.error(Ce))})}},7673:(Rn,ht,j)=>{"use strict";j.d(ht,{of:()=>xe});var c=j(3794),f=j(8455);function xe(...H){const De=(0,c.lI)(H);return(0,f.H)(H,De)}},4360:(Rn,ht,j)=>{"use strict";j.d(ht,{_:()=>f});var c=j(7707);function f(H,De,he,te,Ne){return new xe(H,De,he,te,Ne)}class xe extends c.vU{constructor(De,he,te,Ne,Ke,Ae){super(De),this.onFinalize=Ke,this.shouldUnsubscribe=Ae,this._next=he?function(ce){try{he(ce)}catch(Re){De.error(Re)}}:super._next,this._error=Ne?function(ce){try{Ne(ce)}catch(Re){De.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(ce){De.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},9901:(Rn,ht,j)=>{"use strict";j.d(ht,{U:()=>xe});var c=j(9974),f=j(4360);function xe(H){return(0,c.N)((De,he)=>{let te=!1;De.subscribe((0,f._)(he,Ne=>{te=!0,he.next(Ne)},()=>{te||he.next(H),he.complete()}))})}},3294:(Rn,ht,j)=>{"use strict";j.d(ht,{F:()=>H});var c=j(3669),f=j(9974),xe=j(4360);function H(he,te=c.D){return he=null!=he?he:De,(0,f.N)((Ne,Ke)=>{let Ae,ce=!0;Ne.subscribe((0,xe._)(Ke,Re=>{const Ue=te(Re);(ce||!he(Ae,Ue))&&(ce=!1,Ae=Ue,Ke.next(Re))}))})}function De(he,te){return he===te}},5964:(Rn,ht,j)=>{"use strict";j.d(ht,{p:()=>xe});var c=j(9974),f=j(4360);function xe(H,De){return(0,c.N)((he,te)=>{let Ne=0;he.subscribe((0,f._)(te,Ke=>H.call(De,Ke,Ne++)&&te.next(Ke)))})}},1594:(Rn,ht,j)=>{"use strict";j.d(ht,{$:()=>te});var c=j(9350),f=j(5964),xe=j(6697),H=j(9901),De=j(3774),he=j(3669);function te(Ne,Ke){const Ae=arguments.length>=2;return ce=>ce.pipe(Ne?(0,f.p)((Re,Ue)=>Ne(Re,Ue,ce)):he.D,(0,xe.s)(1),Ae?(0,H.U)(Ke):(0,De.v)(()=>new c.G))}},6354:(Rn,ht,j)=>{"use strict";j.d(ht,{T:()=>xe});var c=j(9974),f=j(4360);function xe(H,De){return(0,c.N)((he,te)=>{let Ne=0;he.subscribe((0,f._)(te,Ke=>{te.next(H.call(De,Ke,Ne++))}))})}},6365:(Rn,ht,j)=>{"use strict";j.d(ht,{U:()=>xe});var c=j(1397),f=j(3669);function xe(H=1/0){return(0,c.Z)(f.D,H)}},1397:(Rn,ht,j)=>{"use strict";j.d(ht,{Z:()=>Ne});var c=j(6354),f=j(8750),xe=j(9974),H=j(5225),De=j(4360),te=j(8071);function Ne(Ke,Ae,ce=1/0){return(0,te.T)(Ae)?Ne((Re,Ue)=>(0,c.T)((Le,lt)=>Ae(Re,Le,Ue,lt))((0,f.Tg)(Ke(Re,Ue))),ce):("number"==typeof Ae&&(ce=Ae),(0,xe.N)((Re,Ue)=>function he(Ke,Ae,ce,Re,Ue,Le,lt,at){const tt=[];let rt=0,pt=0,ut=!1;const dt=()=>{ut&&!tt.length&&!rt&&Ae.complete()},ge=He=>rt<Re?Ce(He):tt.push(He),Ce=He=>{Le&&Ae.next(He),rt++;let Xe=!1;(0,f.Tg)(ce(He,pt++)).subscribe((0,De._)(Ae,Ct=>{null==Ue||Ue(Ct),Le?ge(Ct):Ae.next(Ct)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(rt--;tt.length&&rt<Re;){const Ct=tt.shift();lt?(0,H.N)(Ae,lt,()=>Ce(Ct)):Ce(Ct)}dt()}catch(Ct){Ae.error(Ct)}}))};return Ke.subscribe((0,De._)(Ae,ge,()=>{ut=!0,dt()})),()=>{null==at||at()}}(Re,Ue,Ke,ce)))}},941:(Rn,ht,j)=>{"use strict";j.d(ht,{Q:()=>H});var c=j(5225),f=j(9974),xe=j(4360);function H(De,he=0){return(0,f.N)((te,Ne)=>{te.subscribe((0,xe._)(Ne,Ke=>(0,c.N)(Ne,De,()=>Ne.next(Ke),he),()=>(0,c.N)(Ne,De,()=>Ne.complete(),he),Ke=>(0,c.N)(Ne,De,()=>Ne.error(Ke),he)))})}},2816:(Rn,ht,j)=>{"use strict";j.d(ht,{S:()=>H});var c=j(9974),f=j(4360);function H(De,he){return(0,c.N)(function xe(De,he,te,Ne,Ke){return(Ae,ce)=>{let Re=te,Ue=he,Le=0;Ae.subscribe((0,f._)(ce,lt=>{const at=Le++;Ue=Re?De(Ue,lt,at):(Re=!0,lt),Ne&&ce.next(Ue)},Ke&&(()=>{Re&&ce.next(Ue),ce.complete()})))}}(De,he,arguments.length>=2,!0))}},9172:(Rn,ht,j)=>{"use strict";j.d(ht,{Z:()=>H});var c=j(8793),f=j(3794),xe=j(9974);function H(...De){const he=(0,f.lI)(De);return(0,xe.N)((te,Ne)=>{(he?(0,c.x)(De,te,he):(0,c.x)(De,te)).subscribe(Ne)})}},6745:(Rn,ht,j)=>{"use strict";j.d(ht,{_:()=>f});var c=j(9974);function f(xe,H=0){return(0,c.N)((De,he)=>{he.add(xe.schedule(()=>De.subscribe(he),H))})}},5558:(Rn,ht,j)=>{"use strict";j.d(ht,{n:()=>H});var c=j(8750),f=j(9974),xe=j(4360);function H(De,he){return(0,f.N)((te,Ne)=>{let Ke=null,Ae=0,ce=!1;const Re=()=>ce&&!Ke&&Ne.complete();te.subscribe((0,xe._)(Ne,Ue=>{null==Ke||Ke.unsubscribe();let Le=0;const lt=Ae++;(0,c.Tg)(De(Ue,lt)).subscribe(Ke=(0,xe._)(Ne,at=>Ne.next(he?he(Ue,at,lt,Le++):at),()=>{Ke=null,Re()}))},()=>{ce=!0,Re()}))})}},6697:(Rn,ht,j)=>{"use strict";j.d(ht,{s:()=>H});var c=j(983),f=j(9974),xe=j(4360);function H(De){return De<=0?()=>c.w:(0,f.N)((he,te)=>{let Ne=0;he.subscribe((0,xe._)(te,Ke=>{++Ne<=De&&(te.next(Ke),De<=Ne&&te.complete())}))})}},8141:(Rn,ht,j)=>{"use strict";j.d(ht,{M:()=>De});var c=j(8071),f=j(9974),xe=j(4360),H=j(3669);function De(he,te,Ne){const Ke=(0,c.T)(he)||te||Ne?{next:he,error:te,complete:Ne}:he;return Ke?(0,f.N)((Ae,ce)=>{var Re;null===(Re=Ke.subscribe)||void 0===Re||Re.call(Ke);let Ue=!0;Ae.subscribe((0,xe._)(ce,Le=>{var lt;null===(lt=Ke.next)||void 0===lt||lt.call(Ke,Le),ce.next(Le)},()=>{var Le;Ue=!1,null===(Le=Ke.complete)||void 0===Le||Le.call(Ke),ce.complete()},Le=>{var lt;Ue=!1,null===(lt=Ke.error)||void 0===lt||lt.call(Ke,Le),ce.error(Le)},()=>{var Le,lt;Ue&&(null===(Le=Ke.unsubscribe)||void 0===Le||Le.call(Ke)),null===(lt=Ke.finalize)||void 0===lt||lt.call(Ke)}))}):H.D}},3774:(Rn,ht,j)=>{"use strict";j.d(ht,{v:()=>H});var c=j(9350),f=j(9974),xe=j(4360);function H(he=De){return(0,f.N)((te,Ne)=>{let Ke=!1;te.subscribe((0,xe._)(Ne,Ae=>{Ke=!0,Ne.next(Ae)},()=>Ke?Ne.complete():Ne.error(he())))})}function De(){return new c.G}},6780:(Rn,ht,j)=>{"use strict";j.d(ht,{R:()=>De});var c=j(8359);class f extends c.yU{constructor(te,Ne){super()}schedule(te,Ne=0){return this}}const xe={setInterval(he,te,...Ne){const{delegate:Ke}=xe;return null!=Ke&&Ke.setInterval?Ke.setInterval(he,te,...Ne):setInterval(he,te,...Ne)},clearInterval(he){const{delegate:te}=xe;return((null==te?void 0:te.clearInterval)||clearInterval)(he)},delegate:void 0};var H=j(7908);class De extends f{constructor(te,Ne){super(te,Ne),this.scheduler=te,this.work=Ne,this.pending=!1}schedule(te,Ne=0){var Ke;if(this.closed)return this;this.state=te;const Ae=this.id,ce=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(ce,Ae,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(ce,this.id,Ne),this}requestAsyncId(te,Ne,Ke=0){return xe.setInterval(te.flush.bind(te,this),Ke)}recycleAsyncId(te,Ne,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return Ne;null!=Ne&&xe.clearInterval(Ne)}execute(te,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(te,Ne);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Ne){let Ae,Ke=!1;try{this.work(te)}catch(ce){Ke=!0,Ae=ce||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),Ae}unsubscribe(){if(!this.closed){const{id:te,scheduler:Ne}=this,{actions:Ke}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(Ke,this),null!=te&&(this.id=this.recycleAsyncId(Ne,te,null)),this.delay=null,super.unsubscribe()}}}},9687:(Rn,ht,j)=>{"use strict";j.d(ht,{q:()=>xe});var c=j(6129);class f{constructor(De,he=f.now){this.schedulerActionCtor=De,this.now=he}schedule(De,he=0,te){return new this.schedulerActionCtor(this,De).schedule(te,he)}}f.now=c.U.now;class xe extends f{constructor(De,he=f.now){super(De,he),this.actions=[],this._active=!1}flush(De){const{actions:he}=this;if(this._active)return void he.push(De);let te;this._active=!0;do{if(te=De.execute(De.state,De.delay))break}while(De=he.shift());if(this._active=!1,te){for(;De=he.shift();)De.unsubscribe();throw te}}}},3236:(Rn,ht,j)=>{"use strict";j.d(ht,{E:()=>xe});var c=j(6780);const xe=new(j(9687).q)(c.R)},6129:(Rn,ht,j)=>{"use strict";j.d(ht,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(Rn,ht,j)=>{"use strict";j.d(ht,{f:()=>c});const c={setTimeout(f,xe,...H){const{delegate:De}=c;return null!=De&&De.setTimeout?De.setTimeout(f,xe,...H):setTimeout(f,xe,...H)},clearTimeout(f){const{delegate:xe}=c;return((null==xe?void 0:xe.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4761:(Rn,ht,j)=>{"use strict";j.d(ht,{l:()=>f});const f=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Rn,ht,j)=>{"use strict";j.d(ht,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Rn,ht,j)=>{"use strict";j.d(ht,{G:()=>f});const f=(0,j(1853).L)(xe=>function(){xe(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Rn,ht,j)=>{"use strict";j.d(ht,{R0:()=>he,ms:()=>H,lI:()=>De});var c=j(8071);function xe(te){return te[te.length-1]}function H(te){return(0,c.T)(xe(te))?te.pop():void 0}function De(te){return function f(te){return te&&(0,c.T)(te.schedule)}(xe(te))?te.pop():void 0}function he(te,Ne){return"number"==typeof xe(te)?te.pop():Ne}},3073:(Rn,ht,j)=>{"use strict";j.d(ht,{D:()=>De});const{isArray:c}=Array,{getPrototypeOf:f,prototype:xe,keys:H}=Object;function De(te){if(1===te.length){const Ne=te[0];if(c(Ne))return{args:Ne,keys:null};if(function he(te){return te&&"object"==typeof te&&f(te)===xe}(Ne)){const Ke=H(Ne);return{args:Ke.map(Ae=>Ne[Ae]),keys:Ke}}}return{args:te,keys:null}}},7908:(Rn,ht,j)=>{"use strict";function c(f,xe){if(f){const H=f.indexOf(xe);0<=H&&f.splice(H,1)}}j.d(ht,{o:()=>c})},1853:(Rn,ht,j)=>{"use strict";function c(f){const H=f(De=>{Error.call(De),De.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}j.d(ht,{L:()=>c})},8496:(Rn,ht,j)=>{"use strict";function c(f,xe){return f.reduce((H,De,he)=>(H[De]=xe[he],H),{})}j.d(ht,{e:()=>c})},9786:(Rn,ht,j)=>{"use strict";j.d(ht,{Y:()=>xe,l:()=>H});var c=j(1026);let f=null;function xe(De){if(c.$.useDeprecatedSynchronousErrorHandling){const he=!f;if(he&&(f={errorThrown:!1,error:null}),De(),he){const{errorThrown:te,error:Ne}=f;if(f=null,te)throw Ne}}else De()}function H(De){c.$.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=De)}},5225:(Rn,ht,j)=>{"use strict";function c(f,xe,H,De=0,he=!1){const te=xe.schedule(function(){H(),he?f.add(this.schedule(null,De)):this.unsubscribe()},De);if(f.add(te),!he)return te}j.d(ht,{N:()=>c})},3669:(Rn,ht,j)=>{"use strict";function c(f){return f}j.d(ht,{D:()=>c})},7441:(Rn,ht,j)=>{"use strict";j.d(ht,{X:()=>c});const c=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(Rn,ht,j)=>{"use strict";j.d(ht,{T:()=>f});var c=j(8071);function f(xe){return Symbol.asyncIterator&&(0,c.T)(null==xe?void 0:xe[Symbol.asyncIterator])}},8071:(Rn,ht,j)=>{"use strict";function c(f){return"function"==typeof f}j.d(ht,{T:()=>c})},5055:(Rn,ht,j)=>{"use strict";j.d(ht,{l:()=>xe});var c=j(3494),f=j(8071);function xe(H){return(0,f.T)(H[c.s])}},5397:(Rn,ht,j)=>{"use strict";j.d(ht,{x:()=>xe});var c=j(4761),f=j(8071);function xe(H){return(0,f.T)(null==H?void 0:H[c.l])}},9858:(Rn,ht,j)=>{"use strict";j.d(ht,{y:()=>f});var c=j(8071);function f(xe){return(0,c.T)(null==xe?void 0:xe.then)}},5196:(Rn,ht,j)=>{"use strict";j.d(ht,{C:()=>xe,U:()=>H});var c=j(1635),f=j(8071);function xe(De){return(0,c.AQ)(this,arguments,function*(){const te=De.getReader();try{for(;;){const{value:Ne,done:Ke}=yield(0,c.N3)(te.read());if(Ke)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Ne)}}finally{te.releaseLock()}})}function H(De){return(0,f.T)(null==De?void 0:De.getReader)}},9974:(Rn,ht,j)=>{"use strict";j.d(ht,{N:()=>xe,S:()=>f});var c=j(8071);function f(H){return(0,c.T)(null==H?void 0:H.lift)}function xe(H){return De=>{if(f(De))return De.lift(function(he){try{return H(he,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Rn,ht,j)=>{"use strict";j.d(ht,{I:()=>H});var c=j(6354);const{isArray:f}=Array;function H(De){return(0,c.T)(he=>function xe(De,he){return f(he)?De(...he):De(he)}(De,he))}},5343:(Rn,ht,j)=>{"use strict";function c(){}j.d(ht,{l:()=>c})},1203:(Rn,ht,j)=>{"use strict";j.d(ht,{F:()=>f,m:()=>xe});var c=j(3669);function f(...H){return xe(H)}function xe(H){return 0===H.length?c.D:1===H.length?H[0]:function(he){return H.reduce((te,Ne)=>Ne(te),he)}}},5334:(Rn,ht,j)=>{"use strict";j.d(ht,{m:()=>xe});var c=j(1026),f=j(9270);function xe(H){f.f.setTimeout(()=>{const{onUnhandledError:De}=c.$;if(!De)throw H;De(H)})}},591:(Rn,ht,j)=>{"use strict";function c(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(ht,{L:()=>c})},8996:(Rn,ht,j)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function f(xe){if(!j.o(c,xe))return Promise.resolve().then(()=>{var he=new Error("Cannot find module '"+xe+"'");throw he.code="MODULE_NOT_FOUND",he});var H=c[xe],De=H[0];return Promise.all(H.slice(1).map(j.e)).then(()=>j(De))}f.keys=()=>Object.keys(c),f.id=8996,Rn.exports=f},177:(Rn,ht,j)=>{"use strict";j.d(ht,{AJ:()=>Qt,MD:()=>qe,N0:()=>ci,QT:()=>xe,Sm:()=>at,T3:()=>ao,VF:()=>De,Vy:()=>rn,Xr:()=>Pn,ZD:()=>H,_b:()=>ct,aZ:()=>rt,bT:()=>vr,fw:()=>tt,hb:()=>Le,hj:()=>Ke,qQ:()=>te});var c=j(4438);let f=null;function xe(){return f}function H(C){var N;null!==(N=f)&&void 0!==N||(f=C)}class De{}const te=new c.nKC("");let Ne=(()=>{var C;class N{historyGo(k){throw new Error("")}}return(C=N).\u0275fac=function(k){return new(k||C)},C.\u0275prov=c.jDH({token:C,factory:()=>(0,c.WQX)(Ae),providedIn:"platform"}),N})();const Ke=new c.nKC("");let Ae=(()=>{var C;class N extends Ne{constructor(){super(),this._doc=(0,c.WQX)(te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xe().getBaseHref(this._doc)}onPopState(k){const ee=xe().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",k,!1),()=>ee.removeEventListener("popstate",k)}onHashChange(k){const ee=xe().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",k,!1),()=>ee.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,ee,be){this._history.pushState(k,ee,be)}replaceState(k,ee,be){this._history.replaceState(k,ee,be)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return(C=N).\u0275fac=function(k){return new(k||C)},C.\u0275prov=c.jDH({token:C,factory:()=>new C,providedIn:"platform"}),N})();function ce(C,N){if(0==C.length)return N;if(0==N.length)return C;let ue=0;return C.endsWith("/")&&ue++,N.startsWith("/")&&ue++,2==ue?C+N.substring(1):1==ue?C+N:C+"/"+N}function Re(C){const N=C.match(/#|\?|$/),ue=N&&N.index||C.length;return C.slice(0,ue-("/"===C[ue-1]?1:0))+C.slice(ue)}function Ue(C){return C&&"?"!==C[0]?"?"+C:C}let Le=(()=>{var C;class N{historyGo(k){throw new Error("")}}return(C=N).\u0275fac=function(k){return new(k||C)},C.\u0275prov=c.jDH({token:C,factory:()=>(0,c.WQX)(at),providedIn:"root"}),N})();const lt=new c.nKC("");let at=(()=>{var C;class N extends Le{constructor(k,ee){var be,Ft,hn;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(be=null!==(Ft=null!=ee?ee:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ft?Ft:null===(hn=(0,c.WQX)(te).location)||void 0===hn?void 0:hn.origin)&&void 0!==be?be:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ce(this._baseHref,k)}path(k=!1){const ee=this._platformLocation.pathname+Ue(this._platformLocation.search),be=this._platformLocation.hash;return be&&k?`${ee}${be}`:ee}pushState(k,ee,be,Ft){const hn=this.prepareExternalUrl(be+Ue(Ft));this._platformLocation.pushState(k,ee,hn)}replaceState(k,ee,be,Ft){const hn=this.prepareExternalUrl(be+Ue(Ft));this._platformLocation.replaceState(k,ee,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var ee,be;null===(ee=(be=this._platformLocation).historyGo)||void 0===ee||ee.call(be,k)}}return(C=N).\u0275fac=function(k){return new(k||C)(c.KVO(Ne),c.KVO(lt,8))},C.\u0275prov=c.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),N})(),tt=(()=>{var C;class N extends Le{constructor(k,ee){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){var ee;const be=null!==(ee=this._platformLocation.hash)&&void 0!==ee?ee:"#";return be.length>0?be.substring(1):be}prepareExternalUrl(k){const ee=ce(this._baseHref,k);return ee.length>0?"#"+ee:ee}pushState(k,ee,be,Ft){let hn=this.prepareExternalUrl(be+Ue(Ft));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.pushState(k,ee,hn)}replaceState(k,ee,be,Ft){let hn=this.prepareExternalUrl(be+Ue(Ft));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.replaceState(k,ee,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var ee,be;null===(ee=(be=this._platformLocation).historyGo)||void 0===ee||ee.call(be,k)}}return(C=N).\u0275fac=function(k){return new(k||C)(c.KVO(Ne),c.KVO(lt,8))},C.\u0275prov=c.jDH({token:C,factory:C.\u0275fac}),N})(),rt=(()=>{var C;class N{constructor(k){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const ee=this._locationStrategy.getBaseHref();this._basePath=function ge(C){if(new RegExp("^(https?:)?//").test(C)){const[,ue]=C.split(/\/\/[^\/]+/);return ue}return C}(Re(dt(ee))),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,ee=""){return this.path()==this.normalize(k+Ue(ee))}normalize(k){return N.stripTrailingSlash(function ut(C,N){if(!C||!N.startsWith(C))return N;const ue=N.substring(C.length);return""===ue||["/",";","?","#"].includes(ue[0])?ue:N}(this._basePath,dt(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,ee="",be=null){this._locationStrategy.pushState(be,"",k,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ue(ee)),be)}replaceState(k,ee="",be=null){this._locationStrategy.replaceState(be,"",k,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ue(ee)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var ee,be;null===(ee=(be=this._locationStrategy).historyGo)||void 0===ee||ee.call(be,k)}onUrlChange(k){var ee;return this._urlChangeListeners.push(k),null!==(ee=this._urlChangeSubscription)&&void 0!==ee||(this._urlChangeSubscription=this.subscribe(be=>{this._notifyUrlChangeListeners(be.url,be.state)})),()=>{const be=this._urlChangeListeners.indexOf(k);var Ft;this._urlChangeListeners.splice(be,1),0===this._urlChangeListeners.length&&(null===(Ft=this._urlChangeSubscription)||void 0===Ft||Ft.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",ee){this._urlChangeListeners.forEach(be=>be(k,ee))}subscribe(k,ee,be){return this._subject.subscribe({next:k,error:ee,complete:be})}}return(C=N).normalizeQueryParams=Ue,C.joinWithSlash=ce,C.stripTrailingSlash=Re,C.\u0275fac=function(k){return new(k||C)(c.KVO(Le))},C.\u0275prov=c.jDH({token:C,factory:()=>function pt(){return new rt((0,c.KVO)(Le))}(),providedIn:"root"}),N})();function dt(C){return C.replace(/\/index.html$/,"")}function ct(C,N){N=encodeURIComponent(N);for(const ue of C.split(";")){const k=ue.indexOf("="),[ee,be]=-1==k?[ue,""]:[ue.slice(0,k),ue.slice(k+1)];if(ee.trim()===N)return decodeURIComponent(be)}return null}let vr=(()=>{var C;class N{constructor(k,ee){this._viewContainer=k,this._context=new ds,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Qr("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Qr("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,ee){return!0}}return(C=N).\u0275fac=function(k){return new(k||C)(c.rXU(c.c1b),c.rXU(c.C4Q))},C.\u0275dir=c.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class ds{constructor(){this.$implicit=null,this.ngIf=null}}function Qr(C,N){if(N&&!N.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,c.Tbb)(N)}'.`)}let ao=(()=>{var C;class N{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(this._shouldRecreateView(k)){var ee;const be=this._viewContainerRef;if(this._viewRef&&be.remove(be.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ft=this._createContextForwardProxy();this._viewRef=be.createEmbeddedView(this.ngTemplateOutlet,Ft,{injector:null!==(ee=this.ngTemplateOutletInjector)&&void 0!==ee?ee:void 0})}}_shouldRecreateView(k){return!!k.ngTemplateOutlet||!!k.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(k,ee,be)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ee,be),get:(k,ee,be)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ee,be)}})}}return(C=N).\u0275fac=function(k){return new(k||C)(c.rXU(c.c1b))},C.\u0275dir=c.FsC({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),N})(),qe=(()=>{var C;class N{}return(C=N).\u0275fac=function(k){return new(k||C)},C.\u0275mod=c.$C({type:C}),C.\u0275inj=c.G2t({}),N})();const Qt="browser",_t="server";function rn(C){return C===_t}let Pn=(()=>{var C;class N{}return(C=N).\u0275prov=(0,c.jDH)({token:C,providedIn:"root",factory:()=>function qt(C){return C===Qt}((0,c.WQX)(c.Agw))?new qn((0,c.WQX)(te),window):new Zr}),N})();class qn{constructor(N,ue){this.document=N,this.window=ue,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(N){this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){const ue=function Wn(C,N){const ue=C.getElementById(N)||C.getElementsByName(N)[0];if(ue)return ue;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let ee=k.currentNode;for(;ee;){const be=ee.shadowRoot;if(be){const Ft=be.getElementById(N)||be.querySelector(`[name="${N}"]`);if(Ft)return Ft}ee=k.nextNode()}}return null}(this.document,N);ue&&(this.scrollToElement(ue),ue.focus())}setHistoryScrollRestoration(N){this.window.history.scrollRestoration=N}scrollToElement(N){const ue=N.getBoundingClientRect(),k=ue.left+this.window.pageXOffset,ee=ue.top+this.window.pageYOffset,be=this.offset();this.window.scrollTo(k-be[0],ee-be[1])}}class Zr{setOffset(N){}getScrollPosition(){return[0,0]}scrollToPosition(N){}scrollToAnchor(N){}setHistoryScrollRestoration(N){}}class ci{}},4438:(Rn,ht,j)=>{"use strict";function c(e,n){return Object.is(e,n)}j.d(ht,{iLQ:()=>k0,sZ2:()=>Ud,hnV:()=>hD,Hbi:()=>Ex,o8S:()=>Ic,BIS:()=>Mm,gRc:()=>SD,Ql9:()=>zP,Ocv:()=>YP,Z63:()=>Br,aKT:()=>yu,uvJ:()=>bs,zcH:()=>Da,bkB:()=>ba,$GK:()=>xr,nKC:()=>Ln,zZn:()=>vs,_q3:()=>VA,MKu:()=>UA,xe9:()=>xA,Co$:()=>_C,Vns:()=>Zf,SKi:()=>T,Xx1:()=>ci,Agw:()=>Fp,PLl:()=>kp,sFG:()=>jv,_9s:()=>Pu,czy:()=>lc,kdw:()=>ri,C4Q:()=>Cf,NYb:()=>LP,giA:()=>cD,xvI:()=>dP,RxE:()=>rD,c1b:()=>Cg,gXe:()=>Oi,mal:()=>v0,L39:()=>Zx,EWP:()=>eN,a0P:()=>aN,Ol2:()=>OE,w6W:()=>Cw,oH4:()=>TD,Rfq:()=>Qe,WQX:()=>_t,naY:()=>sx,QuC:()=>Yo,fpN:()=>Ix,HJs:()=>lN,N4e:()=>U,vPA:()=>Zv,O8t:()=>tN,H3F:()=>iD,H8p:()=>Oa,KH2:()=>Yg,TgB:()=>El,wOt:()=>ft,WHO:()=>lD,e01:()=>uD,H5H:()=>sA,mq5:()=>CT,JZv:()=>pr,LfX:()=>Sn,plB:()=>xu,jNT:()=>SA,zjR:()=>dD,TL$:()=>Rm,Tbb:()=>Yr,Vt3:()=>ME,GFd:()=>vC,OA$:()=>ks,Jv_:()=>Nb,aNF:()=>Ob,R7$:()=>sg,BMQ:()=>KE,AVh:()=>JE,wni:()=>sb,VBU:()=>$r,FsC:()=>Oo,jDH:()=>Pr,G2t:()=>it,$C:()=>io,EJ8:()=>is,rXU:()=>oh,nrm:()=>iA,eu8:()=>oA,bVm:()=>D0,qex:()=>b0,k0s:()=>T0,j41:()=>C0,RV6:()=>IT,xGo:()=>Lh,KVO:()=>qe,kS0:()=>pu,QTQ:()=>_y,bIt:()=>uA,lsd:()=>ub,XpG:()=>qT,SdG:()=>QT,NAR:()=>XT,Y8G:()=>YE,mGM:()=>lb,Njj:()=>zu,eBV:()=>Sc,n$t:()=>ny,DNE:()=>FE,EFF:()=>yb,JRh:()=>fA,DH7:()=>Rb,mxI:()=>mA,R50:()=>gA,GBs:()=>ab});let f=null,xe=!1,H=1;const De=Symbol("SIGNAL");function he(e){const n=f;return f=e,n}const Ae={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ce(e){if(xe)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const n=f.nextProducerIndex++;He(f),n<f.producerNode.length&&f.producerNode[n]!==e&&Ce(f)&&ge(f.producerNode[n],f.producerIndexOfThis[n]),f.producerNode[n]!==e&&(f.producerNode[n]=e,f.producerIndexOfThis[n]=Ce(f)?dt(e,f,n):0),f.producerLastReadVersion[n]=e.version}function Ue(e){if((!Ce(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==H)){if(!e.producerMustRecompute(e)&&!pt(e))return e.dirty=!1,void(e.lastCleanEpoch=H);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=H}}function Le(e){if(void 0===e.liveConsumerNode)return;const n=xe;xe=!0;try{for(const i of e.liveConsumerNode)i.dirty||at(i)}finally{xe=n}}function lt(){var e;return!1!==(null===(e=f)||void 0===e?void 0:e.consumerAllowSignalWrites)}function at(e){var n;e.dirty=!0,Le(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function tt(e){return e&&(e.nextProducerIndex=0),he(e)}function rt(e,n){if(he(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ce(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)ge(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function pt(e){He(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==i.version||(Ue(i),o!==i.version))return!0}return!1}function ut(e){if(He(e),Ce(e))for(let n=0;n<e.producerNode.length;n++)ge(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function dt(e,n,i){if(Xe(e),0===e.liveConsumerNode.length&&Ct(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=dt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function ge(e,n){if(Xe(e),1===e.liveConsumerNode.length&&Ct(e))for(let o=0;o<e.producerNode.length;o++)ge(e.producerNode[o],e.producerIndexOfThis[o]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];He(a),a.producerIndexOfThis[o]=n}}function Ce(e){var n,i;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(i=e.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function He(e){var n,i,o;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(i=e.producerIndexOfThis)&&void 0!==i||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function Xe(e){var n,i;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(i=e.liveConsumerIndexOfThis)&&void 0!==i||(e.liveConsumerIndexOfThis=[])}function Ct(e){return void 0!==e.producerNode}const Se=Symbol("UNSET"),Wt=Symbol("COMPUTING"),Xt=Symbol("ERRORED"),wn={...Ae,value:Se,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===Se||e.value===Wt,producerRecomputeValue(e){if(e.value===Wt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Wt;const i=tt(e);let o;try{o=e.computation()}catch(a){o=Xt,e.error=a}finally{rt(e,i)}n!==Se&&n!==Xt&&o!==Xt&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let Un=function un(){throw new Error};function Ut(){Un()}let ye=null;function ze(e,n){lt()||Ut(),e.equal(e.value,n)||(e.value=n,function _n(e){var n;e.version++,function Re(){H++}(),Le(e),null===(n=ye)||void 0===n||n()}(e))}const mt={...Ae,equal:c,value:void 0};var nr,Gt,Mr=j(4412),Fr=j(1413),Gn=j(8359),dr=j(6354);const zt="https://g.co/ng/security#xss";class ft extends Error{constructor(n,i){super(function hr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,i)),this.code=n}}function lr(e){return{toString:e}.toString()}const wr="__parameters__";function sr(e,n,i){return lr(()=>{const o=function ir(e){return function(...i){if(e){const o=e(...i);for(const a in o)this[a]=o[a]}}}(n);function a(...d){if(this instanceof a)return o.apply(this,d),this;const m=new a(...d);return A.annotation=m,A;function A(D,V,Q){const ne=D.hasOwnProperty(wr)?D[wr]:Object.defineProperty(D,wr,{value:[]})[wr];for(;ne.length<=Q;)ne.push(null);return(ne[Q]=ne[Q]||[]).push(m),D}}return i&&(a.prototype=Object.create(i.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const pr=globalThis;function ur(e){for(let n in e)if(e[n]===ur)return n;throw Error("Could not find renamed property on target object.")}function Pi(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function Yr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Yr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Rt(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const kt=ur({__forward_ref__:ur});function Qe(e){return e.__forward_ref__=Qe,e.toString=function(){return Yr(this())},e}function Je(e){return sn(e)?e():e}function sn(e){return"function"==typeof e&&e.hasOwnProperty(kt)&&e.__forward_ref__===Qe}function Pr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function it(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ht(e){return ct(e,Xn)||ct(e,Xr)}function Sn(e){return null!==Ht(e)}function ct(e,n){return e.hasOwnProperty(n)?e[n]:null}function bn(e){return e&&(e.hasOwnProperty(En)||e.hasOwnProperty(Ir))?e[En]:null}const Xn=ur({\u0275prov:ur}),En=ur({\u0275inj:ur}),Xr=ur({ngInjectableDef:ur}),Ir=ur({ngInjectorDef:ur});class Ln{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Pr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qi(e){return e&&!!e.\u0275providers}const go=ur({\u0275cmp:ur}),Do=ur({\u0275dir:ur}),ns=ur({\u0275pipe:ur}),ao=ur({\u0275mod:ur}),yi=ur({\u0275fac:ur}),xi=ur({__NG_ELEMENT_ID__:ur}),As=ur({__NG_ENV_ID__:ur});function $t(e){return"string"==typeof e?e:null==e?"":String(e)}function Cs(e,n){throw new ft(-201,!1)}var xr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xr||{});let mo;function Ts(){return mo}function bi(e){const n=mo;return mo=e,n}function hs(e,n,i){const o=Ht(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&xr.Optional?null:void 0!==n?n:void Cs()}const Nr={},li="__NG_DI_FLAG__",yn="ngTempTokenPath",fs=/\n/gm,K="__source";let oe;function Oe(e){const n=oe;return oe=e,n}function et(e,n=xr.Default){if(void 0===oe)throw new ft(-203,!1);return null===oe?hs(e,void 0,n):oe.get(e,n&xr.Optional?null:void 0,n)}function qe(e,n=xr.Default){return(Ts()||et)(Je(e),n)}function _t(e,n=xr.Default){return qe(e,qt(n))}function qt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function rn(e){const n=[];for(let i=0;i<e.length;i++){const o=Je(e[i]);if(Array.isArray(o)){if(0===o.length)throw new ft(900,!1);let a,d=xr.Default;for(let m=0;m<o.length;m++){const A=o[m],D=Pn(A);"number"==typeof D?-1===D?a=A.token:d|=D:a=A}n.push(qe(a,d))}else n.push(qe(o))}return n}function An(e,n){return e[li]=n,e.prototype[li]=n,e}function Pn(e){return e[li]}const ci=An(sr("Optional"),8),ri=An(sr("SkipSelf"),4);function lo(e,n){return e.hasOwnProperty(yi)?e[yi]:null}function No(e,n){e.forEach(i=>Array.isArray(i)?No(i,n):n(i))}function uo(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Xo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ui(e,n,i){let o=Qo(e,n);return o>=0?e[1|o]=i:(o=~o,function ps(e,n,i,o){let a=e.length;if(a==n)e.push(i,o);else if(1===a)e.push(o,e[0]),e[0]=i;else{for(a--,e.push(e[a-1],e[a]);a>n;)e[a]=e[a-2],a--;e[n]=i,e[n+1]=o}}(e,o,n,i)),o}function ro(e,n){const i=Qo(e,n);if(i>=0)return e[1|i]}function Qo(e,n){return function di(e,n,i){let o=0,a=e.length>>i;for(;a!==o;){const d=o+(a-o>>1),m=e[d<<i];if(n===m)return d<<i;m>n?a=d:o=d+1}return~(a<<i)}(e,n,1)}const Yi={},ar=[],Br=new Ln(""),_o=new Ln("",-1),yo=new Ln("");class Hi{get(n,i=Nr){if(i===Nr){const o=new Error(`NullInjectorError: No provider for ${Yr(n)}!`);throw o.name="NullInjectorError",o}return i}}var rs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(rs||{}),Oi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Oi||{}),Jr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Jr||{});function Pl(e,n,i){let o=e.length;for(;;){const a=e.indexOf(n,i);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=n.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}i=a+1}}function Mo(e,n,i){let o=0;for(;o<i.length;){const a=i[o];if("number"==typeof a){if(0!==a)break;o++;const d=i[o++],m=i[o++],A=i[o++];e.setAttribute(n,m,A,d)}else{const d=a,m=i[++o];q(d)?e.setProperty(n,d,m):e.setAttribute(n,d,m),o++}}return o}function Ai(e){return 3===e||4===e||6===e}function q(e){return 64===e.charCodeAt(0)}function W(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?i=a:0===i||fe(e,i,a,null,-1===i||2===i?n[++o]:null)}}return e}function fe(e,n,i,o,a){let d=0,m=e.length;if(-1===n)m=-1;else for(;d<e.length;){const A=e[d++];if("number"==typeof A){if(A===n){m=-1;break}if(A>n){m=d-1;break}}}for(;d<e.length;){const A=e[d];if("number"==typeof A)break;if(A===i){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==m&&(e.splice(m,0,n),d=m+1),e.splice(d++,0,i),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const Me="ng-template";function je(e,n,i,o){let a=0;if(o){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==Pl(n[a+1].toLowerCase(),i,0))return!0}else if(bt(e))return!1;if(a=n.indexOf(1,a),a>-1){let d;for(;++a<n.length&&"string"==typeof(d=n[a]);)if(d.toLowerCase()===i)return!0}return!1}function bt(e){return 4===e.type&&e.value!==Me}function dn(e,n,i){return n===(4!==e.type||i?e.value:Me)}function $n(e,n,i){let o=4;const a=e.attrs,d=null!==a?function P(e){for(let n=0;n<e.length;n++)if(Ai(e[n]))return n;return e.length}(a):0;let m=!1;for(let A=0;A<n.length;A++){const D=n[A];if("number"!=typeof D){if(!m)if(4&o){if(o=2|1&o,""!==D&&!dn(e,D,i)||""===D&&1===n.length){if(Mn(o))return!1;m=!0}}else if(8&o){if(null===a||!je(e,a,D,i)){if(Mn(o))return!1;m=!0}}else{const V=n[++A],Q=Qn(D,a,bt(e),i);if(-1===Q){if(Mn(o))return!1;m=!0;continue}if(""!==V){let ne;if(ne=Q>d?"":a[Q+1].toLowerCase(),2&o&&V!==ne){if(Mn(o))return!1;m=!0}}}}else{if(!m&&!Mn(o)&&!Mn(D))return!1;if(m&&Mn(D))continue;m=!1,o=D|1&o}}return Mn(o)||m}function Mn(e){return!(1&e)}function Qn(e,n,i,o){if(null===n)return-1;let a=0;if(o||!i){let d=!1;for(;a<n.length;){const m=n[a];if(m===e)return a;if(3===m||6===m)d=!0;else{if(1===m||2===m){let A=n[++a];for(;"string"==typeof A;)A=n[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=d?1:2}return-1}return function Z(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,e)}function br(e,n,i=!1){for(let o=0;o<n.length;o++)if($n(e,n[o],i))return!0;return!1}function B(e,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function de(e,n){return e?":not("+n.trim()+")":n}function Kt(e){let n=e[0],i=1,o=2,a="",d=!1;for(;i<e.length;){let m=e[i];if("string"==typeof m)if(2&o){const A=e[++i];a+="["+m+(A.length>0?'="'+A+'"':"")+"]"}else 8&o?a+="."+m:4&o&&(a+=" "+m);else""!==a&&!Mn(m)&&(n+=de(d,a),a=""),o=m,d=d||!Mn(o);i++}return""!==a&&(n+=de(d,a)),n}function $r(e){return lr(()=>{var n;const i=Ji(e),o={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Oi.Emulated,styles:e.styles||ar,_:null,schemas:e.schemas||null,tView:null,id:""};Ha(o);const a=e.dependencies;return o.directiveDefs=hi(a,!1),o.pipeDefs=hi(a,!0),o.id=function na(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of i)n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function ii(e){return jr(e)||Zi(e)}function Io(e){return null!==e}function io(e){return lr(()=>({type:e.type,bootstrap:e.bootstrap||ar,declarations:e.declarations||ar,imports:e.imports||ar,exports:e.exports||ar,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function jo(e,n){if(null==e)return Yi;const i={};for(const a in e)if(e.hasOwnProperty(a)){const d=e[a];let m,A,D=Jr.None;var o;Array.isArray(d)?(D=d[0],m=d[1],A=null!==(o=d[2])&&void 0!==o?o:m):(m=d,A=d),n?(i[m]=D!==Jr.None?[a,D]:a,n[m]=A):i[m]=a}return i}function Oo(e){return lr(()=>{const n=Ji(e);return Ha(n),n})}function is(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function jr(e){return e[go]||null}function Zi(e){return e[Do]||null}function co(e){return e[ns]||null}function Yo(e){const n=jr(e)||Zi(e)||co(e);return null!==n&&n.standalone}function Eo(e,n){const i=e[ao]||null;if(!i&&!0===n)throw new Error(`Type ${Yr(e)} does not have '\u0275mod' property.`);return i}function Ji(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Yi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ar,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jo(e.inputs,n),outputs:jo(e.outputs),debugInfo:null}}function Ha(e){var n;null===(n=e.features)||void 0===n||n.forEach(i=>i(e))}function hi(e,n){if(!e)return null;const i=n?co:ii;return()=>("function"==typeof e?e():e).map(o=>i(o)).filter(Io)}function fa(...e){return{\u0275providers:xl(0,e),\u0275fromNgModule:!0}}function xl(e,...n){const i=[],o=new Set;let a;const d=m=>{i.push(m)};return No(n,m=>{const A=m;ni(A,d,[],o)&&(a||(a=[]),a.push(A))}),void 0!==a&&Pa(a,d),i}function Pa(e,n){for(let i=0;i<e.length;i++){const{ngModule:o,providers:a}=e[i];gs(a,d=>{n(d,o)})}}function ni(e,n,i,o){if(!(e=Je(e)))return!1;let a=null,d=bn(e);const m=!d&&jr(e);if(d||m){if(m&&!m.standalone)return!1;a=e}else{const D=e.ngModule;if(d=bn(D),!d)return!1;a=D}const A=o.has(a);if(m){if(A)return!1;if(o.add(a),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const V of D)ni(V,n,i,o)}}else{if(!d)return!1;{if(null!=d.imports&&!A){let V;o.add(a);try{No(d.imports,Q=>{ni(Q,n,i,o)&&(V||(V=[]),V.push(Q))})}finally{}void 0!==V&&Pa(V,n)}if(!A){const V=lo(a)||(()=>new a);n({provide:a,useFactory:V,deps:ar},a),n({provide:yo,useValue:a,multi:!0},a),n({provide:Br,useValue:()=>qe(a),multi:!0},a)}const D=d.providers;if(null!=D&&!A){const V=e;gs(D,Q=>{n(Q,V)})}}}return a!==e&&void 0!==e.providers}function gs(e,n){for(let i of e)Qi(i)&&(i=i.\u0275providers),Array.isArray(i)?gs(i,n):n(i)}const Nl=ur({provide:String,useValue:ur});function ra(e){return null!==e&&"object"==typeof e&&Nl in e}function js(e){return"function"==typeof e}const Oa=new Ln(""),kl={},eu={};let ll;function ia(){return void 0===ll&&(ll=new Hi),ll}class bs{}class Zo extends bs{get destroyed(){return this._destroyed}constructor(n,i,o,a){super(),this.parent=i,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y(n,m=>this.processProvider(m)),this.records.set(_o,ss(void 0,this)),a.has("environment")&&this.records.set(bs,ss(void 0,this));const d=this.records.get(Oa);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(yo,ar,xr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=he(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Oe(this),o=bi(void 0);try{return n()}finally{Oe(i),bi(o)}}get(n,i=Nr,o=xr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(As))return n[As](this);o=qt(o);const d=Oe(this),m=bi(void 0);try{if(!(o&xr.SkipSelf)){let D=this.records.get(n);if(void 0===D){const V=function $(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ln}(n)&&Ht(n);D=V&&this.injectableDefInScope(V)?ss(Fl(n),kl):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(o&xr.Self?ia():this.parent).get(n,i=o&xr.Optional&&i===Nr?null:i)}catch(A){if("NullInjectorError"===A.name){if((A[yn]=A[yn]||[]).unshift(Yr(n)),d)throw A;return function qn(e,n,i,o){const a=e[yn];throw n[K]&&a.unshift(n[K]),e.message=function Wn(e,n,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Yr(n);if(Array.isArray(n))a=n.map(Yr).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let A=n[m];d.push(m+":"+("string"==typeof A?JSON.stringify(A):Yr(A)))}a=`{${d.join(", ")}}`}return`${i}${o?"("+o+")":""}[${a}]: ${e.replace(fs,"\n  ")}`}("\n"+e.message,a,i,o),e.ngTokenPath=a,e[yn]=null,e}(A,n,"R3InjectorError",this.source)}throw A}finally{bi(m),Oe(d)}}resolveInjectorInitializers(){const n=he(null),i=Oe(this),o=bi(void 0);try{const d=this.get(Br,ar,xr.Self);for(const m of d)m()}finally{Oe(i),bi(o),he(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(Yr(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processProvider(n){let i=js(n=Je(n))?n:Je(n&&n.provide);const o=function Wa(e){return ra(e)?ss(void 0,e.useValue):ss(Ka(e),kl)}(n);if(!js(n)&&!0===n.multi){let a=this.records.get(i);a||(a=ss(void 0,kl,!0),a.factory=()=>rn(a.multi),this.records.set(i,a)),i=n,a.multi.push(n)}this.records.set(i,o)}hydrate(n,i){const o=he(null);try{return i.value===kl&&(i.value=eu,i.value=i.factory()),"object"==typeof i.value&&i.value&&function M(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{he(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Je(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Fl(e){const n=Ht(e),i=null!==n?n.factory:lo(e);if(null!==i)return i;if(e instanceof Ln)throw new ft(204,!1);if(e instanceof Function)return function Ga(e){if(e.length>0)throw new ft(204,!1);const i=function Yt(e){return e&&(e[Xn]||e[Xr])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new ft(204,!1)}function Ka(e,n,i){let o;if(js(e)){const a=Je(e);return lo(a)||Fl(a)}if(ra(e))o=()=>Je(e.useValue);else if(function Na(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...rn(e.deps||[]));else if(function xa(e){return!(!e||!e.useExisting)}(e))o=()=>qe(Je(e.useExisting));else{const a=Je(e&&(e.useClass||e.provide));if(!function E(e){return!!e.deps}(e))return lo(a)||Fl(a);o=()=>new a(...rn(e.deps))}return o}function ss(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function y(e,n){for(const i of e)Array.isArray(i)?y(i,n):i&&Qi(i)?y(i.\u0275providers,n):n(i)}function U(e,n){e instanceof Zo&&e.assertNotDestroyed();const o=Oe(e),a=bi(void 0);try{return n()}finally{Oe(o),bi(a)}}function ie(){return void 0!==Ts()||null!=function we(){return oe}()}const oi=0,gn=1,Jn=2,vi=3,So=4,Fi=5,ko=6,Fo=7,Li=8,Bi=9,oa=10,Sr=11,Lr=12,sa=13,qa=14,oo=15,pa=16,tu=17,Ro=18,ul=19,Lu=20,xs=21,ga=22,Ei=23,or=25,aa=1,as=7,cl=9,Ki=10;var Ec=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ec||{});function ho(e){return Array.isArray(e)&&"object"==typeof e[aa]}function ui(e){return Array.isArray(e)&&!0===e[aa]}function ma(e){return!!(4&e.flags)}function Ns(e){return e.componentOffset>-1}function ru(e){return!(1&~e.flags)}function Os(e){return!!e.template}function va(e){return!!(512&e[Jn])}class Ho{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function zo(e,n,i,o){null!==n?n.applyValueToInputSignal(n,o):e[i]=o}function ks(){return ls}function ls(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bu),dl}function dl(){const e=ld(this),n=null==e?void 0:e.current;if(n){const i=e.previous;if(i===Yi)e.previous=n;else for(let o in n)i[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Bu(e,n,i,o,a){const d=this.declaredInputs[o],m=ld(e)||function fl(e,n){return e[hl]=n}(e,{previous:Yi,current:null}),A=m.current||(m.current={}),D=m.previous,V=D[d];A[d]=new Ho(V&&V.currentValue,i,D===Yi),zo(e,n,a,i)}ks.ngInherit=!0;const hl="__ngSimpleChanges__";function ld(e){return e[hl]||null}const Xa=function(e,n,i){};function pi(e){for(;Array.isArray(e);)e=e[oi];return e}function ju(e,n){return pi(n[e])}function Fs(e,n){return pi(n[e.index])}function pl(e,n){return e.data[n]}function Hs(e,n){const i=n[e];return ho(i)?i:i[oi]}function zs(e){return!(128&~e[Jn])}function Ls(e,n){return null==n?null:e[n]}function cd(e){e[tu]=0}function bc(e){1024&e[Jn]||(e[Jn]|=1024,zs(e)&&dd(e))}function wc(e){var n;return!!(9216&e[Jn]||null!==(n=e[Ei])&&void 0!==n&&n.dirty)}function ou(e){var n;null===(n=e[oa].changeDetectionScheduler)||void 0===n||n.notify(8),64&e[Jn]&&(e[Jn]|=1024),wc(e)&&dd(e)}function dd(e){var n;null===(n=e[oa].changeDetectionScheduler)||void 0===n||n.notify(0);let i=Fa(e);for(;null!==i&&!(8192&i[Jn])&&(i[Jn]|=8192,zs(i));)i=Fa(i)}function Ll(e,n){if(!(256&~e[Jn]))throw new ft(911,!1);null===e[xs]&&(e[xs]=[]),e[xs].push(n)}function Fa(e){const n=e[vi];return ui(n)?n[vi]:n}const kr={lFrame:md(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let hd=!1;function ap(){return kr.bindingsEnabled}function Gs(){return null!==kr.skipHydrationRootTNode}function en(){return kr.lFrame.lView}function si(){return kr.lFrame.tView}function Sc(e){return kr.lFrame.contextLView=e,e[Li]}function zu(e){return kr.lFrame.contextLView=null,e}function Ci(){let e=Ul();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ul(){return kr.lFrame.currentTNode}function Ds(e,n){const i=kr.lFrame;i.currentTNode=e,i.isParent=n}function Rc(){return kr.lFrame.isParent}function Mc(){kr.lFrame.isParent=!1}function Dh(){return hd}function xc(e){hd=e}function ms(){return kr.lFrame.bindingIndex++}function om(e,n){const i=kr.lFrame;i.bindingIndex=i.bindingRootIndex=e,lu(n)}function lu(e){kr.lFrame.currentDirectiveIndex=e}function Za(){return kr.lFrame.currentQueryIndex}function Nc(e){kr.lFrame.currentQueryIndex=e}function pd(e){const n=e[gn];return 2===n.type?n.declTNode:1===n.type?e[Fi]:null}function Sh(e,n,i){if(i&xr.SkipSelf){let a=n,d=e;for(;!(a=a.parent,null!==a||i&xr.Host||(a=pd(d),null===a||(d=d[qa],10&a.type))););if(null===a)return!1;n=a,e=d}const o=kr.lFrame=gd();return o.currentTNode=n,o.lView=e,!0}function Rh(e){const n=gd(),i=e[gn];kr.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function gd(){const e=kr.lFrame,n=null===e?null:e.child;return null===n?md(e):n}function md(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Mh(){const e=kr.lFrame;return kr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Oc=Mh;function kc(){const e=Mh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Go(){return kr.lFrame.selectedIndex}function uu(e){kr.lFrame.selectedIndex=e}function qi(){const e=kr.lFrame;return pl(e.tView,e.selectedIndex)}let $l=!0;function cu(){return $l}function ua(e){$l=e}function vd(e,n){for(let V=n.directiveStart,Q=n.directiveEnd;V<Q;V++){const Pe=e.data[V].type.prototype,{ngAfterContentInit:Be,ngAfterContentChecked:ke,ngAfterViewInit:jt,ngAfterViewChecked:fn,ngOnDestroy:Dn}=Pe;var i,o,a,d,m,A,D;Be&&(null!==(i=e.contentHooks)&&void 0!==i?i:e.contentHooks=[]).push(-V,Be),ke&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(V,ke),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(V,ke)),jt&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-V,jt),fn&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(V,fn),(null!==(A=e.viewCheckHooks)&&void 0!==A?A:e.viewCheckHooks=[]).push(V,fn)),null!=Dn&&(null!==(D=e.destroyHooks)&&void 0!==D?D:e.destroyHooks=[]).push(V,Dn)}}function vl(e,n,i){Ja(e,n,3,i)}function jl(e,n,i,o){(3&e[Jn])===i&&Ja(e,n,i,o)}function du(e,n){let i=e[Jn];(3&i)===n&&(i&=16383,i+=1,e[Jn]=i)}function Ja(e,n,i,o){const d=null!=o?o:-1,m=n.length-1;let A=0;for(let D=void 0!==o?65535&e[tu]:0;D<m;D++)if("number"==typeof n[D+1]){if(A=n[D],null!=o&&A>=o)break}else n[D]<0&&(e[tu]+=65536),(A<d||-1==d)&&(pp(e,i,n,D),e[tu]=(4294901760&e[tu])+D+2),D++}function Hl(e,n){Xa(4,e,n);const i=he(null);try{n.call(e)}finally{he(i),Xa(5,e,n)}}function pp(e,n,i,o){const a=i[o]<0,d=i[o+1],A=e[a?-i[o]:i[o]];a?e[Jn]>>14<e[tu]>>16&&(3&e[Jn])===n&&(e[Jn]+=16384,Hl(A,d)):Hl(A,d)}const Aa=-1;class Fc{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}const xh={};class Ca{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=qt(o);const a=this.injector.get(n,xh,o);return a!==xh||i===xh?a:this.parentInjector.get(n,i,o)}}function yd(e){return e!==Aa}function hu(e){return 32767&e}function Lc(e,n){let i=function vp(e){return e>>16}(e),o=n;for(;i>0;)o=o[qa],i--;return o}let _l=!0;function zl(e){const n=_l;return _l=e,n}const Oh=255,_p=5;let yp=0;const tl={};function Vc(e,n){const i=Jo(e,n);if(-1!==i)return i;const o=n[gn];o.firstCreatePass&&(e.injectorIndex=n.length,fu(o.data,e),fu(n,null),fu(o.blueprint,null));const a=Ed(e,n),d=e.injectorIndex;if(yd(a)){const m=hu(a),A=Lc(a,n),D=A[gn].data;for(let V=0;V<8;V++)n[d+V]=A[m+V]|D[m+V]}return n[d+8]=a,d}function fu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Jo(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ed(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,a=n;for(;null!==a;){if(o=Uh(a),null===o)return Aa;if(i++,a=a[qa],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Aa}function Uc(e,n,i){!function lm(e,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(xi)&&(o=i[xi]),null==o&&(o=i[xi]=yp++);const a=o&Oh;n.data[e+(a>>_p)]|=1<<a}(e,n,i)}function Ip(e,n,i){if(i&xr.Optional||void 0!==e)return e;Cs()}function Ad(e,n,i,o){if(i&xr.Optional&&void 0===o&&(o=null),!(i&(xr.Self|xr.Host))){const a=e[Bi],d=bi(void 0);try{return a?a.get(n,o,i&xr.Optional):hs(n,o,i&xr.Optional)}finally{bi(d)}}return Ip(o,0,i)}function Bc(e,n,i,o=xr.Default,a){if(null!==e){if(2048&n[Jn]&&!(o&xr.Self)){const m=function Ap(e,n,i,o,a){let d=e,m=n;for(;null!==d&&null!==m&&2048&m[Jn]&&!(512&m[Jn]);){const A=$c(d,m,i,o|xr.Self,tl);if(A!==tl)return A;let D=d.parent;if(!D){const V=m[Lu];if(V){const Q=V.get(i,tl,o);if(Q!==tl)return Q}D=Uh(m),m=m[qa]}d=D}return a}(e,n,i,o,tl);if(m!==tl)return m}const d=$c(e,n,i,o,tl);if(d!==tl)return d}return Ad(n,i,o,a)}function $c(e,n,i,o,a){const d=function Fh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(xi)?e[xi]:void 0;return"number"==typeof n?n>=0?n&Oh:Ep:n}(i);if("function"==typeof d){if(!Sh(n,e,o))return o&xr.Host?Ip(a,0,o):Ad(n,i,o,a);try{let m;if(m=d(o),null!=m||o&xr.Optional)return m;Cs()}finally{Oc()}}else if("number"==typeof d){let m=null,A=Jo(e,n),D=Aa,V=o&xr.Host?n[oo][Fi]:null;for((-1===A||o&xr.SkipSelf)&&(D=-1===A?Ed(e,n):n[A+8],D!==Aa&&Xu(o,!1)?(m=n[gn],A=hu(D),n=Lc(D,n)):A=-1);-1!==A;){const Q=n[gn];if(bd(d,A,Q.data)){const ne=Cd(A,n,i,m,o,V);if(ne!==tl)return ne}D=n[A+8],D!==Aa&&Xu(o,n[gn].data[A+8]===V)&&bd(d,A,n)?(m=Q,A=hu(D),n=Lc(D,n)):A=-1}}return a}function Cd(e,n,i,o,a,d){const m=n[gn],A=m.data[e+8],Q=Td(A,m,i,null==o?Ns(A)&&_l:o!=m&&!!(3&A.type),a&xr.Host&&d===A);return null!==Q?yl(n,m,Q,A):tl}function Td(e,n,i,o,a){const d=e.providerIndexes,m=n.data,A=1048575&d,D=e.directiveStart,Q=d>>20,Pe=a?A+Q:e.directiveEnd;for(let Be=o?A:A+Q;Be<Pe;Be++){const ke=m[Be];if(Be<D&&i===ke||Be>=D&&ke.type===i)return Be}if(a){const Be=m[D];if(Be&&Os(Be)&&Be.type===i)return D}return null}function yl(e,n,i,o){let a=e[i];const d=n.data;if(function Ku(e){return e instanceof Fc}(a)){const m=a;m.resolving&&function qo(e,n){throw n&&n.join(" > "),new ft(-200,e)}(function Tr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$t(e)}(d[i]));const A=zl(m.canSeeViewProviders);m.resolving=!0;const V=m.injectImpl?bi(m.injectImpl):null;Sh(e,o,xr.Default);try{a=e[i]=m.factory(void 0,d,e,o),n.firstCreatePass&&i>=o.directiveStart&&function ws(e,n,i){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(o){var m,A;const ne=ls(n);(null!==(m=i.preOrderHooks)&&void 0!==m?m:i.preOrderHooks=[]).push(e,ne),(null!==(A=i.preOrderCheckHooks)&&void 0!==A?A:i.preOrderCheckHooks=[]).push(e,ne)}var D,V,Q;a&&(null!==(D=i.preOrderHooks)&&void 0!==D?D:i.preOrderHooks=[]).push(0-e,a),d&&((null!==(V=i.preOrderHooks)&&void 0!==V?V:i.preOrderHooks=[]).push(e,d),(null!==(Q=i.preOrderCheckHooks)&&void 0!==Q?Q:i.preOrderCheckHooks=[]).push(e,d))}(i,d[i],n)}finally{null!==V&&bi(V),zl(A),m.resolving=!1,Oc()}}return a}function bd(e,n,i){return!!(i[n+(e>>_p)]&1<<e)}function Xu(e,n){return!(e&xr.Self||e&xr.Host&&n)}class Vo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Bc(this._tNode,this._lView,n,qt(o),i)}}function Ep(){return new Vo(Ci(),en())}function Lh(e){return lr(()=>{const n=e.prototype.constructor,i=n[yi]||Vh(n),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[yi]||Vh(a);if(d&&d!==i)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Vh(e){return sn(e)?()=>{const n=Vh(Je(e));return n&&n()}:lo(e)}function Uh(e){const n=e[gn],i=n.type;return 2===i?n.declTNode:1===i?e[Fi]:null}function pu(e){return function kh(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const o=i.length;let a=0;for(;a<o;){const d=i[a];if(Ai(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof i[a];)a++;else{if(d===n)return i[a+1];a+=2}}}return null}(Ci(),e)}function Tp(e,n=null,i=null,o){const a=La(e,n,i,o);return a.resolveInjectorInitializers(),a}function La(e,n=null,i=null,o,a=new Set){const d=[i||ar,fa(e)];return o=o||("object"==typeof e?void 0:Yr(e)),new Zo(d,n||ia(),o||null,a)}class vs{static create(n,i){if(Array.isArray(n))return Tp({name:""},i,n,"");{var o;const a=null!==(o=n.name)&&void 0!==o?o:"";return Tp({name:a},n.parent,n.providers,a)}}}(nr=vs).THROW_IF_NOT_FOUND=Nr,nr.NULL=new Hi,nr.\u0275prov=Pr({token:nr,providedIn:"any",factory:()=>qe(_o)}),nr.__NG_ELEMENT_ID__=-1,new Ln("").__NG_ELEMENT_ID__=e=>{const n=Ci();if(null===n)throw new ft(204,!1);if(2&n.type)return n.value;if(e&xr.Optional)return null;throw new ft(204,!1)};function vu(e){return e.ngOriginalError}const Zu=!0;let _u=(()=>{var e;class n{}return(e=n).__NG_ELEMENT_ID__=Gc,e.__NG_ENV_ID__=i=>i,n})();class nl extends _u{constructor(n){super(),this._lView=n}onDestroy(n){return Ll(this._lView,n),()=>function su(e,n){if(null===e[xs])return;const i=e[xs].indexOf(n);-1!==i&&e[xs].splice(i,1)}(this._lView,n)}}function Gc(){return new nl(en())}let El=(()=>{var e;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=n).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>new e}),n})();const ba=class zh extends Fr.B{constructor(n=!1){var i,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,ie()&&(this.destroyRef=null!==(i=_t(_u,{optional:!0}))&&void 0!==i?i:void 0,this.pendingTasks=null!==(o=_t(El,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const i=he(null);try{super.next(n)}finally{he(i)}}subscribe(n,i,o){let a=n,d=i||(()=>null),m=o;if(n&&"object"==typeof n){var A,D,V;const ne=n;a=null===(A=ne.next)||void 0===A?void 0:A.bind(ne),d=null===(D=ne.error)||void 0===D?void 0:D.bind(ne),m=null===(V=ne.complete)||void 0===V?void 0:V.bind(ne)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),m&&(m=this.wrapInTimeout(m)));const Q=super.subscribe({next:a,error:d,complete:m});return n instanceof Gn.yU&&n.add(Q),Q}wrapInTimeout(n){return i=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;n(i),void 0!==a&&(null===(d=this.pendingTasks)||void 0===d||d.remove(a))})}}};function Md(...e){}function _s(e){let n,i;function o(){e=Md;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),o()})),()=>o()}function bp(e){return queueMicrotask(()=>e()),()=>{e=Md}}const I="isAngularZone",h=I+"_ID";let g=0;class T{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=Zu}=n;if(typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!a&&o,m.shouldCoalesceRunChangeDetection=a,m.callbackScheduled=!1,m.scheduleInRootZone=d,function At(e){const n=()=>{!function Ge(e){function n(){_s(()=>{e.callbackScheduled=!1,an(e),e.isCheckStableRunning=!0,se(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),an(e))}(e)},i=g++;e._inner=e._inner.fork({name:"angular",properties:{[I]:!0,[h]:i,[h+i]:!0},onInvokeTask:(o,a,d,m,A,D)=>{if(function po(e){return rl(e,"__ignore_ng_zone__")}(D))return o.invokeTask(d,m,A,D);try{return xn(e),o.invokeTask(d,m,A,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&n(),Yn(e)}},onInvoke:(o,a,d,m,A,D,V)=>{try{return xn(e),o.invoke(d,m,A,D,V)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Ws(e){return rl(e,"__scheduler_tick__")}(D)&&n(),Yn(e)}},onHasTask:(o,a,d,m)=>{o.hasTask(d,m),a===d&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,an(e),se(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,d,m)=>(o.handleError(d,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(I)}static assertInAngularZone(){if(!T.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(T.isInAngularZone())throw new ft(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,a){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+a,n,G,Md,Md);try{return d.runTask(m,i,o)}finally{d.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const G={};function se(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function an(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function xn(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Yn(e){e._nesting--,se(e)}class Kn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,a){return n.apply(i,o)}}function rl(e,n){var i;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(i=e[0])||void 0===i||null===(i=i.data)||void 0===i?void 0:i[n])}class Da{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&vu(n);for(;i&&vu(i);)i=vu(i);return i||null}}const xd=new Ln("",{providedIn:"root",factory:()=>{const e=_t(T),n=_t(Da);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function Gh(){return Gl(Ci(),en())}function Gl(e,n){return new yu(Fs(e,n))}let yu=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Gh,n})();function D_(e){return e instanceof yu?e.nativeElement:e}function pm(){return this._results[Symbol.iterator]()}class Od{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new ba}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Od.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=pm)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function vo(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function wo(e,n,i){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=n[o];if(i&&(a=i(a),d=i(d)),d!==a)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Wh(e){return!(128&~e.flags)}const Sp=new Map;let K0=0;function vm(e){Sp.delete(e[ul])}const kd="__ngContext__";function es(e,n){ho(n)?(e[kd]=n[ul],function q0(e){Sp.set(e[ul],e)}(n)):e[kd]=n}function P_(e){return Pp(e[Lr])}function x_(e){return Pp(e[So])}function Pp(e){for(;null!==e&&!ui(e);)e=e[So];return e}let Op;function Rm(e){Op=e}const Ud=new Ln("",{providedIn:"root",factory:()=>eI}),eI="ng",kp=new Ln(""),Fp=new Ln("",{providedIn:"platform",factory:()=>"unknown"}),Mm=new Ln("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Wl(){if(void 0!==Op)return Op;if(typeof document<"u")return document;throw new ft(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let $_=()=>null;function km(e,n,i=!1){return $_(e,n,i)}const rf=new Ln("",{providedIn:"root",factory:()=>!1});let zd;function Yc(e){var n;return(null===(n=function Gd(){if(void 0===zd&&(zd=null,pr.trustedTypes))try{zd=pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return zd}())||void 0===n?void 0:n.createScriptURL(e))||e}class Gm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zt})`}}function oc(e){return e instanceof Gm?e.changingThisBreaksApplicationSecurity:e}function af(e,n){const i=function X_(e){return e instanceof Gm&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${zt})`)}return i===n}const Y_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var qd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(qd||{});function ev(e){const n=uf();return n?n.sanitize(qd.URL,e)||"":af(e,"URL")?oc(e):function zp(e){return(e=String(e)).match(Y_)?e:"unsafe:"+e}($t(e))}function ty(e){const n=uf();if(n)return Yc(n.sanitize(qd.RESOURCE_URL,e)||"");if(af(e,"ResourceURL"))return Yc(oc(e));throw new ft(904,!1)}function ny(e,n,i){return function ZA(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?ty:ev}(n,i)(e)}function uf(){const e=en();return e&&e[oa].sanitizer}const Kl=/^>|^->|<!--|-->|--!>|<!-$/g,Au=/(<|>)/g,eC="\u200b$1\u200b";function qs(e){return e instanceof Function?e():e}var lc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(lc||{});let av;function uc(e,n){return av(e,n)}function cf(e,n,i,o,a){if(null!=o){let d,m=!1;ui(o)?d=o:ho(o)&&(m=!0,o=o[oi]);const A=pi(o);0===e&&null!==i?null==a?wI(n,i,A):ed(n,i,A,a||null,!0):1===e&&null!==i?ed(n,i,A,a||null,!0):2===e?function gf(e,n,i){e.removeChild(null,n,i)}(n,A,m):3===e&&n.destroyNode(A),null!=d&&function my(e,n,i,o,a){const d=i[as];d!==pi(i)&&cf(n,e,o,d,a);for(let A=Ki;A<i.length;A++){const D=i[A];og(D[gn],D,e,n,o,d)}}(n,e,d,i,a)}}function rh(e,n){return e.createComment(function sc(e){return e.replace(Kl,n=>n.replace(Au,eC))}(n))}function eg(e,n,i){return e.createElement(n,i)}function cy(e,n){var i;null===(i=n[oa].changeDetectionScheduler)||void 0===i||i.notify(9),og(e,n,n[Sr],2,null,null)}function dy(e,n){const i=e[cl],o=n[vi];(ho(o)||n[oo]!==o[vi][oo])&&(e[Jn]|=Ec.HasTransplantedViews),null===i?e[cl]=[n]:i.push(n)}function lv(e,n){const i=e[cl],o=i.indexOf(n);i.splice(o,1)}function ih(e,n){if(e.length<=Ki)return;const i=Ki+n,o=e[i];if(o){const a=o[pa];null!==a&&a!==e&&lv(a,o),n>0&&(e[i-1][So]=o[So]);const d=Xo(e,Ki+n);!function bI(e,n){cy(e,n),n[oi]=null,n[Fi]=null}(o[gn],o);const m=d[Ro];null!==m&&m.detachView(d[gn]),o[vi]=null,o[So]=null,o[Jn]&=-129}return o}function hf(e,n){if(!(256&n[Jn])){const i=n[Sr];i.destroyNode&&og(e,n,i,3,null,null),function DI(e){let n=e[Lr];if(!n)return rg(e[gn],e);for(;n;){let i=null;if(ho(n))i=n[Lr];else{const o=n[Ki];o&&(i=o)}if(!i){for(;n&&!n[So]&&n!==e;)ho(n)&&rg(n[gn],n),n=n[vi];null===n&&(n=e),ho(n)&&rg(n[gn],n),i=n&&n[So]}n=i}}(n)}}function rg(e,n){if(256&n[Jn])return;const i=he(null);try{n[Jn]&=-129,n[Jn]|=256,n[Ei]&&ut(n[Ei]),function fy(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const a=n[i[o]];if(!(a instanceof Fc)){const d=i[o+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const A=a[d[m]],D=d[m+1];Xa(4,A,D);try{D.call(A)}finally{Xa(5,A,D)}}else{Xa(4,a,d);try{d.call(a)}finally{Xa(5,a,d)}}}}}(e,n),function hy(e,n){const i=e.cleanup,o=n[Fo];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const m=i[d+3];m>=0?o[m]():o[-m].unsubscribe(),d+=2}else i[d].call(o[i[d+1]]);null!==o&&(n[Fo]=null);const a=n[xs];if(null!==a){n[xs]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,n),1===n[gn].type&&n[Sr].destroy();const o=n[pa];if(null!==o&&ui(n[vi])){o!==n[vi]&&lv(o,n);const a=n[Ro];null!==a&&a.detachView(e)}vm(n)}finally{he(i)}}function ff(e,n,i){return function pf(e,n,i){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return i[oi];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===Oi.None||d===Oi.Emulated)return null}return Fs(o,i)}}(e,n.parent,i)}function ed(e,n,i,o,a){e.insertBefore(n,i,o,a)}function wI(e,n,i){e.appendChild(n,i)}function SI(e,n,i,o,a){null!==o?ed(e,n,i,o,a):wI(e,n,i)}function uv(e,n){return e.parentNode(n)}function RI(e,n,i){return ql(e,n,i)}let td,ql=function cc(e,n,i){return 40&e.type?Fs(e,i):null};function ig(e,n,i,o){const a=ff(e,o,n),d=n[Sr],A=RI(o.parent||n[Fi],o,n);if(null!=a)if(Array.isArray(i))for(let D=0;D<i.length;D++)SI(d,a,i[D],A,!1);else SI(d,a,i,A,!1);void 0!==td&&td(d,o,n,i,a)}function dc(e,n){if(null!==n){const i=n.type;if(3&i)return Fs(n,e);if(4&i)return Xl(-1,e[n.index]);if(8&i){const o=n.child;if(null!==o)return dc(e,o);{const a=e[n.index];return ui(a)?Xl(-1,a):pi(a)}}if(128&i)return dc(e,n.next);if(32&i)return uc(n,e)()||pi(e[n.index]);{const o=py(e,n);return null!==o?Array.isArray(o)?o[0]:dc(Fa(e[oo]),o):dc(e,n.next)}}return null}function py(e,n){return null!==n?e[oo][Fi].projection[n.projection]:null}function Xl(e,n){const i=Ki+e+1;if(i<n.length){const o=n[i],a=o[gn].firstChild;if(null!==a)return dc(o,a)}return n[as]}function cv(e,n,i,o,a,d,m){for(;null!=i;){if(128===i.type){i=i.next;continue}const A=o[i.index],D=i.type;if(m&&0===n&&(A&&es(pi(A),o),i.flags|=2),32&~i.flags)if(8&D)cv(e,n,i.child,o,a,d,!1),cf(n,e,a,A,d);else if(32&D){const V=uc(i,o);let Q;for(;Q=V();)cf(n,e,a,Q,d);cf(n,e,a,A,d)}else 16&D?dv(e,n,o,i,a,d):cf(n,e,a,A,d);i=m?i.projectionNext:i.next}}function og(e,n,i,o,a,d){cv(i,o,e.firstChild,n,a,d,!1)}function dv(e,n,i,o,a,d){const m=i[oo],D=m[Fi].projection[o.projection];if(Array.isArray(D))for(let V=0;V<D.length;V++)cf(n,e,a,D[V],d);else{let V=D;const Q=m[vi];Wh(o)&&(V.flags|=128),cv(e,n,V,Q,a,d,!0)}}function hv(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function vy(e,n,i){const{mergedAttrs:o,classes:a,styles:d}=i;null!==o&&Mo(e,n,o),null!==a&&hv(e,n,a),null!==d&&function xI(e,n,i){e.setAttribute(n,"style",i)}(e,n,d)}const Wr={};function sg(e=1){NI(si(),en(),Go()+e,!1)}function NI(e,n,i,o){if(!o)if(3&~n[Jn]){const d=e.preOrderHooks;null!==d&&jl(n,d,0,i)}else{const d=e.preOrderCheckHooks;null!==d&&vl(n,d,i)}uu(i)}function oh(e,n=xr.Default){const i=en();return null===i?qe(e,n):Bc(Ci(),i,Je(e),n)}function _y(){throw new Error("invalid")}function yy(e,n,i,o,a,d){const m=he(null);try{let A=null;a&Jr.SignalBased&&(A=n[o][De]),null!==A&&void 0!==A.transformFn&&(d=A.transformFn(d)),a&Jr.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,A,d,i,o):zo(n,A,o,d)}finally{he(m)}}function ag(e,n,i,o,a,d,m,A,D,V,Q){const ne=n.blueprint.slice();return ne[oi]=a,ne[Jn]=204|o,(null!==V||e&&2048&e[Jn])&&(ne[Jn]|=2048),cd(ne),ne[vi]=ne[qa]=e,ne[Li]=i,ne[oa]=m||e&&e[oa],ne[Sr]=A||e&&e[Sr],ne[Bi]=D||e&&e[Bi]||null,ne[Fi]=d,ne[ul]=function mm(){return K0++}(),ne[ko]=Q,ne[Lu]=V,ne[oo]=2==n.type?e[oo]:ne,ne}function sh(e,n,i,o,a){let d=e.data[n];if(null===d)d=function Iy(e,n,i,o,a){const d=Ul(),m=Rc(),D=e.data[n]=function $I(e,n,i,o,a,d){let m=n?n.injectorIndex:-1,A=0;return Gs()&&(A|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,i,n,o,a);return null===e.firstChild&&(e.firstChild=D),null!==d&&(m?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(e,n,i,o,a),function cp(){return kr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=o,d.attrs=a;const m=function Ia(){const e=kr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Ds(d,!0),d}function lg(e,n,i,o){if(0===i)return-1;const a=n.length;for(let d=0;d<i;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return a}function kI(e,n,i,o,a){const d=Go(),m=2&o;try{uu(-1),m&&n.length>or&&NI(e,n,or,!1),Xa(m?2:0,a),i(o,a)}finally{uu(d),Xa(m?3:1,a)}}function fv(e,n,i){if(ma(n)){const o=he(null);try{const d=n.directiveEnd;for(let m=n.directiveStart;m<d;m++){const A=e.data[m];A.contentQueries&&A.contentQueries(1,i[m],m)}}finally{he(o)}}}function pv(e,n,i){ap()&&(function aC(e,n,i,o){const a=i.directiveStart,d=i.directiveEnd;Ns(i)&&function Sy(e,n,i){const o=Fs(n,e),a=FI(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const A=ug(e,ag(e,a,null,m,o,n,null,e[oa].rendererFactory.createRenderer(o,i),null,null,null));e[n.index]=A}(n,i,e.data[a+i.componentOffset]),e.firstCreatePass||Vc(i,n),es(o,n);const m=i.initialInputs;for(let A=a;A<d;A++){const D=e.data[A],V=yl(n,e,A,i);es(V,n),null!==m&&qI(0,A-a,V,D,0,m),Os(D)&&(Hs(i.index,n)[Li]=yl(n,e,A,i))}}(e,n,i,Fs(i,n)),!(64&~i.flags)&&GI(e,n,i))}function gv(e,n,i=Fs){const o=n.localNames;if(null!==o){let a=n.index+1;for(let d=0;d<o.length;d+=2){const m=o[d+1],A=-1===m?i(n,e):e[m];e[a++]=A}}}function FI(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=mv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function mv(e,n,i,o,a,d,m,A,D,V,Q){const ne=or+o,Pe=ne+a,Be=function Ey(e,n){const i=[];for(let o=0;o<n;o++)i.push(o<e?null:Wr);return i}(ne,Pe),ke="function"==typeof V?V():V;return Be[gn]={type:e,blueprint:Be,template:i,queries:null,viewQuery:A,declTNode:n,data:Be.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:ke,incompleteFirstPass:!1,ssrId:Q}}let Ay=()=>null;function Cy(e,n,i,o,a){for(let m in n){var d;if(!n.hasOwnProperty(m))continue;const A=n[m];if(void 0===A)continue;null!==(d=o)&&void 0!==d||(o={});let D,V=Jr.None;Array.isArray(A)?(D=A[0],V=A[1]):D=A;let Q=m;if(null!==a){if(!a.hasOwnProperty(m))continue;Q=a[m]}0===e?jI(o,i,Q,D,V):jI(o,i,Q,D)}return o}function jI(e,n,i,o,a){let d;e.hasOwnProperty(i)?(d=e[i]).push(n,o):d=e[i]=[n,o],void 0!==a&&d.push(a)}function ca(e,n,i,o,a,d,m,A){const D=Fs(n,i);let Q,V=n.inputs;!A&&null!=V&&(Q=V[o])?(dg(e,i,Q,o,a),Ns(n)&&function HI(e,n){const i=Hs(n,e);16&i[Jn]||(i[Jn]|=64)}(i,n.index)):3&n.type&&(o=function oC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=m?m(a,n.value||"",o):a,d.setProperty(D,o,a))}function Ty(e,n,i,o){if(ap()){const a=null===o?null:{"":-1},d=function vv(e,n){const i=e.directiveRegistry;let o=null,a=null;if(i)for(let m=0;m<i.length;m++){const A=i[m];if(br(n,A.selectors,!1))if(o||(o=[]),Os(A))if(null!==A.findHostDirectiveDefs){const D=[];a=a||new Map,A.findHostDirectiveDefs(A,D,a),o.unshift(...D,A),ah(e,n,D.length)}else o.unshift(A),ah(e,n,0);else{var d;a=a||new Map,null===(d=A.findHostDirectiveDefs)||void 0===d||d.call(A,A,o,a),o.push(A)}}return null===o?null:[o,a]}(e,i);let m,A;null===d?m=A=null:[m,A]=d,null!==m&&zI(e,n,i,m,a,A),a&&function WI(e,n,i){if(n){const o=e.localNames=[];for(let a=0;a<n.length;a+=2){const d=i[n[a+1]];if(null==d)throw new ft(-301,!1);o.push(n[a],d)}}}(i,o,a)}i.mergedAttrs=W(i.mergedAttrs,i.attrs)}function zI(e,n,i,o,a,d){for(let ne=0;ne<o.length;ne++)Uc(Vc(i,n),e,o[ne].type);!function _v(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,o.length);for(let ne=0;ne<o.length;ne++){const Pe=o[ne];Pe.providersResolver&&Pe.providersResolver(Pe)}let m=!1,A=!1,D=lg(e,n,o.length,null);for(let ne=0;ne<o.length;ne++){const Pe=o[ne];i.mergedAttrs=W(i.mergedAttrs,Pe.hostAttrs),wy(e,i,n,D,Pe),KI(D,Pe,a),null!==Pe.contentQueries&&(i.flags|=4),(null!==Pe.hostBindings||null!==Pe.hostAttrs||0!==Pe.hostVars)&&(i.flags|=64);const Be=Pe.type.prototype;var V,Q;!m&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((null!==(V=e.preOrderHooks)&&void 0!==V?V:e.preOrderHooks=[]).push(i.index),m=!0),A||!Be.ngOnChanges&&!Be.ngDoCheck||((null!==(Q=e.preOrderCheckHooks)&&void 0!==Q?Q:e.preOrderCheckHooks=[]).push(i.index),A=!0),D++}!function iC(e,n,i){const a=n.directiveEnd,d=e.data,m=n.attrs,A=[];let D=null,V=null;for(let Q=n.directiveStart;Q<a;Q++){const ne=d[Q],Pe=i?i.get(ne):null,ke=Pe?Pe.outputs:null;D=Cy(0,ne.inputs,Q,D,Pe?Pe.inputs:null),V=Cy(1,ne.outputs,Q,V,ke);const jt=null===D||null===m||bt(n)?null:XI(D,Q,m);A.push(jt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=D,n.outputs=V}(e,i,d)}function GI(e,n,i){const o=i.directiveStart,a=i.directiveEnd,d=i.index,m=function sm(){return kr.lFrame.currentDirectiveIndex}();try{uu(d);for(let A=o;A<a;A++){const D=e.data[A],V=n[A];lu(A),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&lC(D,V)}}finally{uu(-1),lu(m)}}function lC(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function ah(e,n,i){var o;n.componentOffset=i,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function KI(e,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=e;Os(n)&&(i[""]=e)}}function wy(e,n,i,o,a){e.data[o]=a;const d=a.factory||(a.factory=lo(a.type)),m=new Fc(d,Os(a),oh);e.blueprint[o]=m,i[o]=m,function by(e,n,i,o,a){const d=a.hostBindings;if(d){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const A=~n.index;(function Dy(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=A&&m.push(A),m.push(i,o,d)}}(e,n,o,lg(e,i,a.hostVars,Wr),a)}function Sa(e,n,i,o,a,d){const m=Fs(e,n);!function mf(e,n,i,o,a,d,m){if(null==d)e.removeAttribute(n,a,i);else{const A=null==m?$t(d):m(d,o||"",a);e.setAttribute(n,a,A,i)}}(n[Sr],m,d,e.value,i,o,a)}function qI(e,n,i,o,a,d){const m=d[n];if(null!==m)for(let A=0;A<m.length;)yy(o,i,m[A++],m[A++],m[A++],m[A++])}function XI(e,n,i){let o=null,a=0;for(;a<i.length;){const d=i[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const m=e[d];for(let A=0;A<m.length;A+=3)if(m[A]===n){o.push(d,m[A+1],m[A+2],i[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function yv(e,n,i,o){return[e,!0,0,n,null,o,null,i,null,null]}function vf(e,n){const i=e.contentQueries;if(null!==i){const o=he(null);try{for(let a=0;a<i.length;a+=2){const m=i[a+1];if(-1!==m){const A=e.data[m];Nc(i[a]),A.contentQueries(2,n[m],m)}}}finally{he(o)}}}function ug(e,n){return e[Lr]?e[sa][So]=n:e[Lr]=n,e[sa]=n,n}function cg(e,n,i){Nc(0);const o=he(null);try{n(e,i)}finally{he(o)}}function fc(e){var n;return null!==(n=e[Fo])&&void 0!==n?n:e[Fo]=[]}function Ua(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function _f(e,n){const i=e[Bi],o=i?i.get(Da,null):null;o&&o.handleError(n)}function dg(e,n,i,o,a){for(let d=0;d<i.length;){const m=i[d++],A=i[d++],D=i[d++];yy(e.data[m],n[m],o,A,D,a)}}function yf(e,n){const i=Hs(n,e),o=i[gn];!function da(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(o,i);const a=i[oi];null!==a&&null===i[ko]&&(i[ko]=km(a,i[Bi])),Iv(o,i,i[Li])}function Iv(e,n,i){Rh(n);try{var o;const a=e.viewQuery;null!==a&&cg(1,a,i);const d=e.template;null!==d&&kI(e,n,d,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[Ro])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&vf(e,n),e.staticViewQueries&&cg(2,e.viewQuery,i);const m=e.components;null!==m&&function Ev(e,n){for(let i=0;i<n.length;i++)yf(e,n[i])}(n,m)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{n[Jn]&=-5,kc()}}function Dl(e,n,i,o){const a=he(null);try{var d,m,A;const D=n.tView,ne=ag(e,D,i,4096&e[Jn]?4096:16,null,n,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(A=null==o?void 0:o.dehydratedView)&&void 0!==A?A:null);ne[pa]=e[n.index];const Be=e[Ro];return null!==Be&&(ne[Ro]=Be.createEmbeddedView(D)),Iv(D,ne,i),ne}finally{he(a)}}function Tu(e,n){return!n||null===n.firstChild||Wh(e)}function il(e,n,i,o=!0){const a=n[gn];if(function ng(e,n,i,o){const a=Ki+o,d=i.length;o>0&&(i[a-1][So]=n),o<d-Ki?(n[So]=i[a],uo(i,Ki+o,n)):(i.push(n),n[So]=null),n[vi]=i;const m=n[pa];null!==m&&i!==m&&dy(m,n);const A=n[Ro];null!==A&&A.insertView(e),ou(n),n[Jn]|=128}(a,n,e,i),o){const m=Xl(i,e),A=n[Sr],D=uv(A,e[as]);null!==D&&function tg(e,n,i,o,a,d){o[oi]=a,o[Fi]=n,og(e,o,i,1,a,d)}(a,e[Fi],A,n,D,m)}const d=n[ko];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function If(e,n,i,o,a=!1){for(;null!==i;){if(128===i.type){i=a?i.projectionNext:i.next;continue}const d=n[i.index];null!==d&&o.push(pi(d)),ui(d)&&Ry(d,o);const m=i.type;if(8&m)If(e,n,i.child,o);else if(32&m){const A=uc(i,n);let D;for(;D=A();)o.push(D)}else if(16&m){const A=py(n,i);if(Array.isArray(A))o.push(...A);else{const D=Fa(n[oo]);If(D[gn],D,A,o,!0)}}i=a?i.projectionNext:i.next}return o}function Ry(e,n){for(let i=Ki;i<e.length;i++){const o=e[i],a=o[gn].firstChild;null!==a&&If(o[gn],o,a,n)}e[as]!==e[oi]&&n.push(e[as])}let My=[];const xy={...Ae,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{dd(e.lView)},consumerOnSignalRead(){this.lView[Ei]=this}},Ny={...Ae,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Fa(e.lView);for(;n&&!Oy(n[gn]);)n=Fa(n);n&&bc(n)},consumerOnSignalRead(){this.lView[Ei]=this}};function Oy(e){return 2!==e.type}const Tv=100;function fg(e,n=!0,i=0){const o=e[oa],a=o.rendererFactory;var m;null===(m=a.begin)||void 0===m||m.call(a);try{!function ky(e,n){const i=Dh();try{xc(!0),pg(e,n);let o=0;for(;wc(e);){if(o===Tv)throw new ft(103,!1);o++,pg(e,1)}}finally{xc(i)}}(e,i)}catch(V){throw n&&_f(e,V),V}finally{var A,D;null===(A=a.end)||void 0===A||A.call(a),null===(D=o.inlineEffectRunner)||void 0===D||D.flush()}}function ZI(e,n,i,o){var a;const d=n[Jn];if(!(256&~d))return;null===(a=n[oa].inlineEffectRunner)||void 0===a||a.flush(),Rh(n);let D=!0,V=null,Q=null;Oy(e)?(Q=function Py(e){var n;return null!==(n=e[Ei])&&void 0!==n?n:function YI(e){var n;const i=null!==(n=My.pop())&&void 0!==n?n:Object.create(xy);return i.lView=e,i}(e)}(n),V=tt(Q)):null===function te(){return f}()?(D=!1,Q=function hg(e){var n;const i=null!==(n=e[Ei])&&void 0!==n?n:Object.create(Ny);return i.lView=e,i}(n),V=tt(Q)):n[Ei]&&(ut(n[Ei]),n[Ei]=null);try{cd(n),function wh(e){return kr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&kI(e,n,i,2,o);const ne=!(3&~d);if(ne){const ke=e.preOrderCheckHooks;null!==ke&&vl(n,ke,null)}else{const ke=e.preOrderHooks;null!==ke&&jl(n,ke,0,null),du(n,0)}if(function Fy(e){for(let n=P_(e);null!==n;n=x_(n)){if(!(n[Jn]&Ec.HasTransplantedViews))continue;const i=n[cl];for(let o=0;o<i.length;o++)bc(i[o])}}(n),Dv(n,0),null!==e.contentQueries&&vf(e,n),ne){const ke=e.contentCheckHooks;null!==ke&&vl(n,ke)}else{const ke=e.contentHooks;null!==ke&&jl(n,ke,1),du(n,1)}!function OI(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const a=i[o];if(a<0)uu(~a);else{const d=a,m=i[++o],A=i[++o];om(m,d),A(2,n[d])}}}finally{uu(-1)}}(e,n);const Pe=e.components;null!==Pe&&Vy(n,Pe,0);const Be=e.viewQuery;if(null!==Be&&cg(2,Be,o),ne){const ke=e.viewCheckHooks;null!==ke&&vl(n,ke)}else{const ke=e.viewHooks;null!==ke&&jl(n,ke,2),du(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[ga]){for(const ke of n[ga])ke();n[ga]=null}n[Jn]&=-73}catch(ne){throw dd(n),ne}finally{null!==Q&&(rt(Q,V),D&&function Cv(e){e.lView[Ei]!==e&&(e.lView=null,My.push(e))}(Q)),kc()}}function Dv(e,n){for(let i=P_(e);null!==i;i=x_(i))for(let o=Ki;o<i.length;o++)Ly(i[o],n)}function JI(e,n,i){Ly(Hs(n,e),i)}function Ly(e,n){zs(e)&&pg(e,n)}function pg(e,n){const o=e[gn],a=e[Jn],d=e[Ei];let m=!!(0===n&&16&a);if(m||(m=!!(64&a&&0===n)),m||(m=!!(1024&a)),m||(m=!(null==d||!d.dirty||!pt(d))),m||(m=!1),d&&(d.dirty=!1),e[Jn]&=-9217,m)ZI(o,e,o.template,e[Li]);else if(8192&a){Dv(e,1);const A=o.components;null!==A&&Vy(e,A,1)}}function Vy(e,n,i){for(let o=0;o<n.length;o++)JI(e,n[o],i)}function Ef(e,n){var i;const o=Dh()?64:1088;for(null===(i=e[oa].changeDetectionScheduler)||void 0===i||i.notify(n);e;){e[Jn]|=o;const a=Fa(e);if(va(e)&&!a)return e;e=a}return null}class Af{get rootNodes(){const n=this._lView,i=n[gn];return If(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Li]}set context(n){this._lView[Li]=n}get destroyed(){return!(256&~this._lView[Jn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[vi];if(ui(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(ih(n,o),Xo(i,o))}this._attachedToViewContainer=!1}hf(this._lView[gn],this._lView)}onDestroy(n){Ll(this._lView,n)}markForCheck(){Ef(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Jn]&=-129}reattach(){ou(this._lView),this._lView[Jn]|=128}detectChanges(){this._lView[Jn]|=1024,fg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=va(this._lView),i=this._lView[pa];null!==i&&!n&&lv(i,this._lView),cy(this._lView[gn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=n;const i=va(this._lView),o=this._lView[pa];null!==o&&!i&&dy(o,this._lView),ou(this._lView)}}let Cf=(()=>{class n{}return n.__NG_ELEMENT_ID__=r,n})();const l=Cf,t=class extends l{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const a=Dl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new Af(a)}};function r(){return s(Ci(),en())}function s(e,n){return 4&e.type?new t(n,e,Gl(e,n)):null}let Lf=()=>null;function Ql(e,n){return Lf(e,n)}class $a{}const dh=new Ln("",{providedIn:"root",factory:()=>!1}),yg=new Ln(""),Vf=new Ln("");class Zy{}class Bv{}class $v{resolveComponentFactory(n){throw function cE(e){const n=Error(`No component factory found for ${Yr(e)}.`);return n.ngComponent=e,n}(n)}}class Mu{}Mu.NULL=new $v;class Pu{}let jv=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function hE(){const e=en(),i=Hs(Ci().index,e);return(ho(i)?i:e)[Sr]}(),n})(),Jy=(()=>{var e;class n{}return(e=n).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>null}),n})();function xu(e){return!!Eo(e)}function ol(e,n,i){let o=i?e.styles:null,a=i?e.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const A=n[m];"number"==typeof A?d=A:1==d?a=Rt(a,A):2==d&&(o=Rt(o,A+": "+n[++m]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=a:e.classesWithoutHost=a}class $f extends Mu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=jr(n);return new eo(i,this.ngModule)}}function jf(e,n){const i=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const d=Array.isArray(a),m=d?a[0]:a;i.push(n?{propName:m,templateName:o,isSignal:!!((d?a[1]:Jr.None)&Jr.SignalBased)}:{propName:m,templateName:o})}return i}class eo extends Bv{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=jf(n.inputs,!0);if(null!==i)for(const a of o)i.hasOwnProperty(a.propName)&&(a.transform=i[a.propName]);return o}get outputs(){return jf(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function jn(e){return e.map(Kt).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,a){const d=he(null);try{var A;let D=(a=a||this.ngModule)instanceof bs?a:null===(A=a)||void 0===A?void 0:A.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const V=D?new Ca(n,D):n,Q=V.get(Pu,null);if(null===Q)throw new ft(407,!1);const Be={rendererFactory:Q,sanitizer:V.get(Jy,null),inlineEffectRunner:null,changeDetectionScheduler:V.get($a,null)},ke=Q.createRenderer(null,this.componentDef),jt=this.componentDef.selectors[0][0]||"div",fn=o?function hc(e,n,i,o){const d=o.get(rf,!1)||i===Oi.ShadowDom,m=e.selectRootElement(n,d);return function LI(e){Ay(e)}(m),m}(ke,o,this.componentDef.encapsulation,V):eg(ke,jt,function t0(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(jt));let Dn=512;this.componentDef.signals?Dn|=4096:this.componentDef.onPush||(Dn|=16);let tn=null;null!==fn&&(tn=km(fn,V,!0));const Rr=mv(0,null,null,1,0,null,null,null,null,null,null),qr=ag(null,Rr,null,Dn,null,null,Be,ke,V,null,tn);Rh(qr);let To,$s,Ra=null;try{const Ml=this.componentDef;let ip,jA=null;Ml.findHostDirectiveDefs?(ip=[],jA=new Map,Ml.findHostDirectiveDefs(Ml,ip,jA),ip.push(Ml)):ip=[Ml];const uN=function Hf(e,n){const i=e[gn],o=or;return e[o]=n,sh(i,o,2,"#host",null)}(qr,fn);Ra=function zf(e,n,i,o,a,d,m){const A=a[gn];!function pE(e,n,i,o){for(const a of e)n.mergedAttrs=W(n.mergedAttrs,a.hostAttrs);null!==n.mergedAttrs&&(ol(n,n.mergedAttrs,!0),null!==i&&vy(o,i,n))}(o,e,n,m);let D=null;null!==n&&(D=km(n,a[Bi]));const V=d.rendererFactory.createRenderer(n,i);let Q=16;i.signals?Q=4096:i.onPush&&(Q=64);const ne=ag(a,FI(i),null,Q,a[e.index],e,d,V,null,null,D);return A.firstCreatePass&&ah(A,e,o.length-1),ug(a,ne),a[e.index]=ne}(uN,fn,Ml,ip,qr,Be,ke),$s=pl(Rr,or),fn&&function gE(e,n,i,o){if(o)Mo(e,i,["ng-version","18.2.13"]);else{const{attrs:a,classes:d}=function ti(e){const n=[],i=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&n.push(d,e[++o]):8===a&&i.push(d);else{if(!Mn(a))break;a=d}o++}return{attrs:n,classes:i}}(n.selectors[0]);a&&Mo(e,i,a),d&&d.length>0&&hv(e,i,d.join(" "))}}(ke,Ml,fn,o),void 0!==i&&function mE(e,n,i){const o=e.projection=[];for(let a=0;a<n.length;a++){const d=i[a];o.push(null!=d?Array.from(d):null)}}($s,this.ngContentSelectors,i),To=function n0(e,n,i,o,a,d){const m=Ci(),A=a[gn],D=Fs(m,a);zI(A,a,m,i,null,o);for(let Q=0;Q<i.length;Q++)es(yl(a,A,m.directiveStart+Q,m),a);GI(A,a,m),D&&es(D,a);const V=yl(a,A,m.directiveStart+m.componentOffset,m);if(e[Li]=a[Li]=V,null!==d)for(const Q of d)Q(V,n);return fv(A,m,a),V}(Ra,Ml,ip,jA,qr,[vE]),Iv(Rr,qr,null)}catch(Ml){throw null!==Ra&&vm(Ra),vm(qr),Ml}finally{kc()}return new Ag(this.componentType,To,Gl($s,qr),qr,$s)}finally{he(d)}}}class Ag extends Zy{constructor(n,i,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Af(a,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[n])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;dg(m[gn],m,a,n,i),this.previousInputValues.set(n,i),Ef(Hs(this._tNode.index,m),1)}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function vE(){const e=Ci();vd(en()[gn],e)}let Cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gf,n})();function Gf(){return id(Ci(),en())}const mc=Cg,Gv=class extends mc{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Gl(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ed(this._hostTNode,this._hostLView);if(yd(n)){const i=Lc(n,this._hostLView),o=hu(n);return new Vo(i[gn].data[o+8],i)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Wv(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Ki}createEmbeddedView(n,i,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const m=Ql(this._lContainer,n.ssrId),A=n.createEmbeddedViewImpl(i||{},d,m);return this.insertImpl(A,a,Tu(this._hostTNode,m)),A}createComponent(n,i,o,a,d){var m,A,D;const V=n&&!function hn(e){return"function"==typeof e}(n);let Q;if(V)Q=i;else{const Dn=i||{};Q=Dn.index,o=Dn.injector,a=Dn.projectableNodes,d=Dn.environmentInjector||Dn.ngModuleRef}const ne=V?n:new eo(jr(n)),Pe=o||this.parentInjector;if(!d&&null==ne.ngModule){const tn=(V?Pe:this.parentInjector).get(bs,null);tn&&(d=tn)}const Be=jr(null!==(m=ne.componentType)&&void 0!==m?m:{}),ke=Ql(this._lContainer,null!==(A=null==Be?void 0:Be.id)&&void 0!==A?A:null),jt=null!==(D=null==ke?void 0:ke.firstChild)&&void 0!==D?D:null,fn=ne.create(Pe,a,jt,d);return this.insertImpl(fn.hostView,Q,Tu(this._hostTNode,ke)),fn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const a=n._lView;if(function op(e){return ui(e[vi])}(a)){const A=this.indexOf(n);if(-1!==A)this.detach(A);else{const D=a[vi],V=new Gv(D,D[Fi],D[vi]);V.detach(V.indexOf(n))}}const d=this._adjustIndex(i),m=this._lContainer;return il(m,a,d,o),n.attachToViewContainerRef(),uo(Tg(m),d,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Wv(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=ih(this._lContainer,i);o&&(Xo(Tg(this._lContainer),i),hf(o[gn],o))}detach(n){const i=this._adjustIndex(n,-1),o=ih(this._lContainer,i);return o&&null!=Xo(Tg(this._lContainer),i)?new Af(o):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function Wv(e){return e[8]}function Tg(e){return e[8]||(e[8]=[])}function id(e,n){let i;const o=n[e.index];return ui(o)?i=o:(i=yv(o,n,null,e),n[e.index]=i,ug(n,i)),r0(i,n,e,o),new Gv(i,e,n)}let r0=function o0(e,n,i,o){if(e[as])return;let a;a=8&i.type?pi(o):function _E(e,n){const i=e[Sr],o=i.createComment(""),a=Fs(n,e);return ed(i,uv(i,a),o,function rC(e,n){return e.nextSibling(n)}(i,a),!1),o}(n,i),e[as]=a},Kv=()=>!1;class Dg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class od{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,a=[];for(let d=0;d<o;d++){const m=i.getByIndex(d);a.push(this.queries[m.indexInDeclarationView].clone())}return new od(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==qf(n,i).matches&&this.queries[i].setDirty()}}class gh{constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function AE(e){return e.split(",").map(n=>n.trim())}(n):n}}class wg{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const a=null!==i?i.length:0,d=this.getByIndex(o).embeddedTView(n,a);d&&(d.indexInDeclarationView=o,null!==i?i.push(d):i=[d])}return null!==i?new wg(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Kf{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Kf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(n,i,Wo(i,d)),this.matchTNodeWithReadOption(n,i,Td(i,n,d,!1,!1))}else o===Cf?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Td(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===yu||a===Cg||a===Cf&&4&i.type)this.addMatch(i.index,-2);else{const d=Td(i,n,a,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function Wo(e,n){const i=e.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function EE(e,n,i,o){return-1===i?function IE(e,n){return 11&e.type?Gl(e,n):4&e.type?s(e,n):null}(n,e):-2===i?function s0(e,n,i){return i===yu?Gl(n,e):i===Cf?s(n,e):i===Cg?id(n,e):void 0}(e,n,o):yl(e,e[gn],i,n)}function qv(e,n,i,o){const a=n[Ro].queries[o];if(null===a.matches){const d=e.data,m=i.matches,A=[];for(let D=0;null!==m&&D<m.length;D+=2){const V=m[D];A.push(V<0?null:EE(n,d[V],m[D+1],i.metadata.read))}a.matches=A}return a.matches}function Sg(e,n,i,o){const a=e.queries.getByIndex(i),d=a.matches;if(null!==d){const m=qv(e,n,a,i);for(let A=0;A<d.length;A+=2){const D=d[A];if(D>0)o.push(m[A/2]);else{const V=d[A+1],Q=n[-D];for(let ne=Ki;ne<Q.length;ne++){const Pe=Q[ne];Pe[pa]===Pe[vi]&&Sg(Pe[gn],Pe,V,o)}if(null!==Q[cl]){const ne=Q[cl];for(let Pe=0;Pe<ne.length;Pe++){const Be=ne[Pe];Sg(Be[gn],Be,V,o)}}}}}return o}function Xv(e,n,i){var o;const a=new Od(!(4&~i));return function BI(e,n,i,o){const a=fc(n);a.push(i),e.firstCreatePass&&Ua(e).push(o,a.length-1)}(e,n,a,a.destroy),(null!==(o=n[Ro])&&void 0!==o?o:n[Ro]=new od).queries.push(new Dg(a))-1}function vh(e,n,i){null===e.queries&&(e.queries=new wg),e.queries.track(new Kf(n,i))}function qf(e,n){return e.queries.getByIndex(n)}function Xf(e,n){const i=e[gn],o=qf(i,n);return o.crossesNgTemplate?Sg(i,e,n,[]):qv(i,e,o,n)}const Yv=new Set;function Rs(e){var n,i;Yv.has(e)||(Yv.add(e),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:e}}))}function Zv(e,n){Rs("NgSignals");const i=function me(e){const n=Object.create(mt);n.value=e;const i=()=>(ce(n),n.value);return i[De]=n,i}(e),o=i[De];return null!=n&&n.equal&&(o.equal=n.equal),i.set=a=>ze(o,a),i.update=a=>function Fe(e,n){lt()||Ut(),ze(e,n(e.value))}(o,a),i.asReadonly=Jv.bind(i),i}function Jv(){const e=this[De];if(void 0===e.readonlyFn){const n=()=>this();n[De]=e,e.readonlyFn=n}return e.readonlyFn}function Mg(e){return function l0(e){return"function"==typeof e&&void 0!==e[De]}(e)&&"function"==typeof e.set}function ME(e){let n=function hC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const o=[e];for(;n;){let a;if(Os(e))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ft(903,!1);a=n.\u0275dir}if(a){if(i){o.push(a);const m=e;m.inputs=c0(e.inputs),m.inputTransforms=c0(e.inputTransforms),m.declaredInputs=c0(e.declaredInputs),m.outputs=c0(e.outputs);const A=a.hostBindings;A&&vw(e,A);const D=a.viewQuery,V=a.contentQueries;if(D&&gw(e,D),V&&mw(e,V),fw(e,a),Pi(e.outputs,a.outputs),Os(a)&&a.data.animation){const Q=e.data;Q.animation=(Q.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let m=0;m<d.length;m++){const A=d[m];A&&A.ngInherit&&A(e),A===ME&&(i=!1)}}n=Object.getPrototypeOf(n)}!function pw(e){let n=0,i=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=n+=a.hostVars,a.hostAttrs=W(a.hostAttrs,i=W(i,a.hostAttrs))}}(o)}function fw(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=n.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var i;const d=Array.isArray(a)?a[0]:a;if(!n.inputTransforms.hasOwnProperty(d))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[d]=n.inputTransforms[d]}}}function c0(e){return e===Yi?{}:e===ar?[]:e}function gw(e,n){const i=e.viewQuery;e.viewQuery=i?(o,a)=>{n(o,a),i(o,a)}:n}function mw(e,n){const i=e.contentQueries;e.contentQueries=i?(o,a,d)=>{n(o,a,d),i(o,a,d)}:n}function vw(e,n){const i=e.hostBindings;e.hostBindings=i?(o,a)=>{n(o,a),i(o,a)}:n}function vC(e){const n=e.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const a=n[o];Array.isArray(a)&&a[3]&&(i[o]=a[3])}e.inputTransforms=i}class Zf{}class _C{}function Cw(e,n){return new xE(e,null!=n?n:null,[])}class xE extends Zf{constructor(n,i,o,a=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $f(this);const d=Eo(n);this._bootstrapComponents=qs(d.bootstrap),this._r3Injector=La(n,i,[{provide:Zf,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver},...o],Yr(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class NE extends _C{constructor(n){super(),this.moduleType=n}create(n){return new xE(this.moduleType,n,[])}}class yC extends Zf{constructor(n){super(),this.componentFactoryResolver=new $f(this),this.instance=null;const i=new Zo([...n.providers,{provide:Zf,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],n.parent||ia(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function OE(e,n,i=null){return new yC({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function d0(e){return!!kE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function kE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ys(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function s_(e,n,i,o,a,d,m,A,D,V){const Q=i+or,ne=n.firstCreatePass?function Rw(e,n,i,o,a,d,m,A,D){const V=n.consts,Q=sh(n,e,4,m||null,A||null);Ty(n,i,Q,Ls(V,D)),vd(n,Q);const ne=Q.tView=mv(2,Q,o,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,V,null);return null!==n.queries&&(n.queries.template(n,Q),ne.queries=n.queries.embeddedTView(Q)),Q}(Q,n,e,o,a,d,m,A,D):n.data[Q];Ds(ne,!1);const Pe=IC(n,e,ne,i);cu()&&ig(n,e,Pe,ne),es(Pe,e);const Be=yv(Pe,e,Pe,ne);return e[Q]=Be,ug(e,Be),function Ou(e,n,i){return Kv(e,n,i)}(Be,ne,e),ru(ne)&&pv(n,e,ne),null!=D&&gv(e,ne,V),ne}function FE(e,n,i,o,a,d,m,A){const D=en(),V=si();return s_(D,V,e,n,i,o,a,Ls(V.consts,d),m,A),FE}let IC=function EC(e,n,i,o){return ua(!0),n[Sr].createComment("")};var Og=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Og||{});let wC=(()=>{var e;class n{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=n).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>new e}),n})();class m0{constructor(){this.ngZone=_t(T),this.scheduler=_t($a),this.errorHandler=_t(Da,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const i of m0.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[i])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[i](o.pipelinedValue))}catch(a){var n;o.erroredOrDestroyed=!0,null===(n=this.errorHandler)||void 0===n||n.handleError(a)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}}(Gt=m0).PHASES=[Og.EarlyRead,Og.Write,Og.MixedReadWrite,Og.Read],Gt.\u0275prov=Pr({token:Gt,providedIn:"root",factory:()=>new Gt});class Nw{constructor(n,i,o,a){this.impl=n,this.hooks=i,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==a?void 0:a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var n;this.impl.unregister(this),null===(n=this.unregisterOnDestroy)||void 0===n||n.call(this)}}function v0(e,n){var i;(null==n||!n.injector)&&function C(e){if(!ie())throw new ft(-203,!1)}();const o=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:_t(vs);return function Xs(e){return"browser"===(null!=e?e:_t(vs)).get(Fp)}(o)?(Rs("NgAfterNextRender"),function SC(e,n,i,o){var a,d;const m=n.get(wC);null!==(a=m.impl)&&void 0!==a||(m.impl=n.get(m0));const A=null!==(d=null==i?void 0:i.phase)&&void 0!==d?d:Og.MixedReadWrite,D=!0!==(null==i?void 0:i.manualCleanup)?n.get(_u):null,V=new Nw(m.impl,function kw(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,A),o,D);return m.impl.register(V),V}(e,o,n,!0)):RC}const RC={destroy(){}};function KE(e,n,i,o){const a=en();return ys(a,ms(),n)&&(si(),Sa(qi(),a,e,n,i,o)),KE}function I0(e,n){return e<<17|n<<2}function yh(e){return e>>17&32767}function qE(e){return 2|e}function tp(e){return(131068&e)>>2}function XE(e,n){return-131069&e|n<<2}function QE(e){return 1|e}function tT(e,n,i,o){const a=e[i+1],d=null===n;let m=o?yh(a):tp(a),A=!1;for(;0!==m&&(!1===A||d);){const V=e[m+1];vS(e[m],n)&&(A=!0,e[m+1]=o?QE(V):qE(V)),m=o?yh(V):tp(V)}A&&(e[i+1]=o?qE(a):QE(a))}function vS(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Qo(e,n)>=0}function YE(e,n,i){const o=en();return ys(o,ms(),n)&&ca(si(),qi(),o,e,n,o[Sr],i,!1),YE}function ZE(e,n,i,o,a){const m=a?"class":"style";dg(e,i,n.inputs[m],m,o)}function JE(e,n){return function ku(e,n,i,o){const a=en(),d=si(),m=function Ea(e){const n=kr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}(2);d.firstUpdatePass&&function cT(e,n,i,o){const a=e.data;if(null===a[i+1]){const d=a[Go()],m=function uT(e,n){return n>=e.expandoStartIndex}(e,i);(function pT(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!m&&(n=!1),n=function DS(e,n,i,o){const a=function ml(e){const n=kr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===a)0===(o?n.classBindings:n.styleBindings)&&(i=c_(i=eA(null,e,n,i,o),n.attrs,o),d=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==a)if(i=eA(a,e,n,i,o),null===d){let D=function wS(e,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==tp(o))return e[yh(o)]}(e,n,o);void 0!==D&&Array.isArray(D)&&(D=eA(null,e,n,D[1],o),D=c_(D,n.attrs,o),function SS(e,n,i,o){e[yh(i?n.classBindings:n.styleBindings)]=o}(e,n,o,D))}else d=function RS(e,n,i){let o;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)o=c_(o,e[d].hostAttrs,i);return c_(o,n.attrs,i)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),i}(a,d,n,o),function gS(e,n,i,o,a,d){let m=d?n.classBindings:n.styleBindings,A=yh(m),D=tp(m);e[o]=i;let Q,V=!1;if(Array.isArray(i)?(Q=i[1],(null===Q||Qo(i,Q)>0)&&(V=!0)):Q=i,a)if(0!==D){const Pe=yh(e[A+1]);e[o+1]=I0(Pe,A),0!==Pe&&(e[Pe+1]=XE(e[Pe+1],o)),e[A+1]=function fS(e,n){return 131071&e|n<<17}(e[A+1],o)}else e[o+1]=I0(A,0),0!==A&&(e[A+1]=XE(e[A+1],o)),A=o;else e[o+1]=I0(D,0),0===A?A=o:e[D+1]=XE(e[D+1],o),D=o;V&&(e[o+1]=qE(e[o+1])),tT(e,Q,o,!0),tT(e,Q,o,!1),function mS(e,n,i,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&Qo(d,n)>=0&&(i[o+1]=QE(i[o+1]))}(n,Q,e,o,d),m=I0(A,D),d?n.classBindings=m:n.styleBindings=m}(a,d,n,i,m,o)}}(d,e,m,o),n!==Wr&&ys(a,m,n)&&function hT(e,n,i,o,a,d,m,A){if(!(3&n.type))return;const D=e.data,V=D[A+1],Q=function pS(e){return!(1&~e)}(V)?fT(D,n,i,a,tp(V),m):void 0;E0(Q)||(E0(d)||function hS(e){return!(2&~e)}(V)&&(d=fT(D,null,i,a,A,m)),function PI(e,n,i,o,a){if(n)a?e.addClass(i,o):e.removeClass(i,o);else{let d=-1===o.indexOf("-")?void 0:lc.DashCase;null==a?e.removeStyle(i,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=lc.Important),e.setStyle(i,o,a,d))}}(o,m,ju(Go(),i),a,d))}(d,d.data[Go()],a,a[Sr],e,a[m+1]=function NS(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Yr(oc(e)))),e}(n,i),o,m)}(e,n,null,!0),JE}function eA(e,n,i,o,a){let d=null;const m=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<m&&(d=n[A],o=c_(o,d.hostAttrs,a),d!==e);)A++;return null!==e&&(i.directiveStylingLast=A),o}function c_(e,n,i){const o=i?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?a=m:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ui(e,m,!!i||n[++d]))}return void 0===e?null:e}function fT(e,n,i,o,a,d){const m=null===n;let A;for(;a>0;){const D=e[a],V=Array.isArray(D),Q=V?D[1]:D,ne=null===Q;let Pe=i[a+1];Pe===Wr&&(Pe=ne?ar:void 0);let Be=ne?ro(Pe,o):Q===o?Pe:void 0;if(V&&!E0(Be)&&(Be=ro(D,o)),E0(Be)&&(A=Be,m))return A;const ke=e[a+1];a=m?yh(ke):tp(ke)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(A=ro(D,o))}return A}function E0(e){return void 0!==e}function C0(e,n,i,o){const a=en(),d=si(),m=or+e,A=a[Sr],D=d.firstCreatePass?function nR(e,n,i,o,a,d){const m=n.consts,D=sh(n,e,2,o,Ls(m,a));return Ty(n,i,D,Ls(m,d)),null!==D.attrs&&ol(D,D.attrs,!1),null!==D.mergedAttrs&&ol(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(m,d,a,n,i,o):d.data[m],V=_T(d,a,D,A,n,e);a[m]=V;const Q=ru(D);return Ds(D,!0),vy(A,V,D),!function xg(e){return!(32&~e.flags)}(D)&&cu()&&ig(d,a,V,D),0===function sp(){return kr.lFrame.elementDepthCount}()&&es(V,a),function nm(){kr.lFrame.elementDepthCount++}(),Q&&(pv(d,a,D),fv(d,D,a)),null!==o&&gv(a,D),C0}function T0(){let e=Ci();Rc()?Mc():(e=e.parent,Ds(e,!1));const n=e;(function Vl(e){return kr.skipHydrationRootTNode===e})(n)&&function gl(){kr.skipHydrationRootTNode=null}(),function Th(){kr.lFrame.elementDepthCount--}();const i=si();return i.firstCreatePass&&(vd(i,e),ma(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function b_(e){return!!(8&e.flags)}(n)&&ZE(i,n,en(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function mp(e){return!!(16&e.flags)}(n)&&ZE(i,n,en(),n.stylesWithoutHost,!1),T0}function iA(e,n,i,o){return C0(e,n,i,o),T0(),iA}let _T=(e,n,i,o,a,d)=>(ua(!0),eg(o,a,function Wu(){return kr.lFrame.currentNamespace}()));function b0(e,n,i){const o=en(),a=si(),d=e+or,m=a.firstCreatePass?function oR(e,n,i,o,a){const d=n.consts,m=Ls(d,o),A=sh(n,e,8,"ng-container",m);return null!==m&&ol(A,m,!0),Ty(n,i,A,Ls(d,a)),null!==n.queries&&n.queries.elementStart(n,A),A}(d,a,o,n,i):a.data[d];Ds(m,!0);const A=yT(a,o,m,e);return o[d]=A,cu()&&ig(a,o,A,m),es(A,o),ru(m)&&(pv(a,o,m),fv(a,m,o)),null!=i&&gv(o,m),b0}function D0(){let e=Ci();const n=si();return Rc()?Mc():(e=e.parent,Ds(e,!1)),n.firstCreatePass&&(vd(n,e),ma(e)&&n.queries.elementEnd(e)),D0}function oA(e,n,i){return b0(e,n,i),D0(),oA}let yT=(e,n,i,o)=>(ua(!0),rh(n[Sr],""));function IT(){return en()}const np=void 0;var uR=["en",[["a","p"],["AM","PM"],np],[["AM","PM"],np,np],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],np,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],np,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",np,"{1} 'at' {0}",np],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lR(e){const i=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Qg={};function sA(e){const n=function cR(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=TT(n);if(i)return i;const o=n.split("-")[0];if(i=TT(o),i)return i;if("en"===o)return uR;throw new ft(701,!1)}function CT(e){return sA(e)[Yg.PluralCase]}function TT(e){return e in Qg||(Qg[e]=pr.ng&&pr.ng.common&&pr.ng.common.locales&&pr.ng.common.locales[e]),Qg[e]}var Yg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Yg||{});const w0="en-US";let bT=w0,HT=(e,n,i)=>{};function uA(e,n,i,o){const a=en(),d=si(),m=Ci();return cA(d,a,a[Sr],m,e,n,o),uA}function cA(e,n,i,o,a,d,m){const A=ru(o),V=e.firstCreatePass&&Ua(e),Q=n[Li],ne=fc(n);let Pe=!0;if(3&o.type||m){const jt=Fs(o,n),fn=m?m(jt):jt,Dn=ne.length,tn=m?qr=>m(pi(qr[o.index])):o.index;let Rr=null;if(!m&&A&&(Rr=function ZR(e,n,i,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const m=a[d];if(m===i&&a[d+1]===o){const A=n[Fo],D=a[d+2];return A.length>D?A[D]:null}"string"==typeof m&&(d+=2)}return null}(e,n,a,o.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=d,Rr.__ngLastListenerFn__=d,Pe=!1;else{d=KT(o,n,Q,d),HT(jt,a,d);const qr=i.listen(fn,a,d);ne.push(d,qr),V&&V.push(a,tn,Dn,Dn+1)}}else d=KT(o,n,Q,d);const Be=o.outputs;let ke;if(Pe&&null!==Be&&(ke=Be[a])){const jt=ke.length;if(jt)for(let fn=0;fn<jt;fn+=2){const To=n[ke[fn]][ke[fn+1]].subscribe(d),$s=ne.length;ne.push(d,To),V&&V.push(a,o.index,$s,-($s+1))}}}function WT(e,n,i,o){const a=he(null);try{return Xa(6,n,i),!1!==i(o)}catch(d){return _f(e,d),!1}finally{Xa(7,n,i),he(a)}}function KT(e,n,i,o){return function a(d){if(d===Function)return o;Ef(e.componentOffset>-1?Hs(e.index,n):n,5);let A=WT(n,i,o,d),D=a.__ngNextListenerFn__;for(;D;)A=WT(n,i,D,d)&&A,D=D.__ngNextListenerFn__;return A}}function qT(e=1){return function hp(e){return(kr.lFrame.contextLView=function Dc(e,n){for(;e>0;)n=n[qa],e--;return n}(e,kr.lFrame.contextLView))[Li]}(e)}function JR(e,n){let i=null;const o=function z(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===o?br(e,d,!0):B(o,d))return a}else i=a}return i}function XT(e){const n=en()[oo][Fi];if(!n.projection){const o=n.projection=function Bo(e,n){const i=[];for(let o=0;o<e;o++)i.push(n);return i}(e?e.length:1,null),a=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const m=e?JR(d,e):0;null!==m&&(a[m]?a[m].projectionNext=d:o[m]=d,a[m]=d)}d=d.next}}}function QT(e,n=0,i,o,a,d){const m=en(),A=si(),D=o?e+1:null;null!==D&&s_(m,A,D,o,a,d,null,i);const V=sh(A,or+e,16,null,i||null);null===V.projection&&(V.projection=n),Mc();const ne=!m[ko]||Gs();null===m[oo][Fi].projection[V.projection]&&null!==D?function eM(e,n,i){const o=or+i,a=n.data[o],d=e[o],m=Ql(d,a.tView.ssrId);il(d,Dl(e,a,void 0,{dehydratedView:m}),0,Tu(a,m))}(m,A,D):ne&&32&~V.flags&&function MI(e,n,i){dv(n[Sr],0,n,i,ff(e,i,n),RI(i.parent||n[Fi],i,n))}(A,m,V)}function sb(e,n,i,o){!function Qv(e,n,i,o){const a=si();if(a.firstCreatePass){const d=Ci();vh(a,new gh(n,i,o),d.index),function a0(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(a,e),!(2&~i)&&(a.staticContentQueries=!0)}return Xv(a,en(),i)}(e,n,i,o)}function ab(e,n,i){!function Yl(e,n,i){const o=si();return o.firstCreatePass&&(vh(o,new gh(e,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),Xv(o,en(),n)}(e,n,i)}function lb(e){const n=en(),i=si(),o=Za();Nc(o+1);const a=qf(i,o);if(e.dirty&&function Tc(e){return!(4&~e[Jn])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=Xf(n,o);e.reset(d,D_),e.notifyOnChanges()}return!0}return!1}function ub(){return function mh(e,n){return e[Ro].queries[n].queryList}(en(),Za())}function yb(e,n=""){const i=en(),o=si(),a=e+or,d=o.firstCreatePass?sh(o,a,1,n,null):o.data[a],m=Ib(o,i,d,n,e);i[a]=m,cu()&&ig(o,i,m,d),Ds(d,!1)}let Ib=(e,n,i,o,a)=>(ua(!0),function df(e,n){return e.createText(n)}(n[Sr],o));function fA(e){return pA("",e,""),fA}function pA(e,n,i){const o=en(),a=function $g(e,n,i,o){return ys(e,ms(),i)?n+$t(i)+o:Wr}(o,e,n,i);return a!==Wr&&function Ba(e,n,i){const o=ju(n,e);!function uy(e,n,i){e.setValue(n,i)}(e[Sr],o,i)}(o,Go(),a),pA}function gA(e,n,i){Mg(n)&&(n=n());const o=en();return ys(o,ms(),n)&&ca(si(),qi(),o,e,n,o[Sr],i,!1),gA}function Rb(e,n){const i=Mg(e);return i&&e.set(n),i}function mA(e,n){const i=en(),o=si(),a=Ci();return cA(o,i,i[Sr],a,e,n),mA}function vA(e,n,i,o,a){if(e=Je(e),Array.isArray(e))for(let d=0;d<e.length;d++)vA(e[d],n,i,o,a);else{const d=si(),m=en(),A=Ci();let D=js(e)?e:Je(e.provide);const V=Ka(e),Q=1048575&A.providerIndexes,ne=A.directiveStart,Pe=A.providerIndexes>>20;if(js(e)||!e.multi){const Be=new Fc(V,a,oh),ke=yA(D,n,a?Q:Q+Pe,ne);-1===ke?(Uc(Vc(A,m),d,D),_A(d,e,n.length),n.push(D),A.directiveStart++,A.directiveEnd++,a&&(A.providerIndexes+=1048576),i.push(Be),m.push(Be)):(i[ke]=Be,m[ke]=Be)}else{const Be=yA(D,n,Q+Pe,ne),ke=yA(D,n,Q,Q+Pe),fn=ke>=0&&i[ke];if(a&&!fn||!a&&!(Be>=0&&i[Be])){Uc(Vc(A,m),d,D);const Dn=function EM(e,n,i,o,a){const d=new Fc(e,i,oh);return d.multi=[],d.index=n,d.componentProviders=0,xb(d,a,o&&!i),d}(a?IM:yM,i.length,a,o,V);!a&&fn&&(i[ke].providerFactory=Dn),_A(d,e,n.length,0),n.push(D),A.directiveStart++,A.directiveEnd++,a&&(A.providerIndexes+=1048576),i.push(Dn),m.push(Dn)}else _A(d,e,Be>-1?Be:ke,xb(i[a?ke:Be],V,!a&&o));!a&&o&&fn&&i[ke].componentProviders++}}}function _A(e,n,i,o){const a=js(n),d=function Ol(e){return!!e.useClass}(n);if(a||d){const D=(d?Je(n.useClass):n).prototype.ngOnDestroy;if(D){const V=e.destroyHooks||(e.destroyHooks=[]);if(!a&&n.multi){const Q=V.indexOf(i);-1===Q?V.push(i,[o,D]):V[Q+1].push(o,D)}else V.push(i,D)}}}function xb(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function yA(e,n,i,o){for(let a=i;a<o;a++)if(n[a]===e)return a;return-1}function yM(e,n,i,o){return IA(this.multi,[])}function IM(e,n,i,o){const a=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,A=yl(i,i[gn],this.providerFactory.index,o);d=A.slice(0,m),IA(a,d);for(let D=m;D<A.length;D++)d.push(A[D])}else d=[],IA(a,d);return d}function IA(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function Nb(e,n=[]){return i=>{i.providersResolver=(o,a)=>function _M(e,n,i){const o=si();if(o.firstCreatePass){const a=Os(e);vA(i,o.data,o.blueprint,a,!0),vA(n,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,n)}}let AM=(()=>{var e;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=xl(0,o.type),d=a.length>0?OE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=n).\u0275prov=Pr({token:e,providedIn:"environment",factory:()=>new e(qe(bs))}),n})();function Ob(e){Rs("NgStandalone"),e.getStandaloneInjector=n=>n.get(AM).getOrCreateStandaloneInjector(e)}class rD{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const dP=new rD("18.2.13");let iD=(()=>{var e;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();const lD=new Ln(""),uD=new Ln("");let wA,LP=(()=>{var e;class n{constructor(o,a,d){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wA||(function VP(e){wA=e}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==m),o()},a)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}}return(e=n).\u0275fac=function(o){return new(o||e)(qe(T),qe(cD),qe(uD))},e.\u0275prov=Pr({token:e,factory:e.\u0275fac}),n})(),cD=(()=>{var e;class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var d,m;return null!==(d=null===(m=wA)||void 0===m?void 0:m.findTestabilityInTree(this,o,a))&&void 0!==d?d:null}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();function SA(e){return!!e&&"function"==typeof e.then}function dD(e){return!!e&&"function"==typeof e.subscribe}const hD=new Ln("");let fD=(()=>{var e;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=null!==(o=_t(hD,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const m=d();if(SA(m))o.push(m);else if(dD(m)){const A=new Promise((D,V)=>{m.subscribe({complete:D,error:V})});o.push(A)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const k0=new Ln("");function gD(e,n){return Array.isArray(n)?n.reduce(gD,e):{...e,...n}}let Ic=(()=>{var e;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_t(xd),this.afterRenderManager=_t(wC),this.zonelessEnabled=_t(dh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Fr.B,this.afterTick=new Fr.B,this.componentTypes=[],this.components=[],this.isStable=_t(El).hasPendingTasks.pipe((0,dr.T)(o=>!o)),this._injector=_t(bs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:d=>{d&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof Bv;if(!this._injector.get(fD).done)throw!d&&Yo(o),new ft(405,!1);let A;A=d?o:this._injector.get(Mu).resolveComponentFactory(o),this.componentTypes.push(A.componentType);const D=function UP(e){return e.isBoundToModule}(A)?void 0:this._injector.get(Zf),Q=A.create(vs.NULL,[],a||A.selector,D),ne=Q.location.nativeElement,Pe=Q.injector.get(lD,null);return null==Pe||Pe.registerApplication(ne),Q.onDestroy(()=>{this.detachView(Q.hostView),F0(this.components,Q),null==Pe||Pe.unregisterApplication(ne)}),this._loadComponent(Q),Q}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ft(101,!1);const o=he(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,he(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(Pu,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:A,notifyErrorHandler:D}of this._views)jP(A,D,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,d;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>wc(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;F0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(k0,[]);[...this._bootstrapListeners,...a].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>F0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ft(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function F0(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function jP(e,n,i,o){(i||wc(e))&&fg(e,n,i&&!o?0:1)}class HP{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let zP=(()=>{var e;class n{compileModuleSync(o){return new NE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),m=qs(Eo(o).declarations).reduce((A,D)=>{const V=jr(D);return V&&A.push(new eo(V)),A},[]);return new HP(a,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),KP=(()=>{var e;class n{constructor(){this.zone=_t(T),this.changeDetectionScheduler=_t($a),this.applicationRef=_t(Ic)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function RA({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new T({...MA(),scheduleInRootZone:i})),[{provide:T,useFactory:e},{provide:Br,multi:!0,useFactory:()=>{const a=_t(KP,{optional:!0});return()=>a.initialize()}},{provide:Br,multi:!0,useFactory:()=>{const a=_t(XP);return()=>{a.initialize()}}},!0===n?{provide:yg,useValue:!0}:[],{provide:Vf,useValue:null!=i?i:Zu}]}function MA(e){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==e?void 0:e.runCoalescing)&&void 0!==i&&i}}let XP=(()=>{var e;class n{constructor(){this.subscription=new Gn.yU,this.initialized=!1,this.zone=_t(T),this.pendingTasks=_t(El)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{T.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;T.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),E_=(()=>{var e;class n{constructor(){var o,a,d;this.appRef=_t(Ic),this.taskService=_t(El),this.ngZone=_t(T),this.zonelessEnabled=_t(dh),this.disableScheduling=null!==(o=_t(yg,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Gn.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(h):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=_t(Vf,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Kn||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?bp:_s;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const xA=new Ln("",{providedIn:"root",factory:()=>_t(xA,xr.Optional|xr.SkipSelf)||function QP(){return typeof $localize<"u"&&$localize.locale||w0}()}),YP=new Ln("",{providedIn:"root",factory:()=>"USD"}),L0=new Ln("");function V0(e){return!e.moduleRef}let AD=(()=>{var e;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=null==a?void 0:a.scheduleInRootZone,D=[RA({ngZoneFactory:()=>function Pd(e="zone.js",n){return"noop"===e?new Kn:"zone.js"===e?new T(n):e}(null==a?void 0:a.ngZone,{...MA({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:$a,useExisting:E_}],V=function Tw(e,n,i){return new xE(e,n,i,!1)}(o.moduleType,this.injector,D);return function ED(e){const n=V0(e)?e.r3Injector:e.moduleRef.injector,i=n.get(T);return i.run(()=>{V0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(Da,null);let a;if(i.runOutsideAngular(()=>{a=i.onError.subscribe({next:d=>{o.handleError(d)}})}),V0(e)){const d=()=>n.destroy(),m=e.platformInjector.get(L0);m.add(d),n.onDestroy(()=>{a.unsubscribe(),m.delete(d)})}else{const d=()=>e.moduleRef.destroy(),m=e.platformInjector.get(L0);m.add(d),e.moduleRef.onDestroy(()=>{F0(e.allPlatformModules,e.moduleRef),a.unsubscribe(),m.delete(d)})}return function $P(e,n,i){try{const o=i();return SA(o)?o.catch(a=>{throw n.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,i,()=>{const d=n.get(fD);return d.runInitializers(),d.donePromise.then(()=>{if(function pR(e){"string"==typeof e&&(bT=e.toLowerCase().replace(/_/g,"-"))}(n.get(xA,w0)||w0),V0(e)){const A=n.get(Ic);return void 0!==e.rootComponent&&A.bootstrap(e.rootComponent),A}return function nx(e,n){const i=e.injector.get(Ic);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new ft(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:V,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,a=[]){const d=gD({},a);return function WP(e,n,i){const o=new NE(i);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(L0,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=n).\u0275fac=function(o){return new(o||e)(qe(vs))},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})(),Ih=null;const CD=new Ln("");function TD(e,n,i=[]){const o=`Platform: ${n}`,a=new Ln(o);return(d=[])=>{let m=NA();if(!m||m.injector.get(CD,!1)){const A=[...i,...d,{provide:a,useValue:!0}];e?e(A):function rx(e){if(Ih&&!Ih.get(CD,!1))throw new ft(400,!1);(function pD(){!function _e(e){Un=e}(()=>{throw new ft(600,!1)})})(),Ih=e;const n=e.get(AD);(function DD(e){const n=e.get(kp,null);null==n||n.forEach(i=>i())})(e)}(function bD(e=[],n){return vs.create({name:n,providers:[{provide:Oa,useValue:"platform"},{provide:L0,useValue:new Set([()=>Ih=null])},...e]})}(A,o))}return function ix(){const n=NA();if(!n)throw new ft(401,!1);return n}()}}function NA(){var e,n;return null!==(e=null===(n=Ih)||void 0===n?void 0:n.get(AD))&&void 0!==e?e:null}function sx(){return!1}let SD=(()=>{class n{}return n.__NG_ELEMENT_ID__=ax,n})();function ax(e){return function lx(e,n,i){if(Ns(e)&&!i){const o=Hs(e.index,n);return new Af(o,o)}return 175&e.type?new Af(n[oo],n):null}(Ci(),en(),!(16&~e))}class xD{constructor(){}supports(n){return d0(n)}create(n){return new fx(n)}}const hx=(e,n)=>n;class fx{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||hx}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,a=0,d=null;for(;i||o;){const m=!o||i&&i.currentIndex<OD(o,a,d)?i:o,A=OD(m,a,d),D=m.currentIndex;if(m===o)a--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)a++;else{d||(d=[]);const V=A-a,Q=D-a;if(V!=Q){for(let Pe=0;Pe<V;Pe++){const Be=Pe<d.length?d[Pe]:d[Pe]=0,ke=Be+Pe;Q<=ke&&ke<V&&(d[Pe]=Be+1)}d[m.previousIndex]=Q-V}}A!==D&&n(m,A,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!d0(n))throw new ft(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)d=n[A],m=this._trackByFn(A,d),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,d,m,A)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,m,A),o=!0),i=i._next}else a=0,function ww(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,A=>{m=this._trackByFn(a,A),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,A,m,a)),Object.is(i.item,A)||this._addIdentityChange(i,A)):(i=this._mismatch(i,A,m,a),o=!0),i=i._next,a++}),this.length=a;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,a)):n=this._addAfter(new px(i,o),d,a),n}_verifyReinsertion(n,i,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const a=null===i?this._itHead:i._next;return n._next=a,n._prev=i,null===a?this._itTail=n:a._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new ND),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ND),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class px{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gx{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class ND{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new gx,this.map.set(i,o)),o.add(n)}get(n,i){const a=this.map.get(n);return a?a.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OD(e,n,i){const o=e.previousIndex;if(null===o)return o;let a=0;return i&&o<i.length&&(a=i[o]),o+n+a}class kD{constructor(){}supports(n){return n instanceof Map||kE(n)}create(){return new mx}}class mx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||kE(n)))throw new ft(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,a)=>{if(i&&i.key===a)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(a,o);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,i);const d=a._prev,m=a._next;return d&&(d._next=m),m&&(m._prev=d),a._next=null,a._prev=null,a}const o=new vx(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class vx{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FD(){return new VA([new xD])}let VA=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||FD()),deps:[[n,new ri,new ci]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new ft(901,!1)}}return(e=n).\u0275prov=Pr({token:e,providedIn:"root",factory:FD}),n})();function LD(){return new UA([new kD])}let UA=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||LD()),deps:[[n,new ri,new ci]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new ft(901,!1)}}return(e=n).\u0275prov=Pr({token:e,providedIn:"root",factory:LD}),n})();const Ix=TD(null,"core",[]);let Ex=(()=>{var e;class n{constructor(o){}}return(e=n).\u0275fac=function(o){return new(o||e)(qe(Ic))},e.\u0275mod=io({type:e}),e.\u0275inj=it({}),n})();function Zx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function eN(e,n){Rs("NgSignals");const i=function wt(e){const n=Object.create(wn);n.computation=e;const i=()=>{if(Ue(n),ce(n),n.value===Xt)throw n.error;return n.value};return i[De]=n,i}(e);return null!=n&&n.equal&&(i[De].equal=n.equal),i}function tN(e){const n=he(null);try{return e()}finally{he(n)}}function aN(e,n){const i=jr(e),o=n.elementInjector||ia();return new eo(i).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function lN(e){const n=jr(e);if(!n)return null;const i=new eo(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},8136:(Rn,ht,j)=>{"use strict";j.d(ht,{ap:()=>Jr,y5:()=>Ai});var c=j(9842),f=j(574),xe=j(1985),H=j(7673),De=j(8455),he=j(3236),te=j(9974),Ne=j(4360),Ae=j(6354),ce=j(5558),Re=j(4438),Ue=j(9253),Le=j(9574),lt=j(467),at=j(2979),tt=j(1401),rt=j(8779);const pt="firebasestorage.googleapis.com",ut="storageBucket";class He extends tt.g{constructor(W,fe,Me=0){super(Ct(W),`Firebase Storage: ${fe} (${Ct(W)})`),this.status_=Me,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(W){this.status_=W}_codeEquals(W){return Ct(W)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(W){this.customData.serverResponse=W,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Xe=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(Xe||{});function Ct(q){return"storage/"+q}function wt(){return new He(Xe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Un(){return new He(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ut(){return new He(Xe.CANCELED,"User canceled the upload/download.")}function J(){return new He(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ze(q){return new He(Xe.INVALID_ARGUMENT,q)}function mt(){return new He(Xe.APP_DELETED,"The Firebase app was deleted.")}function _n(q){return new He(Xe.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ln(q,W){return new He(Xe.INVALID_FORMAT,"String does not match format '"+q+"': "+W)}function Hn(q){throw new He(Xe.INTERNAL_ERROR,"Internal error: "+q)}class mn{constructor(W,fe){this.bucket=W,this.path_=fe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const W=encodeURIComponent;return"/b/"+W(this.bucket)+"/o/"+W(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(W,fe){let Me;try{Me=mn.makeFromUrl(W,fe)}catch{return new mn(W,"")}if(""===Me.path)return Me;throw function ye(q){return new He(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(W)}static makeFromUrl(W,fe){let Me=null;const je="([A-Za-z0-9.\\-_]+)",$n=new RegExp("^gs://"+je+"(/(.*))?$","i");function Qn(ii){ii.path_=decodeURIComponent(ii.path)}const z=fe.replace(/[.]/g,"\\."),$r=[{regex:$n,indices:{bucket:1,path:3},postModify:function bt(ii){"/"===ii.path.charAt(ii.path.length-1)&&(ii.path_=ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${z}/v[A-Za-z0-9_]+/b/${je}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Qn},{regex:new RegExp(`^https?://${fe===pt?"(?:storage.googleapis.com|storage.cloud.google.com)":fe}/${je}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Qn}];for(let ii=0;ii<$r.length;ii++){const Io=$r[ii],io=Io.regex.exec(W);if(io){let Oo=io[Io.indices.path];Oo||(Oo=""),Me=new mn(io[Io.indices.bucket],Oo),Io.postModify(Me);break}}if(null==Me)throw function _e(q){return new He(Xe.INVALID_URL,"Invalid URL '"+q+"'.")}(W);return Me}}class Nt{constructor(W){this.promise_=Promise.reject(W)}getPromise(){return this.promise_}cancel(W=!1){}}function zr(q){return"string"==typeof q||q instanceof String}function Gt(q){return St()&&q instanceof Blob}function St(){return typeof Blob<"u"}function zt(q,W,fe,Me){if(Me<W)throw Ze(`Invalid value for '${q}'. Expected ${W} or greater.`);if(Me>fe)throw Ze(`Invalid value for '${q}'. Expected ${fe} or less.`)}function ft(q,W,fe){let Me=W;return null==fe&&(Me=`https://${W}`),`${fe}://${Me}/v0${q}`}function hr(q){const W=encodeURIComponent;let fe="?";for(const Me in q)q.hasOwnProperty(Me)&&(fe=fe+(W(Me)+"=")+W(q[Me])+"&");return fe=fe.slice(0,-1),fe}var fr=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(fr||{});function Nn(q,W){const fe=q>=500&&q<600,je=-1!==[408,429].indexOf(q),bt=-1!==W.indexOf(q);return fe||je||bt}class Bn{constructor(W,fe,Me,je,bt,dn,$n,Mn,Qn,br,z,P=!0){this.url_=W,this.method_=fe,this.headers_=Me,this.body_=je,this.successCodes_=bt,this.additionalRetryCodes_=dn,this.callback_=$n,this.errorCallback_=Mn,this.timeout_=Qn,this.progressCallback_=br,this.connectionFactory_=z,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,B)=>{this.resolve_=Z,this.reject_=B,this.start_()})}start_(){const fe=(Me,je)=>{const bt=this.resolve_,dn=this.reject_,$n=je.connection;if(je.wasSuccessCode)try{const Mn=this.callback_($n,$n.getResponse());!function Gn(q){return void 0!==q}(Mn)?bt():bt(Mn)}catch(Mn){dn(Mn)}else if(null!==$n){const Mn=wt();Mn.serverResponse=$n.getErrorText(),dn(this.errorCallback_?this.errorCallback_($n,Mn):Mn)}else dn(je.canceled?this.appDelete_?mt():Ut():Un())};this.canceled_?fe(0,new _r(!1,null,!0)):this.backoffId_=function Mr(q,W,fe){let Me=1,je=null,bt=null,dn=!1,$n=0;function Mn(){return 2===$n}let Qn=!1;function br(...Kt){Qn||(Qn=!0,W.apply(null,Kt))}function z(Kt){je=setTimeout(()=>{je=null,q(Z,Mn())},Kt)}function P(){bt&&clearTimeout(bt)}function Z(Kt,...jn){if(Qn)return void P();if(Kt)return P(),void br.call(null,Kt,...jn);if(Mn()||dn)return P(),void br.call(null,Kt,...jn);let $r;Me<64&&(Me*=2),1===$n?($n=2,$r=0):$r=1e3*(Me+Math.random()),z($r)}let B=!1;function de(Kt){B||(B=!0,P(),!Qn&&(null!==je?(Kt||($n=2),clearTimeout(je),z(0)):Kt||($n=1)))}return z(0),bt=setTimeout(()=>{dn=!0,de(!0)},fe),de}((Me,je)=>{if(je)return void Me(!1,new _r(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const dn=$n=>{null!==this.progressCallback_&&this.progressCallback_($n.loaded,$n.lengthComputable?$n.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(dn),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(dn),this.pendingConnection_=null;const $n=bt.getErrorCode()===fr.NO_ERROR,Mn=bt.getStatus();if(!$n||Nn(Mn,this.additionalRetryCodes_)&&this.retry){const br=bt.getErrorCode()===fr.ABORT;return void Me(!1,new _r(!1,null,br))}const Qn=-1!==this.successCodes_.indexOf(Mn);Me(!0,new _r(Qn,bt))})},fe,this.timeout_)}getPromise(){return this.promise_}cancel(W){this.canceled_=!0,this.appDelete_=W||!1,null!==this.backoffId_&&function Fr(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _r{constructor(W,fe,Me){this.wasSuccessCode=W,this.connection=fe,this.canceled=!!Me}}function ir(...q){const W=function mr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==W){const fe=new W;for(let Me=0;Me<q.length;Me++)fe.append(q[Me]);return fe.getBlob()}if(St())return new Blob(q);throw new He(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $i{constructor(W,fe){this.data=W,this.contentType=fe||null}}function ai(q,W){switch(q){case pr.RAW:return new $i(ur(W));case pr.BASE64:case pr.BASE64URL:return new $i(Yr(q,W));case pr.DATA_URL:return new $i(function st(q){const W=new Rt(q);return W.base64?Yr(pr.BASE64,W.rest):function Pi(q){let W;try{W=decodeURIComponent(q)}catch{throw ln(pr.DATA_URL,"Malformed data URL.")}return ur(W)}(W.rest)}(W),function kt(q){return new Rt(q).contentType}(W))}throw wt()}function ur(q){const W=[];for(let fe=0;fe<q.length;fe++){let Me=q.charCodeAt(fe);Me<=127?W.push(Me):Me<=2047?W.push(192|Me>>6,128|63&Me):55296==(64512&Me)?fe<q.length-1&&56320==(64512&q.charCodeAt(fe+1))?(Me=65536|(1023&Me)<<10|1023&q.charCodeAt(++fe),W.push(240|Me>>18,128|Me>>12&63,128|Me>>6&63,128|63&Me)):W.push(239,191,189):56320==(64512&Me)?W.push(239,191,189):W.push(224|Me>>12,128|Me>>6&63,128|63&Me)}return new Uint8Array(W)}function Yr(q,W){switch(q){case pr.BASE64:{const je=-1!==W.indexOf("-"),bt=-1!==W.indexOf("_");if(je||bt)throw ln(q,"Invalid character '"+(je?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const je=-1!==W.indexOf("+"),bt=-1!==W.indexOf("/");if(je||bt)throw ln(q,"Invalid character '"+(je?"+":"/")+"' found: is it base64 encoded?");W=W.replace(/-/g,"+").replace(/_/g,"/");break}}let fe;try{fe=function Mi(q){if(typeof atob>"u")throw function Fe(q){return new He(Xe.UNSUPPORTED_ENVIRONMENT,`${q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(q)}(W)}catch(je){throw je.message.includes("polyfill")?je:ln(q,"Invalid character found")}const Me=new Uint8Array(fe.length);for(let je=0;je<fe.length;je++)Me[je]=fe.charCodeAt(je);return Me}class Rt{constructor(W){this.base64=!1,this.contentType=null;const fe=W.match(/^data:([^,]+)?,/);if(null===fe)throw ln(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Me=fe[1]||null;null!=Me&&(this.base64=function Qe(q,W){return q.length>=W.length&&q.substring(q.length-W.length)===W}(Me,";base64"),this.contentType=this.base64?Me.substring(0,Me.length-7):Me),this.rest=W.substring(W.indexOf(",")+1)}}class Je{constructor(W,fe){let Me=0,je="";Gt(W)?(this.data_=W,Me=W.size,je=W.type):W instanceof ArrayBuffer?(fe?this.data_=new Uint8Array(W):(this.data_=new Uint8Array(W.byteLength),this.data_.set(new Uint8Array(W))),Me=this.data_.length):W instanceof Uint8Array&&(fe?this.data_=W:(this.data_=new Uint8Array(W.length),this.data_.set(W)),Me=W.length),this.size_=Me,this.type_=je}size(){return this.size_}type(){return this.type_}slice(W,fe){if(Gt(this.data_)){const je=function sr(q,W,fe){return q.webkitSlice?q.webkitSlice(W,fe):q.mozSlice?q.mozSlice(W,fe):q.slice?q.slice(W,fe):null}(this.data_,W,fe);return null===je?null:new Je(je)}{const Me=new Uint8Array(this.data_.buffer,W,fe-W);return new Je(Me,!0)}}static getBlob(...W){if(St()){const fe=W.map(Me=>Me instanceof Je?Me.data_:Me);return new Je(ir.apply(null,fe))}{const fe=W.map(dn=>zr(dn)?ai(pr.RAW,dn).data:dn.data_);let Me=0;fe.forEach(dn=>{Me+=dn.byteLength});const je=new Uint8Array(Me);let bt=0;return fe.forEach(dn=>{for(let $n=0;$n<dn.length;$n++)je[bt++]=dn[$n]}),new Je(je,!0)}}uploadData(){return this.data_}}function sn(q){let W;try{W=JSON.parse(q)}catch{return null}return function nr(q){return"object"==typeof q&&!Array.isArray(q)}(W)?W:null}function Ve(q){const W=q.lastIndexOf("/",q.length-2);return-1===W?q:q.slice(W+1)}function Ot(q,W){return W}class Ye{constructor(W,fe,Me,je){this.server=W,this.local=fe||W,this.writable=!!Me,this.xform=je||Ot}}let Cn=null;function Bt(){if(Cn)return Cn;const q=[];q.push(new Ye("bucket")),q.push(new Ye("generation")),q.push(new Ye("metageneration")),q.push(new Ye("name","fullPath",!0));const fe=new Ye("name");fe.xform=function W(bt,dn){return function Fn(q){return!zr(q)||q.length<2?q:Ve(q)}(dn)},q.push(fe);const je=new Ye("size");return je.xform=function Me(bt,dn){return void 0!==dn?Number(dn):dn},q.push(je),q.push(new Ye("timeCreated")),q.push(new Ye("updated")),q.push(new Ye("md5Hash",null,!0)),q.push(new Ye("cacheControl",null,!0)),q.push(new Ye("contentDisposition",null,!0)),q.push(new Ye("contentEncoding",null,!0)),q.push(new Ye("contentLanguage",null,!0)),q.push(new Ye("contentType",null,!0)),q.push(new Ye("metadata","customMetadata",!0)),Cn=q,Cn}function Vr(q,W,fe){const Me=sn(W);return null===Me?null:function cr(q,W,fe){const Me={type:"file"},je=fe.length;for(let bt=0;bt<je;bt++){const dn=fe[bt];Me[dn.local]=dn.xform(Me,W[dn.server])}return function yr(q,W){Object.defineProperty(q,"ref",{get:function fe(){const bt=new mn(q.bucket,q.fullPath);return W._makeStorageReference(bt)}})}(Me,q),Me}(q,Me,fe)}function Tn(q,W){const fe={},Me=W.length;for(let je=0;je<Me;je++){const bt=W[je];bt.writable&&(fe[bt.server]=q[bt.local])}return JSON.stringify(fe)}const gi="prefixes",Lt="items";class Ur{constructor(W,fe,Me,je){this.url=W,this.method=fe,this.handler=Me,this.timeout=je,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vi(q){if(!q)throw wt()}function to(q,W){return function fe(Me,je){const bt=Vr(q,je,W);return Vi(null!==bt),bt}}function it(q){return function W(fe,Me){let je;return je=401===fe.getStatus()?fe.getErrorText().includes("Firebase App Check token is invalid")?function wn(){return new He(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xt(){return new He(Xe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===fe.getStatus()?function Wt(q){return new He(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===fe.getStatus()?function un(q){return new He(Xe.UNAUTHORIZED,"User does not have permission to access '"+q+"'.")}(q.path):Me,je.status=fe.getStatus(),je.serverResponse=Me.serverResponse,je}}function Ht(q){const W=it(q);return function fe(Me,je){let bt=W(Me,je);return 404===Me.getStatus()&&(bt=function Se(q){return new He(Xe.OBJECT_NOT_FOUND,"Object '"+q+"' does not exist.")}(q.path)),bt.serverResponse=je.serverResponse,bt}}function Sn(q,W,fe){const je=ft(W.fullServerUrl(),q.host,q._protocol),dn=q.maxOperationRetryTime,$n=new Ur(je,"GET",to(q,fe),dn);return $n.errorHandler=Ht(W),$n}function ct(q,W,fe,Me,je){const bt={};bt.prefix=W.isRoot?"":W.path+"/",fe&&fe.length>0&&(bt.delimiter=fe),Me&&(bt.pageToken=Me),je&&(bt.maxResults=je);const $n=ft(W.bucketOnlyServerUrl(),q.host,q._protocol),Qn=q.maxOperationRetryTime,br=new Ur($n,"GET",function Pr(q,W){return function fe(Me,je){const bt=function nn(q,W,fe){const Me=sn(fe);return null===Me?null:function Mt(q,W,fe){const Me={prefixes:[],items:[],nextPageToken:fe.nextPageToken};if(fe[gi])for(const je of fe[gi]){const bt=je.replace(/\/$/,""),dn=q._makeStorageReference(new mn(W,bt));Me.prefixes.push(dn)}if(fe[Lt])for(const je of fe[Lt]){const bt=q._makeStorageReference(new mn(W,je.name));Me.items.push(bt)}return Me}(q,W,Me)}(q,W,je);return Vi(null!==bt),bt}}(q,W.bucket),Qn);return br.urlParams=bt,br.errorHandler=it(W),br}function Ir(q,W,fe){const Me=Object.assign({},fe);return Me.fullPath=q.path,Me.size=W.size(),Me.contentType||(Me.contentType=function Xr(q,W){return q&&q.contentType||W&&W.type()||"application/octet-stream"}(null,W)),Me}class On{constructor(W,fe,Me,je){this.current=W,this.total=fe,this.finalized=!!Me,this.metadata=je||null}}function Ar(q,W){let fe=null;try{fe=q.getResponseHeader("X-Goog-Upload-Status")}catch{Vi(!1)}return Vi(!!fe&&-1!==(W||["active"]).indexOf(fe)),fe}const bo={STATE_CHANGED:"state_changed"},mi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xi(q){switch(q){case"running":case"pausing":case"canceling":return mi.RUNNING;case"paused":return mi.PAUSED;case"success":return mi.SUCCESS;case"canceled":return mi.CANCELED;default:return mi.ERROR}}class Ms{constructor(W,fe,Me){if(function dr(q){return"function"==typeof q}(W)||null!=fe||null!=Me)this.next=W,this.error=null!=fe?fe:void 0,this.complete=null!=Me?Me:void 0;else{const bt=W;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function Qi(q){return(...W)=>{Promise.resolve().then(()=>q(...W))}}let go=null;class Do{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fr.NO_ERROR,this.sendPromise_=new Promise(W=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fr.ABORT,W()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fr.NETWORK_ERROR,W()}),this.xhr_.addEventListener("load",()=>{W()})})}send(W,fe,Me,je){if(this.sent_)throw Hn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(fe,W,!0),void 0!==je)for(const bt in je)je.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,je[bt].toString());return void 0!==Me?this.xhr_.send(Me):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(W){return this.xhr_.getResponseHeader(W)}addUploadProgressListener(W){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",W)}removeUploadProgressListener(W){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",W)}}class ns extends Do{initXhr(){this.xhr_.responseType="text"}}function ao(){return go?go():new ns}class Tr{constructor(W,fe,Me=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=W,this._blob=fe,this._metadata=Me,this._mappings=Bt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=je=>{if(this._request=void 0,this._chunkMultiplier=1,je._codeEquals(Xe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(Nn(je.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();je=Un()}this._error=je,this._transition("error")}},this._metadataErrorHandler=je=>{this._request=void 0,je._codeEquals(Xe.CANCELED)?this.completeTransitions_():(this._error=je,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((je,bt)=>{this._resolve=je,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const W=this._transferred;return fe=>this._updateProgress(W+fe)}_shouldDoResumable(W){return W.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(W){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([fe,Me])=>{switch(this._state){case"running":W(fe,Me);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((W,fe)=>{const Me=function vr(q,W,fe,Me,je){const bt=W.bucketOnlyServerUrl(),dn=Ir(W,Me,je),$n={name:dn.fullPath},Mn=ft(bt,q.host,q._protocol),br={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Me.size()}`,"X-Goog-Upload-Header-Content-Type":dn.contentType,"Content-Type":"application/json; charset=utf-8"},z=Tn(dn,fe),B=new Ur(Mn,"POST",function Z(de){let Kt;Ar(de);try{Kt=de.getResponseHeader("X-Goog-Upload-URL")}catch{Vi(!1)}return Vi(zr(Kt)),Kt},q.maxUploadRetryTime);return B.urlParams=$n,B.headers=br,B.body=z,B.errorHandler=it(W),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(Me,ao,W,fe);this._request=je,je.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const W=this._uploadUrl;this._resolveToken((fe,Me)=>{const je=function ds(q,W,fe,Me){const Mn=new Ur(fe,"POST",function bt(Qn){const br=Ar(Qn,["active","final"]);let z=null;try{z=Qn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vi(!1)}z||Vi(!1);const P=Number(z);return Vi(!isNaN(P)),new On(P,Me.size(),"final"===br)},q.maxUploadRetryTime);return Mn.headers={"X-Goog-Upload-Command":"query"},Mn.errorHandler=it(W),Mn}(this._ref.storage,this._ref._location,W,this._blob),bt=this._ref.storage._makeRequest(je,ao,fe,Me);this._request=bt,bt.getPromise().then(dn=>{this._request=void 0,this._updateProgress(dn.current),this._needToFetchStatus=!1,dn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const W=262144*this._chunkMultiplier,fe=new On(this._transferred,this._blob.size()),Me=this._uploadUrl;this._resolveToken((je,bt)=>{let dn;try{dn=function vn(q,W,fe,Me,je,bt,dn,$n){const Mn=new On(0,0);if(dn?(Mn.current=dn.current,Mn.total=dn.total):(Mn.current=0,Mn.total=Me.size()),Me.size()!==Mn.total)throw function Ee(){return new He(Xe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Qn=Mn.total-Mn.current;let br=Qn;je>0&&(br=Math.min(br,je));const z=Mn.current;let Z="";Z=0===br?"finalize":Qn===br?"upload, finalize":"upload";const B={"X-Goog-Upload-Command":Z,"X-Goog-Upload-Offset":`${Mn.current}`},de=Me.slice(z,z+br);if(null===de)throw J();const $r=new Ur(fe,"POST",function Kt(ii,Io){const io=Ar(ii,["active","final"]),jo=Mn.current+br,Oo=Me.size();let is;return is="final"===io?to(W,bt)(ii,Io):null,new On(jo,Oo,"final"===io,is)},W.maxUploadRetryTime);return $r.headers=B,$r.body=de.uploadData(),$r.progressCallback=$n||null,$r.errorHandler=it(q),$r}(this._ref._location,this._ref.storage,Me,this._blob,W,this._mappings,fe,this._makeProgressCallback())}catch(Mn){return this._error=Mn,void this._transition("error")}const $n=this._ref.storage._makeRequest(dn,ao,je,bt,!1);this._request=$n,$n.getPromise().then(Mn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Mn.current),Mn.finalized?(this._metadata=Mn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((W,fe)=>{const Me=Sn(this._ref.storage,this._ref._location,this._mappings),je=this._ref.storage._makeRequest(Me,ao,W,fe);this._request=je,je.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((W,fe)=>{const Me=function Ln(q,W,fe,Me,je){const bt=W.bucketOnlyServerUrl(),dn={"X-Goog-Upload-Protocol":"multipart"},Mn=function $n(){let $r="";for(let ii=0;ii<2;ii++)$r+=Math.random().toString().slice(2);return $r}();dn["Content-Type"]="multipart/related; boundary="+Mn;const Qn=Ir(W,Me,je),br=Tn(Qn,fe),Z=Je.getBlob("--"+Mn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+br+"\r\n--"+Mn+"\r\nContent-Type: "+Qn.contentType+"\r\n\r\n",Me,"\r\n--"+Mn+"--");if(null===Z)throw J();const B={name:Qn.fullPath},de=ft(bt,q.host,q._protocol),jn=q.maxUploadRetryTime,ti=new Ur(de,"POST",to(q,fe),jn);return ti.urlParams=B,ti.headers=dn,ti.body=Z.uploadData(),ti.errorHandler=it(W),ti}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(Me,ao,W,fe);this._request=je,je.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(W){const fe=this._transferred;this._transferred=W,this._transferred!==fe&&this._notifyObservers()}_transition(W){if(this._state!==W)switch(W){case"canceling":case"pausing":this._state=W,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const fe="paused"===this._state;this._state=W,fe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=W,this._notifyObservers();break;case"canceled":this._error=Ut(),this._state=W,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const W=Xi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:W,metadata:this._metadata,task:this,ref:this._ref}}on(W,fe,Me,je){const bt=new Ms(fe||void 0,Me||void 0,je||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(W,fe){return this._promise.then(W,fe)}catch(W){return this.then(null,W)}_addObserver(W){this._observers.push(W),this._notifyObserver(W)}_removeObserver(W){const fe=this._observers.indexOf(W);-1!==fe&&this._observers.splice(fe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(fe=>{this._notifyObserver(fe)})}_finishPromise(){if(void 0!==this._resolve){let W=!0;switch(Xi(this._state)){case mi.SUCCESS:Qi(this._resolve.bind(null,this.snapshot))();break;case mi.CANCELED:case mi.ERROR:Qi(this._reject.bind(null,this._error))();break;default:W=!1}W&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(W){switch(Xi(this._state)){case mi.RUNNING:case mi.PAUSED:W.next&&Qi(W.next.bind(W,this.snapshot))();break;case mi.SUCCESS:W.complete&&Qi(W.complete.bind(W))();break;default:W.error&&Qi(W.error.bind(W,this._error))()}}resume(){const W="paused"===this._state||"pausing"===this._state;return W&&this._transition("running"),W}pause(){const W="running"===this._state;return W&&this._transition("pausing"),W}cancel(){const W="running"===this._state||"pausing"===this._state;return W&&this._transition("canceling"),W}}class Ko{constructor(W,fe){this._service=W,this._location=fe instanceof mn?fe:mn.makeFromUrl(fe,W.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(W,fe){return new Ko(W,fe)}get root(){const W=new mn(this._location.bucket,"");return this._newRef(this._service,W)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ve(this._location.path)}get storage(){return this._service}get parent(){const W=function ve(q){if(0===q.length)return null;const W=q.lastIndexOf("/");return-1===W?"":q.slice(0,W)}(this._location.path);if(null===W)return null;const fe=new mn(this._location.bucket,W);return new Ko(this._service,fe)}_throwIfRoot(W){if(""===this._location.path)throw _n(W)}}function mo(q,W,fe){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,lt.A)(function*(q,W,fe){const je=yield bi(q,{pageToken:fe});W.prefixes.push(...je.prefixes),W.items.push(...je.items),null!=je.nextPageToken&&(yield mo(q,W,je.nextPageToken))})).apply(this,arguments)}function bi(q,W){null!=W&&"number"==typeof W.maxResults&&zt("options.maxResults",1,1e3,W.maxResults);const fe=W||{},Me=ct(q.storage,q._location,"/",fe.pageToken,fe.maxResults);return q.storage.makeRequestWithTokens(Me,ao)}function Ps(q){q._throwIfRoot("getDownloadURL");const W=function bn(q,W,fe){const je=ft(W.fullServerUrl(),q.host,q._protocol),dn=q.maxOperationRetryTime,$n=new Ur(je,"GET",function Pt(q,W){return function fe(Me,je){const bt=Vr(q,je,W);return Vi(null!==bt),function Jt(q,W,fe,Me){const je=sn(W);if(null===je||!zr(je.downloadTokens))return null;const bt=je.downloadTokens;if(0===bt.length)return null;const dn=encodeURIComponent;return bt.split(",").map(Qn=>{const z=q.fullPath;return ft("/b/"+dn(q.bucket)+"/o/"+dn(z),fe,Me)+hr({alt:"media",token:Qn})})[0]}(bt,je,q.host,q._protocol)}}(q,fe),dn);return $n.errorHandler=Ht(W),$n}(q.storage,q._location,Bt());return q.storage.makeRequestWithTokens(W,ao).then(fe=>{if(null===fe)throw function ze(){return new He(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return fe})}function li(q,W){const fe=function Te(q,W){const fe=W.split("/").filter(Me=>Me.length>0).join("/");return 0===q.length?fe:q+"/"+fe}(q._location.path,W),Me=new mn(q._location.bucket,fe);return new Ko(q.storage,Me)}function fs(q,W){if(q instanceof we){const fe=q;if(null==fe._bucket)throw function me(){return new He(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ut+"' property when initializing the app?")}();const Me=new Ko(fe,fe._bucket);return null!=W?fs(Me,W):Me}return void 0!==W?li(q,W):q}function Ni(q,W){if(W&&function yn(q){return/^[A-Za-z]+:\/\//.test(q)}(W)){if(q instanceof we)return function xo(q,W){return new Ko(q,W)}(q,W);throw Ze("To use ref(service, url), the first argument must be a Storage instance.")}return fs(q,W)}function K(q,W){const fe=null==W?void 0:W[ut];return null==fe?null:mn.makeFromBucketSpec(fe,q)}class we{constructor(W,fe,Me,je,bt){this.app=W,this._authProvider=fe,this._appCheckProvider=Me,this._url=je,this._firebaseVersion=bt,this._bucket=null,this._host=pt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=je?mn.makeFromBucketSpec(je,this._host):K(this._host,this.app.options)}get host(){return this._host}set host(W){this._host=W,this._bucket=null!=this._url?mn.makeFromBucketSpec(this._url,W):K(W,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(W){zt("time",0,Number.POSITIVE_INFINITY,W),this._maxUploadRetryTime=W}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(W){zt("time",0,Number.POSITIVE_INFINITY,W),this._maxOperationRetryTime=W}_getAuthToken(){var W=this;return(0,lt.A)(function*(){if(W._overrideAuthToken)return W._overrideAuthToken;const fe=W._authProvider.getImmediate({optional:!0});if(fe){const Me=yield fe.getToken();if(null!==Me)return Me.accessToken}return null})()}_getAppCheckToken(){var W=this;return(0,lt.A)(function*(){const fe=W._appCheckProvider.getImmediate({optional:!0});return fe?(yield fe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(W=>W.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(W){return new Ko(this,W)}_makeRequest(W,fe,Me,je,bt=!0){if(this._deleted)return new Nt(mt());{const dn=function Ti(q,W,fe,Me,je,bt,dn=!0){const $n=hr(q.urlParams),Mn=q.url+$n,Qn=Object.assign({},q.headers);return function gr(q,W){W&&(q["X-Firebase-GMPID"]=W)}(Qn,W),function Er(q,W){null!==W&&W.length>0&&(q.Authorization="Firebase "+W)}(Qn,fe),function lr(q,W){q["X-Firebase-Storage-Version"]="webjs/"+(null!=W?W:"AppManager")}(Qn,bt),function wr(q,W){null!==W&&(q["X-Firebase-AppCheck"]=W)}(Qn,Me),new Bn(Mn,q.method,Qn,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,je,dn)}(W,this._appId,Me,je,fe,this._firebaseVersion,bt);return this._requests.add(dn),dn.getPromise().then(()=>this._requests.delete(dn),()=>this._requests.delete(dn)),dn}}makeRequestWithTokens(W,fe){var Me=this;return(0,lt.A)(function*(){const[je,bt]=yield Promise.all([Me._getAuthToken(),Me._getAppCheckToken()]);return Me._makeRequest(W,fe,je,bt).getPromise()})()}}const Oe="@firebase/storage";function Di(q,W){return Ni(q=(0,tt.Ku)(q),W)}function No(q,{instanceIdentifier:W}){const fe=q.getProvider("app").getImmediate(),Me=q.getProvider("auth-internal"),je=q.getProvider("app-check-internal");return new we(fe,Me,je,W,at.SDK_VERSION)}!function uo(){(0,at._registerComponent)(new rt.uA("storage",No,"PUBLIC").setMultipleInstances(!0)),(0,at.registerVersion)(Oe,"0.13.2",""),(0,at.registerVersion)(Oe,"0.13.2","esm2017")}();class Xo{constructor(W,fe,Me){this._delegate=W,this.task=fe,this.ref=Me}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Bo{constructor(W,fe){this._delegate=W,this._ref=fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Xo(this._delegate.snapshot,this,this._ref)}then(W,fe){return this._delegate.then(Me=>{if(W)return W(new Xo(Me,this,this._ref))},fe)}on(W,fe,Me,je){let bt;return fe&&(bt="function"==typeof fe?dn=>fe(new Xo(dn,this,this._ref)):{next:fe.next?dn=>fe.next(new Xo(dn,this,this._ref)):void 0,complete:fe.complete||void 0,error:fe.error||void 0}),this._delegate.on(W,bt,Me||void 0,je||void 0)}}class $o{constructor(W,fe){this._delegate=W,this._service=fe}get prefixes(){return this._delegate.prefixes.map(W=>new no(W,this._service))}get items(){return this._delegate.items.map(W=>new no(W,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class no{constructor(W,fe){this._delegate=W,this.storage=fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(W){const fe=function ri(q,W){return li(q,W)}(this._delegate,W);return new no(fe,this.storage)}get root(){return new no(this._delegate.root,this.storage)}get parent(){const W=this._delegate.parent;return null==W?null:new no(W,this.storage)}put(W,fe){return this._throwIfRoot("put"),new Bo(function rn(q,W,fe){return function ta(q,W,fe){return q._throwIfRoot("uploadBytesResumable"),new Tr(q,new Je(W),fe)}(q=(0,tt.Ku)(q),W,fe)}(this._delegate,W,fe),this)}putString(W,fe=pr.RAW,Me){this._throwIfRoot("putString");const je=ai(fe,W),bt=Object.assign({},Me);return null==bt.contentType&&null!=je.contentType&&(bt.contentType=je.contentType),new Bo(new Tr(this._delegate,new Je(je.data,!0),bt),this)}listAll(){return function Wn(q){return function xr(q){const W={prefixes:[],items:[]};return mo(q,W).then(()=>W)}(q=(0,tt.Ku)(q))}(this._delegate).then(W=>new $o(W,this.storage))}list(W){return function qn(q,W){return bi(q=(0,tt.Ku)(q),W)}(this._delegate,W||void 0).then(fe=>new $o(fe,this.storage))}getMetadata(){return function An(q){return function hs(q){q._throwIfRoot("getMetadata");const W=Sn(q.storage,q._location,Bt());return q.storage.makeRequestWithTokens(W,ao)}(q=(0,tt.Ku)(q))}(this._delegate)}updateMetadata(W){return function Pn(q,W){return function Uo(q,W){q._throwIfRoot("updateMetadata");const fe=function Xn(q,W,fe,Me){const bt=ft(W.fullServerUrl(),q.host,q._protocol),$n=Tn(fe,Me),Qn=q.maxOperationRetryTime,br=new Ur(bt,"PATCH",to(q,Me),Qn);return br.headers={"Content-Type":"application/json; charset=utf-8"},br.body=$n,br.errorHandler=Ht(W),br}(q.storage,q._location,W,Bt());return q.storage.makeRequestWithTokens(fe,ao)}(q=(0,tt.Ku)(q),W)}(this._delegate,W)}getDownloadURL(){return function Zr(q){return Ps(q=(0,tt.Ku)(q))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ci(q){return function Nr(q){q._throwIfRoot("deleteObject");const W=function En(q,W){const Me=ft(W.fullServerUrl(),q.host,q._protocol),$n=new Ur(Me,"DELETE",function dn(Mn,Qn){},q.maxOperationRetryTime);return $n.successCodes=[200,204],$n.errorHandler=Ht(W),$n}(q.storage,q._location);return q.storage.makeRequestWithTokens(W,ao)}(q=(0,tt.Ku)(q))}(this._delegate)}_throwIfRoot(W){if(""===this._delegate._location.path)throw _n(W)}}class ps{constructor(W,fe){this.app=W,this._delegate=fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(W){if(Ii(W))throw Ze("ref() expected a child path but got a URL, use refFromURL instead.");return new no(Di(this._delegate,W),this)}refFromURL(W){if(!Ii(W))throw Ze("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mn.makeFromUrl(W,this._delegate.host)}catch{throw Ze("refFromUrl() expected a valid full URL but got an invalid one.")}return new no(Di(this._delegate,W),this)}setMaxUploadRetryTime(W){this._delegate.maxUploadRetryTime=W}setMaxOperationRetryTime(W){this._delegate.maxOperationRetryTime=W}useEmulator(W,fe,Me={}){!function lo(q,W,fe,Me={}){!function oe(q,W,fe,Me={}){q.host=`${W}:${fe}`,q._protocol="http";const{mockUserToken:je}=Me;je&&(q._overrideAuthToken="string"==typeof je?je:(0,tt.Fy)(je,q.app.options.projectId))}(q,W,fe,Me)}(this._delegate,W,fe,Me)}}function Ii(q){return/^[A-Za-z]+:\/\//.test(q)}function Ma(q,{instanceIdentifier:W}){const fe=q.getProvider("app-compat").getImmediate(),Me=q.getProvider("storage").getImmediate({identifier:W});return new ps(fe,Me)}!function di(q){const W={TaskState:mi,TaskEvent:bo,StringFormat:pr,Storage:ps,Reference:no};q.INTERNAL.registerComponent(new rt.uA("storage-compat",Ma,"PUBLIC").setServiceProps(W).setMultipleInstances(!0)),q.registerVersion("@firebase/storage-compat","0.3.12")}(Le.A);var Yi=j(762);function Br(q){const W=function ar(q){return new xe.c(W=>{const fe=dn=>W.next(dn);fe(q.snapshot);const bt=q.on("state_changed",fe);return q.then(dn=>{fe(dn),W.complete()},dn=>{fe(q.snapshot),(dn=>{W.error(dn)})(dn)}),function(){bt()}}).pipe(function Ke(q,W=he.E){return(0,te.N)((fe,Me)=>{let je=null,bt=null,dn=null;const $n=()=>{if(je){je.unsubscribe(),je=null;const Qn=bt;bt=null,Me.next(Qn)}};function Mn(){const Qn=dn+q,br=W.now();if(br<Qn)return je=this.schedule(void 0,Qn-br),void Me.add(je);$n()}fe.subscribe((0,Ne._)(Me,Qn=>{bt=Qn,dn=W.now(),je||(je=W.schedule(Mn,q),Me.add(je))},()=>{$n(),Me.complete()},void 0,()=>{bt=je=null}))})}(0))}(q);return{task:q,then:q.then.bind(q),catch:q.catch.bind(q),pause:q.pause.bind(q),cancel:q.cancel.bind(q),resume:q.resume.bind(q),snapshotChanges:()=>W,percentageChanges:()=>W.pipe((0,Ae.T)(fe=>fe.bytesTransferred/fe.totalBytes*100))}}function _o(q){return{getDownloadURL:()=>(0,H.of)(void 0).pipe(f.Oe,(0,ce.n)(()=>q.getDownloadURL()),f.U0),getMetadata:()=>(0,H.of)(void 0).pipe(f.Oe,(0,ce.n)(()=>q.getMetadata()),f.U0),delete:()=>(0,De.H)(q.delete()),child:W=>_o(q.child(W)),updateMetadata:W=>(0,De.H)(q.updateMetadata(W)),put:(W,fe)=>Br(q.put(W,fe)),putString:(W,fe,Me)=>Br(q.putString(W,fe,Me)),list:W=>(0,De.H)(q.list(W)),listAll:()=>(0,De.H)(q.listAll())}}const yo=new Re.nKC("angularfire2.storageBucket"),Hi=new Re.nKC("angularfire2.storage.maxUploadRetryTime"),rs=new Re.nKC("angularfire2.storage.maxOperationRetryTime"),Oi=new Re.nKC("angularfire2.storage.use-emulator");let Jr=(()=>{var q;class W{constructor(Me,je,bt,dn,$n,Mn,Qn,br,z,P){(0,c.A)(this,"storage",void 0);const Z=(0,Ue.iB)(Me,$n,je);this.storage=(0,Ue.BM)(`${Z.name}.storage.${bt}`,"AngularFireStorage",Z.name,()=>{const B=$n.runOutsideAngular(()=>Z.storage(bt||void 0)),de=z;return de&&B.useEmulator(...de),Qn&&B.setMaxUploadRetryTime(Qn),br&&B.setMaxOperationRetryTime(br),B},[Qn,br])}ref(Me){return _o(this.storage.ref(Me))}refFromURL(Me){return _o(this.storage.refFromURL(Me))}upload(Me,je,bt){return _o(this.storage.ref(Me)).put(je,bt)}}return q=W,(0,c.A)(W,"\u0275fac",function(Me){return new(Me||q)(Re.KVO(Ue.rx),Re.KVO(Ue.uP,8),Re.KVO(yo,8),Re.KVO(Re.Agw),Re.KVO(Re.SKi),Re.KVO(f.u0),Re.KVO(Hi,8),Re.KVO(rs,8),Re.KVO(Oi,8),Re.KVO(f.Jv,8))}),(0,c.A)(W,"\u0275prov",Re.jDH({token:q,factory:q.\u0275fac,providedIn:"any"})),W})(),Mo=(()=>{var q;class W{}return q=W,(0,c.A)(W,"\u0275fac",function(Me){return new(Me||q)}),(0,c.A)(W,"\u0275mod",Re.$C({type:q})),(0,c.A)(W,"\u0275inj",Re.G2t({})),W})(),Ai=(()=>{var q;class W{constructor(){Yi.A.registerVersion("angularfire",f.xv.full,"gcs-compat")}}return q=W,(0,c.A)(W,"\u0275fac",function(Me){return new(Me||q)}),(0,c.A)(W,"\u0275mod",Re.$C({type:q})),(0,c.A)(W,"\u0275inj",Re.G2t({providers:[Jr],imports:[Mo]})),W})()},9253:(Rn,ht,j)=>{"use strict";j.d(ht,{BM:()=>lt,Gt:()=>he,bf:()=>Le,e7:()=>te,iB:()=>ce,rx:()=>Ke,uP:()=>Ae});var c=j(9842),f=j(4438),xe=j(574),H=j(762);const De=["ngOnDestroy"],he=(pt,ut,dt,ge={})=>new Proxy(pt,{get:(Ce,He)=>dt.runOutsideAngular(()=>{var Xe;if(pt[He])return null!=ge&&null!==(Xe=ge.spy)&&void 0!==Xe&&Xe.get&&ge.spy.get(He,pt[He]),pt[He];if(De.indexOf(He)>-1)return()=>{};const Ct=ut.toPromise().then(wt=>{const Se=null==wt?void 0:wt[He];return"function"==typeof Se?Se.bind(wt):null!=Se&&Se.then?Se.then(Wt=>dt.run(()=>Wt)):dt.run(()=>Se)});return new Proxy(()=>{},{get:(wt,Se)=>Ct[Se],apply:(wt,Se,Wt)=>Ct.then(Xt=>{var wn;const un=null==Xt?void 0:Xt(...Wt);return null!=ge&&null!==(wn=ge.spy)&&void 0!==wn&&wn.apply&&ge.spy.apply(He,Wt,un),un})})})}),te=(pt,ut)=>{ut.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(ge=>{Object.defineProperty(pt.prototype,ge,Object.getOwnPropertyDescriptor(dt.prototype||dt,ge))})})};class Ne{constructor(ut){return ut}}const Ke=new f.nKC("angularfire2.app.options"),Ae=new f.nKC("angularfire2.app.name");function ce(pt,ut,dt){const Ce="object"==typeof dt&&dt||{};Ce.name=Ce.name||"string"==typeof dt&&dt||"[DEFAULT]";const Xe=H.A.apps.filter(Ct=>Ct&&Ct.name===Ce.name)[0]||ut.runOutsideAngular(()=>H.A.initializeApp(pt,Ce));try{if(JSON.stringify(pt)!==JSON.stringify(Xe.options)){const Ct=!!module.hot;Re("error",`${Xe.name} Firebase App already initialized with different options${Ct?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ne(Xe)}const Re=(pt,...ut)=>{(0,f.naY)()&&typeof console<"u"&&console[pt](...ut)},Ue={provide:Ne,useFactory:ce,deps:[Ke,f.SKi,[new f.Xx1,Ae]]};let Le=(()=>{var pt;class ut{static initializeApp(ge,Ce){return{ngModule:ut,providers:[{provide:Ke,useValue:ge},{provide:Ae,useValue:Ce}]}}constructor(ge){H.A.registerVersion("angularfire",xe.xv.full,"core"),H.A.registerVersion("angularfire",xe.xv.full,"app-compat"),H.A.registerVersion("angular",f.xvI.full,ge.toString())}}return pt=ut,(0,c.A)(ut,"\u0275fac",function(ge){return new(ge||pt)(f.KVO(f.Agw))}),(0,c.A)(ut,"\u0275mod",f.$C({type:pt})),(0,c.A)(ut,"\u0275inj",f.G2t({providers:[Ue]})),ut})();function lt(pt,ut,dt,ge,Ce){const[,He,Xe]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===pt)||[];if(He)return function at(pt,ut){try{return pt.toString()===ut.toString()}catch{return pt===ut}}(Ce,Xe)||(rt("error",`${ut} was already initialized on the ${dt} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Ce,was:Xe})),He;{const Ct=ge();return globalThis.\u0275AngularfireInstanceCache.push([pt,Ct,Ce]),Ct}}const tt=typeof module<"u"&&!!module.hot,rt=(pt,...ut)=>{(0,f.naY)()&&typeof console<"u"&&console[pt](...ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},574:(Rn,ht,j)=>{"use strict";j.d(ht,{xv:()=>at,U0:()=>wn,Oe:()=>Wt,u0:()=>Xe,Jv:()=>ut});var c=j(9842),f=j(4438),xe=j(2979);(0,xe.registerVersion)("firebase","10.14.1","app");var he=j(6780),Ne=j(9687);const Ae=new class Ke extends Ne.q{}(class te extends he.R{constructor(ye,me){super(ye,me),this.scheduler=ye,this.work=me}schedule(ye,me=0){return me>0?super.schedule(ye,me):(this.delay=me,this.state=ye,this.scheduler.flush(this),this)}execute(ye,me){return me>0||this.closed?super.execute(ye,me):this._execute(ye,me)}requestAsyncId(ye,me,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(ye,me,J):(ye.flush(this),0)}});var Re=j(3236),Ue=j(8141),Le=j(941),lt=j(6745);const at=new f.RxE("ANGULARFIRE2_VERSION");class ut{constructor(){return(_e=>{const me=(0,xe.getApps)(),J=[];return me.forEach(Ee=>{Ee.container.getProvider(_e).instances.forEach(Fe=>{J.includes(Fe)||J.push(Fe)})}),J})(dt)}}const dt="app-check";function ge(){}class Ce{constructor(ye,me=Ae){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=ye,this.delegate=me}now(){return this.delegate.now()}schedule(ye,me,J){const Ee=this.zone;return this.delegate.schedule(function(Fe){Ee.runGuarded(()=>{ye.apply(this,[Fe])})},me,J)}}class He{constructor(ye){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=ye}call(ye,me){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ge,{},ge,ge)),me.pipe((0,Ue.M)({next:J,complete:J,error:J})).subscribe(ye).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xe=(()=>{var _e;class ye{constructor(J){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new Ce(Zone.current)),this.insideAngular=J.run(()=>new Ce(Zone.current,Re.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _e=ye,(0,c.A)(ye,"\u0275fac",function(J){return new(J||_e)(f.KVO(f.SKi))}),(0,c.A)(ye,"\u0275prov",f.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})),ye})();function Ct(){const _e=globalThis.\u0275AngularFireScheduler;if(!_e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _e}function Wt(_e){return _e.pipe((0,Le.Q)(Ct().outsideAngular))}function wn(_e){return function un(_e){return function(me){return(me=me.lift(new He(_e.ngZone))).pipe((0,lt._)(_e.outsideAngular),(0,Le.Q)(_e.insideAngular))}}(Ct())(_e)}},9574:(Rn,ht,j)=>{"use strict";j.d(ht,{A:()=>lt});var c=j(1401),f=j(8779),xe=j(2979),H=j(5398);class De{constructor(tt,rt){this._delegate=tt,this.firebase=rt,(0,xe._addComponent)(tt,new f.uA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,xe.deleteApp)(this._delegate)))}_getService(tt,rt=xe._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(tt);return!ut.isInitialized()&&"EXPLICIT"===(null===(pt=ut.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:rt})}_removeServiceInstance(tt,rt=xe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(rt)}_addComponent(tt){(0,xe._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,xe._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ae=function Ke(){const at=function Ne(at){const tt={},rt={__esModule:!0,initializeApp:function dt(Xe,Ct={}){const wt=xe.initializeApp(Xe,Ct);if((0,c.gR)(tt,wt.name))return tt[wt.name];const Se=new at(wt,rt);return tt[wt.name]=Se,Se},app:ut,registerVersion:xe.registerVersion,setLogLevel:xe.setLogLevel,onLog:xe.onLog,apps:null,SDK_VERSION:xe.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Xe){const Ct=Xe.name,wt=Ct.replace("-compat","");if(xe._registerComponent(Xe)&&"PUBLIC"===Xe.type){const Se=(Wt=ut())=>{if("function"!=typeof Wt[wt])throw te.create("invalid-app-argument",{appName:Ct});return Wt[wt]()};void 0!==Xe.serviceProps&&(0,c.zw)(Se,Xe.serviceProps),rt[wt]=Se,at.prototype[wt]=function(...Wt){return this._getService.bind(this,Ct).apply(this,Xe.multipleInstances?Wt:[])}}return"PUBLIC"===Xe.type?rt[wt]:null},removeApp:function pt(Xe){delete tt[Xe]},useAsService:function He(Xe,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:xe}};function ut(Xe){if(!(0,c.gR)(tt,Xe=Xe||xe._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:Xe});return tt[Xe]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function ge(){return Object.keys(tt).map(Xe=>tt[Xe])}}),ut.App=at,rt}(De);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function tt(rt){(0,c.zw)(at,rt)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),at}(),ce=new H.Vy("@firebase/app-compat");try{const at=(0,c.mS)();if(void 0!==at.firebase){ce.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const tt=at.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&ce.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const lt=Ae;!function Le(at){(0,xe.registerVersion)("@firebase/app-compat","0.2.43",at)}()},2979:(Rn,ht,j)=>{"use strict";j.r(ht),j.d(ht,{FirebaseError:()=>H.g,SDK_VERSION:()=>Yr,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>gr,_addOrOverwriteComponent:()=>wr,_apps:()=>_r,_clearComponents:()=>pr,_components:()=>lr,_getProvider:()=>mr,_isFirebaseApp:()=>sr,_isFirebaseServerApp:()=>Mi,_registerComponent:()=>Ti,_removeServiceInstance:()=>ir,_serverApps:()=>Er,deleteApp:()=>Je,getApp:()=>kt,getApps:()=>Qe,initializeApp:()=>Rt,initializeServerApp:()=>st,onLog:()=>Te,registerVersion:()=>ve,setLogLevel:()=>Ve});var c=j(467),f=j(8779),xe=j(5398),H=j(1401);const De=(Pt,it)=>it.some(Ht=>Pt instanceof Ht);let he,te;const Ae=new WeakMap,ce=new WeakMap,Re=new WeakMap,Ue=new WeakMap,Le=new WeakMap;let tt={get(Pt,it,Ht){if(Pt instanceof IDBTransaction){if("done"===it)return ce.get(Pt);if("objectStoreNames"===it)return Pt.objectStoreNames||Re.get(Pt);if("store"===it)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return dt(Pt[it])},set:(Pt,it,Ht)=>(Pt[it]=Ht,!0),has:(Pt,it)=>Pt instanceof IDBTransaction&&("done"===it||"store"===it)||it in Pt};function ut(Pt){return"function"==typeof Pt?function pt(Pt){return Pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pt)?function(...it){return Pt.apply(ge(this),it),dt(Ae.get(this))}:function(...it){return dt(Pt.apply(ge(this),it))}:function(it,...Ht){const Sn=Pt.call(ge(this),it,...Ht);return Re.set(Sn,it.sort?it.sort():[it]),dt(Sn)}}(Pt):(Pt instanceof IDBTransaction&&function at(Pt){if(ce.has(Pt))return;const it=new Promise((Ht,Sn)=>{const ct=()=>{Pt.removeEventListener("complete",Yt),Pt.removeEventListener("error",bn),Pt.removeEventListener("abort",bn)},Yt=()=>{Ht(),ct()},bn=()=>{Sn(Pt.error||new DOMException("AbortError","AbortError")),ct()};Pt.addEventListener("complete",Yt),Pt.addEventListener("error",bn),Pt.addEventListener("abort",bn)});ce.set(Pt,it)}(Pt),De(Pt,function Ne(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pt,tt):Pt)}function dt(Pt){if(Pt instanceof IDBRequest)return function lt(Pt){const it=new Promise((Ht,Sn)=>{const ct=()=>{Pt.removeEventListener("success",Yt),Pt.removeEventListener("error",bn)},Yt=()=>{Ht(dt(Pt.result)),ct()},bn=()=>{Sn(Pt.error),ct()};Pt.addEventListener("success",Yt),Pt.addEventListener("error",bn)});return it.then(Ht=>{Ht instanceof IDBCursor&&Ae.set(Ht,Pt)}).catch(()=>{}),Le.set(it,Pt),it}(Pt);if(Ue.has(Pt))return Ue.get(Pt);const it=ut(Pt);return it!==Pt&&(Ue.set(Pt,it),Le.set(it,Pt)),it}const ge=Pt=>Le.get(Pt),Xe=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],wt=new Map;function Se(Pt,it){if(!(Pt instanceof IDBDatabase)||it in Pt||"string"!=typeof it)return;if(wt.get(it))return wt.get(it);const Ht=it.replace(/FromIndex$/,""),Sn=it!==Ht,ct=Ct.includes(Ht);if(!(Ht in(Sn?IDBIndex:IDBObjectStore).prototype)||!ct&&!Xe.includes(Ht))return;const Yt=function(){var bn=(0,c.A)(function*(Xn,...En){const Xr=this.transaction(Xn,ct?"readwrite":"readonly");let Ir=Xr.store;return Sn&&(Ir=Ir.index(En.shift())),(yield Promise.all([Ir[Ht](...En),ct&&Xr.done]))[0]});return function(En){return bn.apply(this,arguments)}}();return wt.set(it,Yt),Yt}!function rt(Pt){tt=Pt(tt)}(Pt=>({...Pt,get:(it,Ht,Sn)=>Se(it,Ht)||Pt.get(it,Ht,Sn),has:(it,Ht)=>!!Se(it,Ht)||Pt.has(it,Ht)}));class Wt{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function Xt(Pt){const it=Pt.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Ht)){const Sn=Ht.getImmediate();return`${Sn.library}/${Sn.version}`}return null}).filter(Ht=>Ht).join(" ")}}const wn="@firebase/app",un="0.10.13",Un=new xe.Vy("@firebase/app"),Ut="@firebase/app-compat",_e="@firebase/analytics-compat",ye="@firebase/analytics",me="@firebase/app-check-compat",J="@firebase/app-check",Ee="@firebase/auth",ze="@firebase/auth-compat",Fe="@firebase/database",Ze="@firebase/data-connect",mt="@firebase/database-compat",_n="@firebase/functions",ln="@firebase/functions-compat",Hn="@firebase/installations",mn="@firebase/installations-compat",Nt="@firebase/messaging",Mr="@firebase/messaging-compat",Fr="@firebase/performance",Gn="@firebase/performance-compat",dr="@firebase/remote-config",nr="@firebase/remote-config-compat",zr="@firebase/storage",Gt="@firebase/storage-compat",St="@firebase/firestore",zt="@firebase/vertexai-preview",ft="@firebase/firestore-compat",hr="firebase",Nn="[DEFAULT]",Bn={[wn]:"fire-core",[Ut]:"fire-core-compat",[ye]:"fire-analytics",[_e]:"fire-analytics-compat",[J]:"fire-app-check",[me]:"fire-app-check-compat",[Ee]:"fire-auth",[ze]:"fire-auth-compat",[Fe]:"fire-rtdb",[Ze]:"fire-data-connect",[mt]:"fire-rtdb-compat",[_n]:"fire-fn",[ln]:"fire-fn-compat",[Hn]:"fire-iid",[mn]:"fire-iid-compat",[Nt]:"fire-fcm",[Mr]:"fire-fcm-compat",[Fr]:"fire-perf",[Gn]:"fire-perf-compat",[dr]:"fire-rc",[nr]:"fire-rc-compat",[zr]:"fire-gcs",[Gt]:"fire-gcs-compat",[St]:"fire-fst",[ft]:"fire-fst-compat",[zt]:"fire-vertex","fire-js":"fire-js",[hr]:"fire-js-all"},_r=new Map,Er=new Map,lr=new Map;function gr(Pt,it){try{Pt.container.addComponent(it)}catch(Ht){Un.debug(`Component ${it.name} failed to register with FirebaseApp ${Pt.name}`,Ht)}}function wr(Pt,it){Pt.container.addOrOverwriteComponent(it)}function Ti(Pt){const it=Pt.name;if(lr.has(it))return Un.debug(`There were multiple attempts to register component ${it}.`),!1;lr.set(it,Pt);for(const Ht of _r.values())gr(Ht,Pt);for(const Ht of Er.values())gr(Ht,Pt);return!0}function mr(Pt,it){const Ht=Pt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ht&&Ht.triggerHeartbeat(),Pt.container.getProvider(it)}function ir(Pt,it,Ht=Nn){mr(Pt,it).clearInstance(Ht)}function sr(Pt){return void 0!==Pt.options}function Mi(Pt){return void 0!==Pt.settings}function pr(){lr.clear()}const ai=new H.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ur{constructor(it,Ht,Sn){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=Sn,this.container.addComponent(new f.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}class Pi extends ur{constructor(it,Ht,Sn,ct){const Yt=void 0!==Ht.automaticDataCollectionEnabled&&Ht.automaticDataCollectionEnabled,bn={name:Sn,automaticDataCollectionEnabled:Yt};super(void 0!==it.apiKey?it:it.options,bn,ct),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Yt},Ht),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ht.releaseOnDeref=void 0,ve(wn,un,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(it){this.isDeleted||(this._refCount++,void 0!==it&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(it,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Je(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ai.create("server-app-deleted")}}const Yr="10.14.1";function Rt(Pt,it={}){let Ht=Pt;"object"!=typeof it&&(it={name:it});const Sn=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},it),ct=Sn.name;if("string"!=typeof ct||!ct)throw ai.create("bad-app-name",{appName:String(ct)});if(Ht||(Ht=(0,H.T9)()),!Ht)throw ai.create("no-options");const Yt=_r.get(ct);if(Yt){if((0,H.bD)(Ht,Yt.options)&&(0,H.bD)(Sn,Yt.config))return Yt;throw ai.create("duplicate-app",{appName:ct})}const bn=new f.h1(ct);for(const En of lr.values())bn.addComponent(En);const Xn=new ur(Ht,Sn,bn);return _r.set(ct,Xn),Xn}function st(Pt,it){if((0,H.Bd)()&&!(0,H.p7)())throw ai.create("invalid-server-app-environment");let Ht;void 0===it.automaticDataCollectionEnabled&&(it.automaticDataCollectionEnabled=!1),Ht=sr(Pt)?Pt.options:Pt;const Sn=Object.assign(Object.assign({},it),Ht);if(void 0!==Sn.releaseOnDeref&&delete Sn.releaseOnDeref,void 0!==it.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ai.create("finalization-registry-not-supported",{});const Yt=""+(Xr=JSON.stringify(Sn),[...Xr].reduce((Ir,Ln)=>Math.imul(31,Ir)+Ln.charCodeAt(0)|0,0)),bn=Er.get(Yt);var Xr;if(bn)return bn.incRefCount(it.releaseOnDeref),bn;const Xn=new f.h1(Yt);for(const Xr of lr.values())Xn.addComponent(Xr);const En=new Pi(Ht,it,Yt,Xn);return Er.set(Yt,En),En}function kt(Pt=Nn){const it=_r.get(Pt);if(!it&&Pt===Nn&&(0,H.T9)())return Rt();if(!it)throw ai.create("no-app",{appName:Pt});return it}function Qe(){return Array.from(_r.values())}function Je(Pt){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(Pt){let it=!1;const Ht=Pt.name;_r.has(Ht)?(it=!0,_r.delete(Ht)):Er.has(Ht)&&Pt.decRefCount()<=0&&(Er.delete(Ht),it=!0),it&&(yield Promise.all(Pt.container.getProviders().map(Sn=>Sn.delete())),Pt.isDeleted=!0)})).apply(this,arguments)}function ve(Pt,it,Ht){var Sn;let ct=null!==(Sn=Bn[Pt])&&void 0!==Sn?Sn:Pt;Ht&&(ct+=`-${Ht}`);const Yt=ct.match(/\s|\//),bn=it.match(/\s|\//);if(Yt||bn){const Xn=[`Unable to register library "${ct}" with version "${it}":`];return Yt&&Xn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Yt&&bn&&Xn.push("and"),bn&&Xn.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void Un.warn(Xn.join(" "))}Ti(new f.uA(`${ct}-version`,()=>({library:ct,version:it}),"VERSION"))}function Te(Pt,it){if(null!==Pt&&"function"!=typeof Pt)throw ai.create("invalid-log-argument");(0,xe.Ey)(Pt,it)}function Ve(Pt){(0,xe.He)(Pt)}const Ot="firebase-heartbeat-database",Ye=1,Cn="firebase-heartbeat-store";let Fn=null;function Bt(){return Fn||(Fn=function Ce(Pt,it,{blocked:Ht,upgrade:Sn,blocking:ct,terminated:Yt}={}){const bn=indexedDB.open(Pt,it),Xn=dt(bn);return Sn&&bn.addEventListener("upgradeneeded",En=>{Sn(dt(bn.result),En.oldVersion,En.newVersion,dt(bn.transaction),En)}),Ht&&bn.addEventListener("blocked",En=>Ht(En.oldVersion,En.newVersion,En)),Xn.then(En=>{Yt&&En.addEventListener("close",()=>Yt()),ct&&En.addEventListener("versionchange",Xr=>ct(Xr.oldVersion,Xr.newVersion,Xr))}).catch(()=>{}),Xn}(Ot,Ye,{upgrade:(Pt,it)=>{if(0===it)try{Pt.createObjectStore(Cn)}catch(Ht){console.warn(Ht)}}}).catch(Pt=>{throw ai.create("idb-open",{originalErrorMessage:Pt.message})})),Fn}function cr(){return(cr=(0,c.A)(function*(Pt){try{const Ht=(yield Bt()).transaction(Cn),Sn=yield Ht.objectStore(Cn).get(Tn(Pt));return yield Ht.done,Sn}catch(it){if(it instanceof H.g)Un.warn(it.message);else{const Ht=ai.create("idb-get",{originalErrorMessage:null==it?void 0:it.message});Un.warn(Ht.message)}}})).apply(this,arguments)}function Vr(Pt,it){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.A)(function*(Pt,it){try{const Sn=(yield Bt()).transaction(Cn,"readwrite");yield Sn.objectStore(Cn).put(it,Tn(Pt)),yield Sn.done}catch(Ht){if(Ht instanceof H.g)Un.warn(Ht.message);else{const Sn=ai.create("idb-set",{originalErrorMessage:null==Ht?void 0:Ht.message});Un.warn(Sn.message)}}})).apply(this,arguments)}function Tn(Pt){return`${Pt.name}!${Pt.options.appId}`}class Mt{constructor(it){this.container=it,this._heartbeatsCache=null;const Ht=this.container.getProvider("app").getImmediate();this._storage=new Vi(Ht),this._heartbeatsCachePromise=this._storage.read().then(Sn=>(this._heartbeatsCache=Sn,Sn))}triggerHeartbeat(){var it=this;return(0,c.A)(function*(){var Ht,Sn;try{const Yt=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=nn();return null==(null===(Ht=it._heartbeatsCache)||void 0===Ht?void 0:Ht.heartbeats)&&(it._heartbeatsCache=yield it._heartbeatsCachePromise,null==(null===(Sn=it._heartbeatsCache)||void 0===Sn?void 0:Sn.heartbeats))||it._heartbeatsCache.lastSentHeartbeatDate===bn||it._heartbeatsCache.heartbeats.some(Xn=>Xn.date===bn)?void 0:(it._heartbeatsCache.heartbeats.push({date:bn,agent:Yt}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(Xn=>{const En=new Date(Xn.date).valueOf();return Date.now()-En<=2592e6}),it._storage.overwrite(it._heartbeatsCache))}catch(ct){Un.warn(ct)}})()}getHeartbeatsHeader(){var it=this;return(0,c.A)(function*(){var Ht;try{if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null==(null===(Ht=it._heartbeatsCache)||void 0===Ht?void 0:Ht.heartbeats)||0===it._heartbeatsCache.heartbeats.length)return"";const Sn=nn(),{heartbeatsToSend:ct,unsentEntries:Yt}=function Ur(Pt,it=1024){const Ht=[];let Sn=Pt.slice();for(const ct of Pt){const Yt=Ht.find(bn=>bn.agent===ct.agent);if(Yt){if(Yt.dates.push(ct.date),to(Ht)>it){Yt.dates.pop();break}}else if(Ht.push({agent:ct.agent,dates:[ct.date]}),to(Ht)>it){Ht.pop();break}Sn=Sn.slice(1)}return{heartbeatsToSend:Ht,unsentEntries:Sn}}(it._heartbeatsCache.heartbeats),bn=(0,H.Uj)(JSON.stringify({version:2,heartbeats:ct}));return it._heartbeatsCache.lastSentHeartbeatDate=Sn,Yt.length>0?(it._heartbeatsCache.heartbeats=Yt,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),bn}catch(Sn){return Un.warn(Sn),""}})()}}function nn(){return(new Date).toISOString().substring(0,10)}class Vi{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,H.zW)()&&(0,H.eX)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,c.A)(function*(){if(yield it._canUseIndexedDBPromise){const Sn=yield function yr(Pt){return cr.apply(this,arguments)}(it.app);return null!=Sn&&Sn.heartbeats?Sn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(it){var Ht=this;return(0,c.A)(function*(){var Sn;if(yield Ht._canUseIndexedDBPromise){const Yt=yield Ht.read();return Vr(Ht.app,{lastSentHeartbeatDate:null!==(Sn=it.lastSentHeartbeatDate)&&void 0!==Sn?Sn:Yt.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var Ht=this;return(0,c.A)(function*(){var Sn;if(yield Ht._canUseIndexedDBPromise){const Yt=yield Ht.read();return Vr(Ht.app,{lastSentHeartbeatDate:null!==(Sn=it.lastSentHeartbeatDate)&&void 0!==Sn?Sn:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...it.heartbeats]})}})()}}function to(Pt){return(0,H.Uj)(JSON.stringify({version:2,heartbeats:Pt})).length}!function Pr(Pt){Ti(new f.uA("platform-logger",it=>new Wt(it),"PRIVATE")),Ti(new f.uA("heartbeat",it=>new Mt(it),"PRIVATE")),ve(wn,un,Pt),ve(wn,un,"esm2017"),ve("fire-js","")}("")},8779:(Rn,ht,j)=>{"use strict";j.d(ht,{h1:()=>Ne,uA:()=>xe});var c=j(467),f=j(1401);class xe{constructor(Ae,ce,Re){this.name=Ae,this.instanceFactory=ce,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ae){return this.instantiationMode=Ae,this}setMultipleInstances(Ae){return this.multipleInstances=Ae,this}setServiceProps(Ae){return this.serviceProps=Ae,this}setInstanceCreatedCallback(Ae){return this.onInstanceCreated=Ae,this}}const H="[DEFAULT]";class De{constructor(Ae,ce){this.name=Ae,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ae){const ce=this.normalizeInstanceIdentifier(Ae);if(!this.instancesDeferred.has(ce)){const Re=new f.cY;if(this.instancesDeferred.set(ce,Re),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:ce});Ue&&Re.resolve(Ue)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(Ae){var ce;const Re=this.normalizeInstanceIdentifier(null==Ae?void 0:Ae.identifier),Ue=null!==(ce=null==Ae?void 0:Ae.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Le){if(Ue)return null;throw Le}}getComponent(){return this.component}setComponent(Ae){if(Ae.name!==this.name)throw Error(`Mismatching Component ${Ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ae,this.shouldAutoInitialize()){if(function te(Ke){return"EAGER"===Ke.instantiationMode}(Ae))try{this.getOrInitializeService({instanceIdentifier:H})}catch{}for(const[ce,Re]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(ce);try{const Le=this.getOrInitializeService({instanceIdentifier:Ue});Re.resolve(Le)}catch{}}}}clearInstance(Ae=H){this.instancesDeferred.delete(Ae),this.instancesOptions.delete(Ae),this.instances.delete(Ae)}delete(){var Ae=this;return(0,c.A)(function*(){const ce=Array.from(Ae.instances.values());yield Promise.all([...ce.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ce.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ae=H){return this.instances.has(Ae)}getOptions(Ae=H){return this.instancesOptions.get(Ae)||{}}initialize(Ae={}){const{options:ce={}}=Ae,Re=this.normalizeInstanceIdentifier(Ae.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Re,options:ce});for(const[Le,lt]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Le)&&lt.resolve(Ue);return Ue}onInit(Ae,ce){var Re;const Ue=this.normalizeInstanceIdentifier(ce),Le=null!==(Re=this.onInitCallbacks.get(Ue))&&void 0!==Re?Re:new Set;Le.add(Ae),this.onInitCallbacks.set(Ue,Le);const lt=this.instances.get(Ue);return lt&&Ae(lt,Ue),()=>{Le.delete(Ae)}}invokeOnInitCallbacks(Ae,ce){const Re=this.onInitCallbacks.get(ce);if(Re)for(const Ue of Re)try{Ue(Ae,ce)}catch{}}getOrInitializeService({instanceIdentifier:Ae,options:ce={}}){let Re=this.instances.get(Ae);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=Ae,Ke===H?void 0:Ke),options:ce}),this.instances.set(Ae,Re),this.instancesOptions.set(Ae,ce),this.invokeOnInitCallbacks(Re,Ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ae,Re)}catch{}var Ke;return Re||null}normalizeInstanceIdentifier(Ae=H){return this.component?this.component.multipleInstances?Ae:H:Ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(Ae){this.name=Ae,this.providers=new Map}addComponent(Ae){const ce=this.getProvider(Ae.name);if(ce.isComponentSet())throw new Error(`Component ${Ae.name} has already been registered with ${this.name}`);ce.setComponent(Ae)}addOrOverwriteComponent(Ae){this.getProvider(Ae.name).isComponentSet()&&this.providers.delete(Ae.name),this.addComponent(Ae)}getProvider(Ae){if(this.providers.has(Ae))return this.providers.get(Ae);const ce=new De(Ae,this);return this.providers.set(Ae,ce),ce}getProviders(){return Array.from(this.providers.values())}}},5398:(Rn,ht,j)=>{"use strict";j.d(ht,{$b:()=>f,Ey:()=>Ke,He:()=>Ne,Vy:()=>te});const c=[];var f=function(Ae){return Ae[Ae.DEBUG=0]="DEBUG",Ae[Ae.VERBOSE=1]="VERBOSE",Ae[Ae.INFO=2]="INFO",Ae[Ae.WARN=3]="WARN",Ae[Ae.ERROR=4]="ERROR",Ae[Ae.SILENT=5]="SILENT",Ae}(f||{});const xe={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},H=f.INFO,De={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},he=(Ae,ce,...Re)=>{if(ce<Ae.logLevel)return;const Ue=(new Date).toISOString(),Le=De[ce];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Le](`[${Ue}]  ${Ae.name}:`,...Re)};class te{constructor(ce){this.name=ce,this._logLevel=H,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in f))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?xe[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...ce),this._logHandler(this,f.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...ce),this._logHandler(this,f.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,f.INFO,...ce),this._logHandler(this,f.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,f.WARN,...ce),this._logHandler(this,f.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...ce),this._logHandler(this,f.ERROR,...ce)}}function Ne(Ae){c.forEach(ce=>{ce.setLogLevel(Ae)})}function Ke(Ae,ce){for(const Re of c){let Ue=null;ce&&ce.level&&(Ue=xe[ce.level]),Re.userLogHandler=null===Ae?null:(Le,lt,...at)=>{const tt=at.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch{return null}}).filter(rt=>rt).join(" ");lt>=(null!=Ue?Ue:Le.logLevel)&&Ae({level:f[lt].toLowerCase(),message:tt,args:at,type:Le.name})}}}},762:(Rn,ht,j)=>{"use strict";j.d(ht,{A:()=>c.A});var c=j(9574);c.A.registerVersion("firebase","10.14.1","app-compat")},324:(Rn,ht,j)=>{"use strict";var c=j(467),f=j(9574),xe=j(2979),H=j(1401),De=j(5398),he=j(1635),te=j(8779);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const lt=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},at=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new H.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new De.Vy("@firebase/auth");function dt(I,...h){pt.logLevel<=De.$b.ERROR&&pt.error(`Auth (${xe.SDK_VERSION}): ${I}`,...h)}function ge(I,...h){throw wt(I,...h)}function Ce(I,...h){return wt(I,...h)}function He(I,h,g){const T=Object.assign(Object.assign({},at()),{[h]:g});return new H.FA("auth","Firebase",T).create(h,{appName:I.name})}function Xe(I){return He(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ct(I,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&ge(I,"argument-error"),He(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wt(I,...h){if("string"!=typeof I){const g=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(g,...T)}return tt.create(I,...h)}function Se(I,h,...g){if(!I)throw wt(h,...g)}function Wt(I){const h="INTERNAL ASSERTION FAILED: "+I;throw dt(h),new Error(h)}function Xt(I,h){I||Wt(h)}function wn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function un(){return"http:"===Un()||"https:"===Un()}function Un(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ye{constructor(h,g){this.shortDelay=h,this.longDelay=g,Xt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,H.jZ)()||(0,H.lV)()}get(){return function Ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(un()||(0,H.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function me(I,h){Xt(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class J{static initialize(h,g,T){this.fetchImpl=h,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new ye(3e4,6e4);function Fe(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Ze(I,h,g,T){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.A)(function*(I,h,g,T,G={}){return _n(I,G,(0,c.A)(function*(){let se={},Ge={};T&&("GET"===h?Ge=T:se={body:JSON.stringify(T)});const At=(0,H.Am)(Object.assign({key:I.config.apiKey},Ge)).slice(1),an=yield I._getAdditionalHeaders();an["Content-Type"]="application/json",I.languageCode&&(an["X-Firebase-Locale"]=I.languageCode);const xn=Object.assign({method:h,headers:an},se);return(0,H.c1)()||(xn.referrerPolicy="no-referrer"),J.fetch()(Nt(I,I.config.apiHost,g,At),xn)}))})).apply(this,arguments)}function _n(I,h,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.A)(function*(I,h,g){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},Ee),h);try{const G=new Fr(I),se=yield Promise.race([g(),G.promise]);G.clearNetworkTimeout();const Ge=yield se.json();if("needConfirmation"in Ge)throw Gn(I,"account-exists-with-different-credential",Ge);if(se.ok&&!("errorMessage"in Ge))return Ge;{const At=se.ok?Ge.errorMessage:Ge.error.message,[an,xn]=At.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===an)throw Gn(I,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===an)throw Gn(I,"email-already-in-use",Ge);if("USER_DISABLED"===an)throw Gn(I,"user-disabled",Ge);const Yn=T[an]||an.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw He(I,Yn,xn);ge(I,Yn)}}catch(G){if(G instanceof H.g)throw G;ge(I,"network-request-failed",{message:String(G)})}})).apply(this,arguments)}function Hn(I,h,g,T){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.A)(function*(I,h,g,T,G={}){const se=yield Ze(I,h,g,T,G);return"mfaPendingCredential"in se&&ge(I,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Nt(I,h,g,T){const G=`${h}${g}?${T}`;return I.config.emulator?me(I.config,G):`${I.config.apiScheme}://${G}`}function Mr(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Ce(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(I,h,g){const T={appName:I.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const G=Ce(I,h,T);return G.customData._tokenResponse=g,G}function dr(I){return void 0!==I&&void 0!==I.getResponse}function nr(I){return void 0!==I&&void 0!==I.enterprise}class zr{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return Mr(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function St(){return(St=(0,c.A)(function*(I){return(yield Ze(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zt(I,h){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.A)(function*(I,h){return Ze(I,"GET","/v2/recaptchaConfig",Fe(I,h))})).apply(this,arguments)}function fr(){return(fr=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Bn(){return(Bn=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _r(I,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function lr(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ti(){return(Ti=(0,c.A)(function*(I,h=!1){const g=(0,H.Ku)(I),T=yield g.getIdToken(h),G=ir(T);Se(G&&G.exp&&G.auth_time&&G.iat,g.auth,"internal-error");const se="object"==typeof G.firebase?G.firebase:void 0,Ge=null==se?void 0:se.sign_in_provider;return{claims:G,token:T,authTime:lr(mr(G.auth_time)),issuedAtTime:lr(mr(G.iat)),expirationTime:lr(mr(G.exp)),signInProvider:Ge||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function mr(I){return 1e3*Number(I)}function ir(I){const[h,g,T]=I.split(".");if(void 0===h||void 0===g||void 0===T)return dt("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,H.u)(g);return G?JSON.parse(G):(dt("Failed to decode base64 JWT payload"),null)}catch(G){return dt("Caught error parsing JWT payload as JSON",null==G?void 0:G.toString()),null}}function sr(I){const h=ir(I);return Se(h,"internal-error"),Se(typeof h.exp<"u","internal-error"),Se(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function Mi(I,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.A)(function*(I,h,g=!1){if(g)return h;try{return yield h}catch(T){throw T instanceof H.g&&function $i({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}class ai{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const G=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,c.A)(function*(){yield g.iteration()}),T)}iteration(){var h=this;return(0,c.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class ur{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(I){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.A)(function*(I){var h;const g=I.auth,T=yield I.getIdToken(),G=yield Mi(I,_r(g,{idToken:T}));Se(null==G?void 0:G.users.length,g,"internal-error");const se=G.users[0];I._notifyReloadListener(se);const Ge=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?Qe(se.providerUserInfo):[],At=function kt(I,h){return[...I.filter(T=>!h.some(G=>G.providerId===T.providerId)),...h]}(I.providerData,Ge),Yn=!!I.isAnonymous&&!(I.email&&se.passwordHash||null!=At&&At.length),Kn={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:At,metadata:new ur(se.createdAt,se.lastLoginAt),isAnonymous:Yn};Object.assign(I,Kn)})).apply(this,arguments)}function st(){return(st=(0,c.A)(function*(I){const h=(0,H.Ku)(I);yield Pi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Qe(I){return I.map(h=>{var{providerId:g}=h,T=(0,he.Tt)(h,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function sn(){return(sn=(0,c.A)(function*(I,h){const g=yield _n(I,{},(0,c.A)(function*(){const T=(0,H.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:G,apiKey:se}=I.config,Ge=Nt(I,G,"/v1/token",`key=${se}`),At=yield I._getAdditionalHeaders();return At["Content-Type"]="application/x-www-form-urlencoded",J.fetch()(Ge,{method:"POST",headers:At,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Te(){return(Te=(0,c.A)(function*(I,h){return Ze(I,"POST","/v2/accounts:revokeToken",Fe(I,h))})).apply(this,arguments)}class Ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Se(h.idToken,"internal-error"),Se(typeof h.idToken<"u","internal-error"),Se(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):sr(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){Se(0!==h.length,"internal-error");const g=sr(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var T=this;return(0,c.A)(function*(){return g||!T.accessToken||T.isExpired?(Se(T.refreshToken,h,"user-token-expired"),T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null):T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var T=this;return(0,c.A)(function*(){const{accessToken:G,refreshToken:se,expiresIn:Ge}=yield function Je(I,h){return sn.apply(this,arguments)}(h,g);T.updateTokensAndExpiration(G,se,Number(Ge))})()}updateTokensAndExpiration(h,g,T){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,g){const{refreshToken:T,accessToken:G,expirationTime:se}=g,Ge=new Ve;return T&&(Se("string"==typeof T,"internal-error",{appName:h}),Ge.refreshToken=T),G&&(Se("string"==typeof G,"internal-error",{appName:h}),Ge.accessToken=G),se&&(Se("number"==typeof se,"internal-error",{appName:h}),Ge.expirationTime=se),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ve,this.toJSON())}_performRefresh(){return Wt("not implemented")}}function Ot(I,h){Se("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Ye{constructor(h){var{uid:g,auth:T,stsTokenManager:G}=h,se=(0,he.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new ur(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,c.A)(function*(){const T=yield Mi(g,g.stsTokenManager.getToken(g.auth,h));return Se(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(h){return function wr(I){return Ti.apply(this,arguments)}(this,h)}reload(){return function Rt(I){return st.apply(this,arguments)}(this)}_assign(h){this!==h&&(Se(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Ye(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var T=this;return(0,c.A)(function*(){let G=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),G=!0),g&&(yield Pi(T)),yield T.auth._persistUserIfCurrent(T),G&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,c.A)(function*(){if((0,xe._isFirebaseServerApp)(h.auth.app))return Promise.reject(Xe(h.auth));const g=yield h.getIdToken();return yield Mi(h,function hr(I,h){return fr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var T,G,se,Ge,At,an,xn,Yn;const Kn=null!==(T=g.displayName)&&void 0!==T?T:void 0,po=null!==(G=g.email)&&void 0!==G?G:void 0,Ws=null!==(se=g.phoneNumber)&&void 0!==se?se:void 0,rl=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,Pd=null!==(At=g.tenantId)&&void 0!==At?At:void 0,Da=null!==(an=g._redirectEventId)&&void 0!==an?an:void 0,xd=null!==(xn=g.createdAt)&&void 0!==xn?xn:void 0,Wc=null!==(Yn=g.lastLoginAt)&&void 0!==Yn?Yn:void 0,{uid:Al,emailVerified:Dp,isAnonymous:hm,providerData:Nd,stsTokenManager:fm}=g;Se(Al&&fm,h,"internal-error");const Gh=Ve.fromJSON(this.name,fm);Se("string"==typeof Al,h,"internal-error"),Ot(Kn,h.name),Ot(po,h.name),Se("boolean"==typeof Dp,h,"internal-error"),Se("boolean"==typeof hm,h,"internal-error"),Ot(Ws,h.name),Ot(rl,h.name),Ot(Pd,h.name),Ot(Da,h.name),Ot(xd,h.name),Ot(Wc,h.name);const Gl=new Ye({uid:Al,auth:h,email:po,emailVerified:Dp,displayName:Kn,isAnonymous:hm,photoURL:rl,phoneNumber:Ws,tenantId:Pd,stsTokenManager:Gh,createdAt:xd,lastLoginAt:Wc});return Nd&&Array.isArray(Nd)&&(Gl.providerData=Nd.map(yu=>Object.assign({},yu))),Da&&(Gl._redirectEventId=Da),Gl}static _fromIdTokenResponse(h,g,T=!1){return(0,c.A)(function*(){const G=new Ve;G.updateFromServerResponse(g);const se=new Ye({uid:g.localId,auth:h,stsTokenManager:G,isAnonymous:T});return yield Pi(se),se})()}static _fromGetAccountInfoResponse(h,g,T){return(0,c.A)(function*(){const G=g.users[0];Se(void 0!==G.localId,"internal-error");const se=void 0!==G.providerUserInfo?Qe(G.providerUserInfo):[],Ge=!(G.email&&G.passwordHash||null!=se&&se.length),At=new Ve;At.updateFromIdToken(T);const an=new Ye({uid:G.localId,auth:h,stsTokenManager:At,isAnonymous:Ge}),xn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:se,metadata:new ur(G.createdAt,G.lastLoginAt),isAnonymous:!(G.email&&G.passwordHash||null!=se&&se.length)};return Object.assign(an,xn),an})()}}const Cn=new Map;function Fn(I){Xt(I instanceof Function,"Expected a class definition");let h=Cn.get(I);return h?(Xt(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,Cn.set(I,h),h)}const yr=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(g,T){var G=this;return(0,c.A)(function*(){G.storage[g]=T})()}_get(g){var T=this;return(0,c.A)(function*(){const G=T.storage[g];return void 0===G?null:G})()}_remove(g){var T=this;return(0,c.A)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return I.type="NONE",I})();function cr(I,h,g){return`firebase:${I}:${h}:${g}`}class Vr{constructor(h,g,T){this.persistence=h,this.auth=g,this.userKey=T;const{config:G,name:se}=this.auth;this.fullUserKey=cr(this.userKey,G.apiKey,se),this.fullPersistenceKey=cr("persistence",G.apiKey,se),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Ye._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,c.A)(function*(){if(g.persistence===h)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,T="authUser"){return(0,c.A)(function*(){if(!g.length)return new Vr(Fn(yr),h,T);const G=(yield Promise.all(g.map(function(){var xn=(0,c.A)(function*(Yn){if(yield Yn._isAvailable())return Yn});return function(Yn){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let se=G[0]||Fn(yr);const Ge=cr(T,h.config.apiKey,h.name);let At=null;for(const xn of g)try{const Yn=yield xn._get(Ge);if(Yn){const Kn=Ye._fromJSON(h,Yn);xn!==se&&(At=Kn),se=xn;break}}catch{}const an=G.filter(xn=>xn._shouldAllowMigration);return se._shouldAllowMigration&&an.length?(se=an[0],At&&(yield se._set(Ge,At.toJSON())),yield Promise.all(g.map(function(){var xn=(0,c.A)(function*(Yn){if(Yn!==se)try{yield Yn._remove(Ge)}catch{}});return function(Yn){return xn.apply(this,arguments)}}())),new Vr(se,h,T)):new Vr(se,h,T)})()}}function Jt(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Mt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Tn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ur(h))return"Blackberry";if(Vi(h))return"Webos";if(gi(h))return"Safari";if((h.includes("chrome/")||Lt(h))&&!h.includes("edge/"))return"Chrome";if(nn(h))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Tn(I=(0,H.ZQ)()){return/firefox\//i.test(I)}function gi(I=(0,H.ZQ)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Lt(I=(0,H.ZQ)()){return/crios\//i.test(I)}function Mt(I=(0,H.ZQ)()){return/iemobile/i.test(I)}function nn(I=(0,H.ZQ)()){return/android/i.test(I)}function Ur(I=(0,H.ZQ)()){return/blackberry/i.test(I)}function Vi(I=(0,H.ZQ)()){return/webos/i.test(I)}function to(I=(0,H.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ht(I=(0,H.ZQ)()){return to(I)||nn(I)||Vi(I)||Ur(I)||/windows phone/i.test(I)||Mt(I)}function Sn(I,h=[]){let g;switch(I){case"Browser":g=Jt((0,H.ZQ)());break;case"Worker":g=`${Jt((0,H.ZQ)())}-${I}`;break;default:g=I}const T=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${xe.SDK_VERSION}/${T}`}class ct{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const T=se=>new Promise((Ge,At)=>{try{Ge(h(se))}catch(an){At(an)}});T.onAbort=g,this.queue.push(T);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,c.A)(function*(){if(g.auth.currentUser===h)return;const T=[];try{for(const G of g.queue)yield G(h),G.onAbort&&T.push(G.onAbort)}catch(G){T.reverse();for(const se of T)try{se()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==G?void 0:G.message})}})()}}function bn(){return(bn=(0,c.A)(function*(I,h={}){return Ze(I,"GET","/v2/passwordPolicy",Fe(I,h))})).apply(this,arguments)}class En{constructor(h){var g,T,G,se;const Ge=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ge.minPasswordLength)&&void 0!==g?g:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(G=null===(T=h.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==G?G:"",this.forceUpgradeOnSignin=null!==(se=h.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,T,G,se,Ge,At;const an={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,an),this.validatePasswordCharacterOptions(h,an),an.isValid&&(an.isValid=null===(g=an.meetsMinPasswordLength)||void 0===g||g),an.isValid&&(an.isValid=null===(T=an.meetsMaxPasswordLength)||void 0===T||T),an.isValid&&(an.isValid=null===(G=an.containsLowercaseLetter)||void 0===G||G),an.isValid&&(an.isValid=null===(se=an.containsUppercaseLetter)||void 0===se||se),an.isValid&&(an.isValid=null===(Ge=an.containsNumericCharacter)||void 0===Ge||Ge),an.isValid&&(an.isValid=null===(At=an.containsNonAlphanumericCharacter)||void 0===At||At),an}validatePasswordLengthOptions(h,g){const T=this.customStrengthOptions.minPasswordLength,G=this.customStrengthOptions.maxPasswordLength;T&&(g.meetsMinPasswordLength=h.length>=T),G&&(g.meetsMaxPasswordLength=h.length<=G)}validatePasswordCharacterOptions(h,g){let T;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let G=0;G<h.length;G++)T=h.charAt(G),this.updatePasswordCharacterOptionsStatuses(g,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(h,g,T,G,se){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=G)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=se))}}class Xr{constructor(h,g,T,G){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ln(this),this.idTokenSubscription=new Ln(this),this.beforeStateQueue=new ct(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=G.sdkClientVersion}_initializeWithPersistence(h,g){var T=this;return g&&(this._popupRedirectResolver=Fn(g)),this._initializationPromise=this.queue((0,c.A)(function*(){var G,se;if(!T._deleted&&(T.persistenceManager=yield Vr.create(T,h),!T._deleted)){if(null!==(G=T._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(se=T.currentUser)||void 0===se?void 0:se.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,c.A)(function*(){try{const T=yield _r(g,{idToken:h}),G=yield Ye._fromGetAccountInfoResponse(g,T,h);yield g.directlySetCurrentUser(G)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,c.A)(function*(){var T;if((0,xe._isFirebaseServerApp)(g.app)){const At=g.app.settings.authIdToken;return At?new Promise(an=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(At).then(an,an))}):g.directlySetCurrentUser(null)}const G=yield g.assertedPersistence.getCurrentUser();let se=G,Ge=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const At=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,an=null==se?void 0:se._redirectEventId,xn=yield g.tryRedirectSignIn(h);(!At||At===an)&&null!=xn&&xn.user&&(se=xn.user,Ge=!0)}if(!se)return g.directlySetCurrentUser(null);if(!se._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(se)}catch(At){se=G,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(At))}return se?g.reloadAndSetCurrentUserOrClear(se):g.directlySetCurrentUser(null)}return Se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===se._redirectEventId?g.directlySetCurrentUser(se):g.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var g=this;return(0,c.A)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,c.A)(function*(){try{yield Pi(h)}catch(T){if("auth/network-request-failed"!==(null==T?void 0:T.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,c.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,c.A)(function*(){if((0,xe._isFirebaseServerApp)(g.app))return Promise.reject(Xe(g));const T=h?(0,H.Ku)(h):null;return T&&Se(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(h,g=!1){var T=this;return(0,c.A)(function*(){if(!T._deleted)return h&&Se(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,c.A)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.A)(function*(){return(0,xe._isFirebaseServerApp)(h.app)?Promise.reject(Xe(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,xe._isFirebaseServerApp)(this.app)?Promise.reject(Xe(this)):this.queue((0,c.A)(function*(){yield g.assertedPersistence.setPersistence(Fn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,c.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const T=g._getPasswordPolicyInternal();return T.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,c.A)(function*(){const g=yield function Yt(I){return bn.apply(this,arguments)}(h),T=new En(g);null===h.tenantId?h._projectPasswordPolicy=T:h._tenantPasswordPolicies[h.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new H.FA("auth","Firebase",h())}onAuthStateChanged(h,g,T){return this.registerStateListener(this.authStateSubscription,h,g,T)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,T){return this.registerStateListener(this.idTokenSubscription,h,g,T)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const T=this.onAuthStateChanged(()=>{T(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,c.A)(function*(){if(g.currentUser){const T=yield g.currentUser.getIdToken(),G={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:T};null!=g.tenantId&&(G.tenantId=g.tenantId),yield function ve(I,h){return Te.apply(this,arguments)}(g,G)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var T=this;return(0,c.A)(function*(){const G=yield T.getOrInitRedirectPersistenceManager(g);return null===h?G.removeCurrentUser():G.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,c.A)(function*(){if(!g.redirectPersistenceManager){const T=h&&Fn(h)||g._popupRedirectResolver;Se(T,g,"argument-error"),g.redirectPersistenceManager=yield Vr.create(g,[Fn(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,c.A)(function*(){var T,G;return g._isInitialized&&(yield g.queue((0,c.A)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===h?g._currentUser:(null===(G=g.redirectUser)||void 0===G?void 0:G._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,c.A)(function*(){if(h===g.currentUser)return g.queue((0,c.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,T,G){if(this._deleted)return()=>{};const se="function"==typeof g?g:g.next.bind(g);let Ge=!1;const At=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(At,this,"internal-error"),At.then(()=>{Ge||se(this.currentUser)}),"function"==typeof g){const an=h.addObserver(g,T,G);return()=>{Ge=!0,an()}}{const an=h.addObserver(g);return()=>{Ge=!0,an()}}}directlySetCurrentUser(h){var g=this;return(0,c.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.A)(function*(){var g;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const G=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();G&&(T["X-Firebase-Client"]=G);const se=yield h._getAppCheckToken();return se&&(T["X-Firebase-AppCheck"]=se),T})()}_getAppCheckToken(){var h=this;return(0,c.A)(function*(){var g;const T=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=T&&T.error&&function ut(I,...h){pt.logLevel<=De.$b.WARN&&pt.warn(`Auth (${xe.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${T.error}`),null==T?void 0:T.token})()}}function Ir(I){return(0,H.Ku)(I)}class Ln{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,H.tD)(g=>this.observer=g)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let On={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vr(I){return On.loadJS(I)}function bo(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Ms{constructor(h){this.type="recaptcha-enterprise",this.auth=Ir(h)}verify(h="verify",g=!1){var T=this;return(0,c.A)(function*(){function se(){return se=(0,c.A)(function*(At){if(!g){if(null==At.tenantId&&null!=At._agentRecaptchaConfig)return At._agentRecaptchaConfig.siteKey;if(null!=At.tenantId&&void 0!==At._tenantRecaptchaConfigs[At.tenantId])return At._tenantRecaptchaConfigs[At.tenantId].siteKey}return new Promise(function(){var an=(0,c.A)(function*(xn,Yn){zt(At,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kn=>{if(void 0!==Kn.recaptchaKey){const po=new zr(Kn);return null==At.tenantId?At._agentRecaptchaConfig=po:At._tenantRecaptchaConfigs[At.tenantId]=po,xn(po.siteKey)}Yn(new Error("recaptcha Enterprise site key undefined"))}).catch(Kn=>{Yn(Kn)})});return function(xn,Yn){return an.apply(this,arguments)}}())}),se.apply(this,arguments)}function Ge(At,an,xn){const Yn=window.grecaptcha;nr(Yn)?Yn.enterprise.ready(()=>{Yn.enterprise.execute(At,{action:h}).then(Kn=>{an(Kn)}).catch(()=>{an("NO_RECAPTCHA")})}):xn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((At,an)=>{(function G(At){return se.apply(this,arguments)})(T.auth).then(xn=>{if(!g&&nr(window.grecaptcha))Ge(xn,At,an);else{if(typeof window>"u")return void an(new Error("RecaptchaVerifier is only supported in browser"));let Yn=function Qr(){return On.recaptchaEnterpriseScript}();0!==Yn.length&&(Yn+=xn),vr(Yn).then(()=>{Ge(xn,At,an)}).catch(Kn=>{an(Kn)})}}).catch(xn=>{an(xn)})})})()}}function Qi(I,h,g){return go.apply(this,arguments)}function go(){return(go=(0,c.A)(function*(I,h,g,T=!1){const G=new Ms(I);let se;try{se=yield G.verify(g)}catch{se=yield G.verify(g,!0)}const Ge=Object.assign({},h);return Object.assign(Ge,T?{captchaResp:se}:{captchaResponse:se}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function Do(I,h,g,T){return ns.apply(this,arguments)}function ns(){return ns=(0,c.A)(function*(I,h,g,T){var G;if(null!==(G=I._getRecaptchaConfig())&&void 0!==G&&G.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield Qi(I,h,g,"getOobCode"===g);return T(I,se)}return T(I,h).catch(function(){var se=(0,c.A)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const At=yield Qi(I,h,g,"getOobCode"===g);return T(I,At)}return Promise.reject(Ge)});return function(Ge){return se.apply(this,arguments)}}())}),ns.apply(this,arguments)}function Tr(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function yt(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class ji{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Wt("not implemented")}_getIdTokenResponse(h){return Wt("not implemented")}_linkToIdToken(h,g){return Wt("not implemented")}_getReauthenticationResolver(h){return Wt("not implemented")}}function ta(I,h){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:resetPassword",Fe(I,h))})).apply(this,arguments)}function mo(){return(mo=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ts(I,h){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Uo(){return(Uo=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:update",Fe(I,h))})).apply(this,arguments)}function Ps(I,h){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signInWithPassword",Fe(I,h))})).apply(this,arguments)}function li(I,h){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:sendOobCode",Fe(I,h))})).apply(this,arguments)}function fs(){return(fs=(0,c.A)(function*(I,h){return li(I,h)})).apply(this,arguments)}function Ni(I,h){return K.apply(this,arguments)}function K(){return(K=(0,c.A)(function*(I,h){return li(I,h)})).apply(this,arguments)}function oe(I,h){return we.apply(this,arguments)}function we(){return(we=(0,c.A)(function*(I,h){return li(I,h)})).apply(this,arguments)}function et(){return(et=(0,c.A)(function*(I,h){return li(I,h)})).apply(this,arguments)}function Qt(){return(Qt=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signInWithEmailLink",Fe(I,h))})).apply(this,arguments)}function qt(){return(qt=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signInWithEmailLink",Fe(I,h))})).apply(this,arguments)}class rn extends ji{constructor(h,g,T,G=null){super("password",T),this._email=h,this._password=g,this._tenantId=G}static _fromEmailAndPassword(h,g){return new rn(h,g,"password")}static _fromEmailAndCode(h,g,T=null){return new rn(h,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,c.A)(function*(){switch(g.signInMethod){case"password":return Do(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ps);case"emailLink":return function qe(I,h){return Qt.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ge(h,"internal-error")}})()}_linkToIdToken(h,g){var T=this;return(0,c.A)(function*(){switch(T.signInMethod){case"password":return Do(h,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ts);case"emailLink":return function _t(I,h){return qt.apply(this,arguments)}(h,{idToken:g,email:T._email,oobCode:T._password});default:ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function An(I,h){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signInWithIdp",Fe(I,h))})).apply(this,arguments)}class Wn extends ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Wn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):ge("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:G}=g,se=(0,he.Tt)(g,["providerId","signInMethod"]);if(!T||!G)return null;const Ge=new Wn(T,G);return Ge.idToken=se.idToken||void 0,Ge.accessToken=se.accessToken||void 0,Ge.secret=se.secret,Ge.nonce=se.nonce,Ge.pendingToken=se.pendingToken||null,Ge}_getIdTokenResponse(h){return An(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,An(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,An(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,H.Am)(g)}return h}}function ci(){return(ci=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:sendVerificationCode",Fe(I,h))})).apply(this,arguments)}function ri(){return(ri=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signInWithPhoneNumber",Fe(I,h))})).apply(this,arguments)}function lo(){return(lo=(0,c.A)(function*(I,h){const g=yield Hn(I,"POST","/v1/accounts:signInWithPhoneNumber",Fe(I,h));if(g.temporaryProof)throw Gn(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const wo={USER_NOT_FOUND:"user-not-found"};function No(){return(No=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signInWithPhoneNumber",Fe(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),wo)})).apply(this,arguments)}class uo extends ji{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new uo({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new uo({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Di(I,h){return ri.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function wi(I,h){return lo.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function vo(I,h){return No.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:T,verificationCode:G}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:T,code:G}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:T,phoneNumber:G,temporaryProof:se}=h;return T||g||G||se?new uo({verificationId:g,verificationCode:T,phoneNumber:G,temporaryProof:se}):null}}class $o{constructor(h){var g,T,G,se,Ge,At;const an=(0,H.I9)((0,H.hp)(h)),xn=null!==(g=an.apiKey)&&void 0!==g?g:null,Yn=null!==(T=an.oobCode)&&void 0!==T?T:null,Kn=function Xo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=an.mode)&&void 0!==G?G:null);Se(xn&&Yn&&Kn,"argument-error"),this.apiKey=xn,this.operation=Kn,this.code=Yn,this.continueUrl=null!==(se=an.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ge=an.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(At=an.tenantId)&&void 0!==At?At:null}static parseLink(h){const g=function Bo(I){const h=(0,H.I9)((0,H.hp)(I)).link,g=h?(0,H.I9)((0,H.hp)(h)).deep_link_id:null,T=(0,H.I9)((0,H.hp)(I)).deep_link_id;return(T?(0,H.I9)((0,H.hp)(T)).link:null)||T||g||h||I}(h);try{return new $o(g)}catch{return null}}}let ps=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,T){return rn._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const G=$o.parseLink(T);return Se(G,"argument-error"),rn._fromEmailAndCode(g,G.code,G.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ii{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ui extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ro extends Ui{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Se("providerId"in g&&"signInMethod"in g,"argument-error"),Wn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Se(h.idToken||h.accessToken,"argument-error"),Wn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ro.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ro.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:G,pendingToken:se,nonce:Ge,providerId:At}=h;if(!T&&!G&&!g&&!se||!At)return null;try{return new ro(At)._credential({idToken:g,accessToken:T,nonce:Ge,pendingToken:se})}catch{return null}}}let Qo=(()=>{class I extends Ui{constructor(){super("facebook.com")}static credential(g){return Wn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ma=(()=>{class I extends Ui{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return Wn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:G}=g;if(!T&&!G)return null;try{return I.credential(T,G)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),di=(()=>{class I extends Ui{constructor(){super("github.com")}static credential(g){return Wn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ar extends ji{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return An(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,An(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,An(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:G,pendingToken:se}=g;return T&&G&&se&&T===G?new ar(T,se):null}static _create(h,g){return new ar(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends Ii{constructor(h){Se(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return _o.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return _o.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=ar.fromJSON(h);return Se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:T}=h;if(!g||!T)return null;try{return ar._create(T,g)}catch{return null}}}let yo=(()=>{class I extends Ui{constructor(){super("twitter.com")}static credential(g,T){return Wn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:G}=g;if(!T||!G)return null;try{return I.credential(T,G)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Hi(I,h){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signUp",Fe(I,h))})).apply(this,arguments)}class Oi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,T,G=!1){return(0,c.A)(function*(){const se=yield Ye._fromIdTokenResponse(h,T,G),Ge=Jr(T);return new Oi({user:se,providerId:Ge,_tokenResponse:T,operationType:g})})()}static _forOperation(h,g,T){return(0,c.A)(function*(){yield h._updateTokensIfNecessary(T,!0);const G=Jr(T);return new Oi({user:h,providerId:G,_tokenResponse:T,operationType:g})})()}}function Jr(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Mo(){return(Mo=(0,c.A)(function*(I){var h;if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const g=Ir(I);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Oi({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield Hi(g,{returnSecureToken:!0}),G=yield Oi._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(G.user),G})).apply(this,arguments)}class Ai extends H.g{constructor(h,g,T,G){var se;super(g.code,g.message),this.operationType=T,this.user=G,Object.setPrototypeOf(this,Ai.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,g,T,G){return new Ai(h,g,T,G)}}function q(I,h,g,T){return("reauthenticate"===h?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Ai._fromErrorAndOperation(I,se,h,T):se})}function W(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function Me(){return Me=(0,c.A)(function*(I,h){const g=(0,H.Ku)(I);yield dn(!0,g,h);const{providerUserInfo:T}=yield function Nn(I,h){return Bn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),G=W(T||[]);return g.providerData=g.providerData.filter(se=>G.has(se.providerId)),G.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Me.apply(this,arguments)}function je(I,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.A)(function*(I,h,g=!1){const T=yield Mi(I,h._linkToIdToken(I.auth,yield I.getIdToken()),g);return Oi._forOperation(I,"link",T)})).apply(this,arguments)}function dn(I,h,g){return $n.apply(this,arguments)}function $n(){return($n=(0,c.A)(function*(I,h,g){yield Pi(h);const G=!1===I?"provider-already-linked":"no-such-provider";Se(W(h.providerData).has(g)===I,h.auth,G)})).apply(this,arguments)}function Mn(I,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.A)(function*(I,h,g=!1){const{auth:T}=I;if((0,xe._isFirebaseServerApp)(T.app))return Promise.reject(Xe(T));const G="reauthenticate";try{const se=yield Mi(I,q(T,G,h,I),g);Se(se.idToken,T,"internal-error");const Ge=ir(se.idToken);Se(Ge,T,"internal-error");const{sub:At}=Ge;return Se(I.uid===At,T,"user-mismatch"),Oi._forOperation(I,G,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&ge(T,"user-mismatch"),se}})).apply(this,arguments)}function br(I,h){return z.apply(this,arguments)}function z(){return(z=(0,c.A)(function*(I,h,g=!1){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const T="signIn",G=yield q(I,T,h),se=yield Oi._fromIdTokenResponse(I,T,G);return g||(yield I._updateCurrentUser(se.user)),se})).apply(this,arguments)}function P(I,h){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.A)(function*(I,h){return br(Ir(I),h)})).apply(this,arguments)}function B(I,h){return de.apply(this,arguments)}function de(){return(de=(0,c.A)(function*(I,h){const g=(0,H.Ku)(I);return yield dn(!1,g,h.providerId),je(g,h)})).apply(this,arguments)}function Kt(I,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.A)(function*(I,h){return Mn((0,H.Ku)(I),h)})).apply(this,arguments)}function $r(){return($r=(0,c.A)(function*(I,h){return Hn(I,"POST","/v1/accounts:signInWithCustomToken",Fe(I,h))})).apply(this,arguments)}function Io(){return Io=(0,c.A)(function*(I,h){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const g=Ir(I),T=yield function ti(I,h){return $r.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),G=yield Oi._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(G.user),G}),Io.apply(this,arguments)}class io{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?jo._fromServerResponse(h,g):"totpInfo"in g?Oo._fromServerResponse(h,g):ge(h,"internal-error")}}class jo extends io{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new jo(g)}}class Oo extends io{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Oo(g)}}function is(I,h,g){var T;Se((null===(T=g.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),Se(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Se(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Se(g.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function jr(I){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.A)(function*(I){const h=Ir(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Yo(){return(Yo=(0,c.A)(function*(I,h,g){const T=Ir(I),G={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&is(T,G,g),yield Do(T,G,"getOobCode",Ni)})).apply(this,arguments)}function Ji(){return Ji=(0,c.A)(function*(I,h,g){yield ta((0,H.Ku)(I),{oobCode:h,newPassword:g}).catch(function(){var T=(0,c.A)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&jr(I),G});return function(G){return T.apply(this,arguments)}}())}),Ji.apply(this,arguments)}function hi(){return hi=(0,c.A)(function*(I,h){yield function hs(I,h){return Uo.apply(this,arguments)}((0,H.Ku)(I),{oobCode:h})}),hi.apply(this,arguments)}function os(I,h){return na.apply(this,arguments)}function na(){return(na=(0,c.A)(function*(I,h){const g=(0,H.Ku)(I),T=yield ta(g,{oobCode:h}),G=T.requestType;switch(Se(G,g,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(T.mfaInfo,g,"internal-error");default:Se(T.email,g,"internal-error")}let se=null;return T.mfaInfo&&(se=io._fromServerResponse(Ir(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:se},operation:G}})).apply(this,arguments)}function fa(){return(fa=(0,c.A)(function*(I,h){const{data:g}=yield os((0,H.Ku)(I),h);return g.email})).apply(this,arguments)}function Pa(){return(Pa=(0,c.A)(function*(I,h,g){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const T=Ir(I),Ge=yield Do(T,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hi).catch(an=>{throw"auth/password-does-not-meet-requirements"===an.code&&jr(I),an}),At=yield Oi._fromIdTokenResponse(T,"signIn",Ge);return yield T._updateCurrentUser(At.user),At})).apply(this,arguments)}function gs(){return(gs=(0,c.A)(function*(I,h,g){const T=Ir(I),G={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function se(Ge,At){Se(At.handleCodeInApp,T,"argument-error"),At&&is(T,Ge,At)})(G,g),yield Do(T,G,"getOobCode",oe)})).apply(this,arguments)}function xa(){return(xa=(0,c.A)(function*(I,h,g){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const T=(0,H.Ku)(I),G=ps.credentialWithLink(h,g||wn());return Se(G._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),P(T,G)})).apply(this,arguments)}function js(){return(js=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:createAuthUri",Fe(I,h))})).apply(this,arguments)}function Oa(){return Oa=(0,c.A)(function*(I,h){const T={identifier:h,continueUri:un()?wn():"http://localhost"},{signinMethods:G}=yield function Na(I,h){return js.apply(this,arguments)}((0,H.Ku)(I),T);return G||[]}),Oa.apply(this,arguments)}function eu(){return eu=(0,c.A)(function*(I,h){const g=(0,H.Ku)(I),G={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&is(g.auth,G,h);const{email:se}=yield function xo(I,h){return fs.apply(this,arguments)}(g.auth,G);se!==I.email&&(yield I.reload())}),eu.apply(this,arguments)}function ia(){return ia=(0,c.A)(function*(I,h,g){const T=(0,H.Ku)(I),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};g&&is(T.auth,se,g);const{email:Ge}=yield function Oe(I,h){return et.apply(this,arguments)}(T.auth,se);Ge!==I.email&&(yield I.reload())}),ia.apply(this,arguments)}function Zo(){return(Zo=(0,c.A)(function*(I,h){return Ze(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ga(){return Ga=(0,c.A)(function*(I,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const T=(0,H.Ku)(I),se={idToken:yield T.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ge=yield Mi(T,function bs(I,h){return Zo.apply(this,arguments)}(T.auth,se));T.displayName=Ge.displayName||null,T.photoURL=Ge.photoUrl||null;const At=T.providerData.find(({providerId:an})=>"password"===an);At&&(At.displayName=T.displayName,At.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Ge)}),Ga.apply(this,arguments)}function ss(I,h,g){return E.apply(this,arguments)}function E(){return E=(0,c.A)(function*(I,h,g){const{auth:T}=I,se={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(se.email=h),g&&(se.password=g);const Ge=yield Mi(I,function xr(I,h){return mo.apply(this,arguments)}(T,se));yield I._updateTokensIfNecessary(Ge,!0)}),E.apply(this,arguments)}class ${constructor(h,g,T={}){this.isNewUser=h,this.providerId=g,this.profile=T}}class y extends ${constructor(h,g,T,G){super(h,g,T),this.username=G}}class U extends ${constructor(h,g){super(h,"facebook.com",g)}}class ie extends y{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class C extends ${constructor(h,g){super(h,"google.com",g)}}class N extends y{constructor(h,g,T){super(h,"twitter.com",g,T)}}function ue(I){const{user:h,_tokenResponse:g}=I;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function M(I){var h,g;if(!I)return null;const{providerId:T}=I,G=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},se=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&null!=I&&I.idToken){const Ge=null===(g=null===(h=ir(I.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new $(se,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!T)return null;switch(T){case"facebook.com":return new U(se,G);case"github.com":return new ie(se,G);case"google.com":return new C(se,G);case"twitter.com":return new N(se,G,I.screenName||null);case"custom":case"anonymous":return new $(se,null);default:return new $(se,T,G)}}(g)}class oi{constructor(h,g,T){this.type=h,this.credential=g,this.user=T}static _fromIdtoken(h,g){return new oi("enroll",h,g)}static _fromMfaPendingCredential(h){return new oi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,T;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return oi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(T=h.multiFactorSession)&&void 0!==T&&T.idToken)return oi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class gn{constructor(h,g,T){this.session=h,this.hints=g,this.signInResolver=T}static _fromError(h,g){const T=Ir(h),G=g.customData._serverResponse,se=(G.mfaInfo||[]).map(At=>io._fromServerResponse(T,At));Se(G.mfaPendingCredential,T,"internal-error");const Ge=oi._fromMfaPendingCredential(G.mfaPendingCredential);return new gn(Ge,se,function(){var At=(0,c.A)(function*(an){const xn=yield an._process(T,Ge);delete G.mfaInfo,delete G.mfaPendingCredential;const Yn=Object.assign(Object.assign({},G),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(g.operationType){case"signIn":const Kn=yield Oi._fromIdTokenResponse(T,g.operationType,Yn);return yield T._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return Se(g.user,T,"internal-error"),Oi._forOperation(g.user,g.operationType,Yn);default:ge(T,"internal-error")}});return function(an){return At.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,c.A)(function*(){return g.signInResolver(h)})()}}class Li{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>io._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new Li(h)}getSession(){var h=this;return(0,c.A)(function*(){return oi._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var T=this;return(0,c.A)(function*(){const G=h,se=yield T.getSession(),Ge=yield Mi(T.user,G._process(T.user.auth,se,g));return yield T.user._updateTokensIfNecessary(Ge),T.user.reload()})()}unenroll(h){var g=this;return(0,c.A)(function*(){const T="string"==typeof h?h:h.uid,G=yield g.user.getIdToken();try{const se=yield Mi(g.user,function Fo(I,h){return Ze(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Fe(I,h))}(g.user.auth,{idToken:G,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ge})=>Ge!==T),yield g.user._updateTokensIfNecessary(se),yield g.user.reload()}catch(se){throw se}})()}}const Bi=new WeakMap,Sr="__sak";class Lr{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Sr,"1"),this.storage.removeItem(Sr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const pa=(()=>{class I extends Lr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ht(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const G=this.storage.getItem(T),se=this.localCache[T];G!==se&&g(T,se,G)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((At,an,xn)=>{this.notifyListeners(At,xn)});const G=g.key;T?this.detachListener():this.stopPolling();const se=()=>{const At=this.storage.getItem(G);!T&&this.localCache[G]===At||this.notifyListeners(G,At)},Ge=this.storage.getItem(G);!function it(){return(0,H.lT)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?se():setTimeout(se,10)}notifyListeners(g,T){this.localCache[g]=T;const G=this.listeners[g];if(G)for(const se of Array.from(G))se(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var G=()=>super._set,se=this;return(0,c.A)(function*(){yield G().call(se,g,T),se.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,G=this;return(0,c.A)(function*(){const se=yield T().call(G,g);return G.localCache[g]=JSON.stringify(se),se})()}_remove(g){var T=()=>super._remove,G=this;return(0,c.A)(function*(){yield T().call(G,g),delete G.localCache[g]})()}}return I.type="LOCAL",I})(),Ro=(()=>{class I extends Lr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return I.type="SESSION",I})();let Lu=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(se=>se.isListeningto(g));if(T)return T;const G=new I(g);return this.receivers.push(G),G}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,c.A)(function*(){const G=g,{eventId:se,eventType:Ge,data:At}=G.data,an=T.handlersMap[Ge];if(null==an||!an.size)return;G.ports[0].postMessage({status:"ack",eventId:se,eventType:Ge});const xn=Array.from(an).map(function(){var Kn=(0,c.A)(function*(po){return po(G.origin,At)});return function(po){return Kn.apply(this,arguments)}}()),Yn=yield function ul(I){return Promise.all(I.map(function(){var h=(0,c.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return h.apply(this,arguments)}}()))}(xn);G.ports[0].postMessage({status:"done",eventId:se,eventType:Ge,response:Yn})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xs(I="",h=10){let g="";for(let T=0;T<h;T++)g+=Math.floor(10*Math.random());return I+g}class ga{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,T=50){var G=this;return(0,c.A)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ge,At;return new Promise((an,xn)=>{const Yn=xs("",20);se.port1.start();const Kn=setTimeout(()=>{xn(new Error("unsupported_event"))},T);At={messageChannel:se,onMessage(po){const Ws=po;if(Ws.data.eventId===Yn)switch(Ws.data.status){case"ack":clearTimeout(Kn),Ge=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),an(Ws.data.response);break;default:clearTimeout(Kn),clearTimeout(Ge),xn(new Error("invalid_response"))}}},G.handlers.add(At),se.port1.addEventListener("message",At.onMessage),G.target.postMessage({eventType:h,eventId:Yn,data:g},[se.port2])}).finally(()=>{At&&G.removeMessageHandler(At)})})()}}function Ei(){return window}function aa(){return typeof Ei().WorkerGlobalScope<"u"&&"function"==typeof Ei().importScripts}function as(){return(as=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ki="firebaseLocalStorageDb",ho="firebaseLocalStorage",ui="fbase_key";class ma{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ns(I,h){return I.transaction([ho],h?"readwrite":"readonly").objectStore(ho)}function Os(){const I=indexedDB.open(Ki,1);return new Promise((h,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(ho,{keyPath:ui})}catch(G){g(G)}}),I.addEventListener("success",(0,c.A)(function*(){const T=I.result;T.objectStoreNames.contains(ho)?h(T):(T.close(),yield function ru(){const I=indexedDB.deleteDatabase(Ki);return new ma(I).toPromise()}(),h(yield Os()))}))})}function va(I,h,g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.A)(function*(I,h,g){const T=Ns(I,!0).put({[ui]:h,value:g});return new ma(T).toPromise()})).apply(this,arguments)}function _a(){return(_a=(0,c.A)(function*(I,h){const g=Ns(I,!1).get(h),T=yield new ma(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ya(I,h){const g=Ns(I,!0).delete(h);return new ma(g).toPromise()}const ka=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.A)(function*(){return g.db||(g.db=yield Os()),g.db})()}_withRetries(g){var T=this;return(0,c.A)(function*(){let G=0;for(;;)try{const se=yield T._openDb();return yield g(se)}catch(se){if(G++>3)throw se;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.A)(function*(){return aa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.A)(function*(){g.receiver=Lu._getInstance(function cl(){return aa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,c.A)(function*(G,se){return{keyProcessed:(yield g._poll()).includes(se.key)}});return function(G,se){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,c.A)(function*(G,se){return["keyChanged"]});return function(G,se){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.A)(function*(){var T,G;if(g.activeServiceWorker=yield function nu(){return as.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ga(g.activeServiceWorker);const se=yield g.sender._send("ping",{},800);se&&null!==(T=se[0])&&void 0!==T&&T.fulfilled&&null!==(G=se[0])&&void 0!==G&&G.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,c.A)(function*(){if(T.sender&&T.activeServiceWorker&&function Vu(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const g=yield Os();return yield va(g,Sr,"1"),yield ya(g,Sr),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,c.A)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var G=this;return(0,c.A)(function*(){return G._withPendingWrite((0,c.A)(function*(){return yield G._withRetries(se=>va(se,g,T)),G.localCache[g]=T,G.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,c.A)(function*(){const G=yield T._withRetries(se=>function Ac(I,h){return _a.apply(this,arguments)}(se,g));return T.localCache[g]=G,G})()}_remove(g){var T=this;return(0,c.A)(function*(){return T._withPendingWrite((0,c.A)(function*(){return yield T._withRetries(G=>ya(G,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.A)(function*(){const T=yield g._withRetries(Ge=>{const At=Ns(Ge,!1).getAll();return new ma(At).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const G=[],se=new Set;if(0!==T.length)for(const{fbase_key:Ge,value:At}of T)se.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(At)&&(g.notifyListeners(Ge,At),G.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!se.has(Ge)&&(g.notifyListeners(Ge,null),G.push(Ge));return G})()}notifyListeners(g,T){this.localCache[g]=T;const G=this.listeners[g];if(G)for(const se of Array.from(G))se(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),F=1e12;class re{constructor(h){this.auth=h,this.counter=F,this._widgets=new Map}render(h,g){const T=this.counter;return this._widgets.set(T,new le(h,this.auth.name,g||{})),this.counter++,T}reset(h){var g;const T=h||F;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(h){var g;return(null===(g=this._widgets.get(h||F))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,c.A)(function*(){var T;return null===(T=g._widgets.get(h||F))||void 0===T||T.execute(),""})()}}class le{constructor(h,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof h?document.getElementById(h):h;Se(G,"argument-error",{appName:g}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vt(I){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const on=bo("rcb"),Et=new ye(3e4,6e4);class kn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ei().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Se(function Or(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&dr(Ei().grecaptcha)?Promise.resolve(Ei().grecaptcha):new Promise((T,G)=>{const se=Ei().setTimeout(()=>{G(Ce(h,"network-request-failed"))},Et.get());Ei()[on]=()=>{Ei().clearTimeout(se),delete Ei()[on];const At=Ei().grecaptcha;if(!At||!dr(At))return void G(Ce(h,"internal-error"));const an=At.render;At.render=(xn,Yn)=>{const Kn=an(xn,Yn);return this.counter++,Kn},this.hostLanguage=g,T(At)},vr(`${function ds(){return On.recaptchaV2Script}()}?${(0,H.Am)({onload:on,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(se),G(Ce(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Ei().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Si{load(h){return(0,c.A)(function*(){return new re(h)})()}clearedOneInstance(){}}const Gr="recaptcha",fo={theme:"light",type:"image"};class Ho{constructor(h,g,T=Object.assign({},fo)){this.parameters=T,this.type=Gr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ir(h),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof g?document.getElementById(g):g;Se(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Si:new kn,this.validateStartingState()}verify(){var h=this;return(0,c.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(g)||new Promise(se=>{const Ge=At=>{At&&(h.tokenChangeListeners.delete(Ge),se(At))};h.tokenChangeListeners.add(Ge),h.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof h)h(g);else if("string"==typeof h){const T=Ei()[h];"function"==typeof T&&T(g)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.A)(function*(){Se(un()&&!aa(),h.auth,"internal-error"),yield function zo(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Gt(I){return St.apply(this,arguments)}(h.auth);Se(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ks{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=uo._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function dl(){return(dl=(0,c.A)(function*(I,h,g){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const T=Ir(I),G=yield iu(T,h,(0,H.Ku)(g));return new ks(G,se=>P(T,se))})).apply(this,arguments)}function hl(){return(hl=(0,c.A)(function*(I,h,g){const T=(0,H.Ku)(I);yield dn(!1,T,"phone");const G=yield iu(T.auth,h,(0,H.Ku)(g));return new ks(G,se=>B(T,se))})).apply(this,arguments)}function fl(){return(fl=(0,c.A)(function*(I,h,g){const T=(0,H.Ku)(I);if((0,xe._isFirebaseServerApp)(T.auth.app))return Promise.reject(Xe(T.auth));const G=yield iu(T.auth,h,(0,H.Ku)(g));return new ks(G,se=>Kt(T,se))})).apply(this,arguments)}function iu(I,h,g){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,c.A)(function*(I,h,g){var T;const G=yield g.verify();try{let se;if(Se("string"==typeof G,I,"argument-error"),Se(g.type===Gr,I,"argument-error"),se="string"==typeof h?{phoneNumber:h}:h,"session"in se){const Ge=se.session;if("phoneNumber"in se)return Se("enroll"===Ge.type,I,"internal-error"),(yield function vi(I,h){return Ze(I,"POST","/v2/accounts/mfaEnrollment:start",Fe(I,h))}(I,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{Se("signin"===Ge.type,I,"internal-error");const At=(null===(T=se.multiFactorHint)||void 0===T?void 0:T.uid)||se.multiFactorUid;return Se(At,I,"missing-multi-factor-info"),(yield function Ah(I,h){return Ze(I,"POST","/v2/accounts/mfaSignIn:start",Fe(I,h))}(I,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:At,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield function Zr(I,h){return ci.apply(this,arguments)}(I,{phoneNumber:se.phoneNumber,recaptchaToken:G});return Ge}}finally{g._reset()}}),Ch.apply(this,arguments)}function ud(){return(ud=(0,c.A)(function*(I,h){const g=(0,H.Ku)(I);if((0,xe._isFirebaseServerApp)(g.auth.app))return Promise.reject(Xe(g.auth));yield je(g,h)})).apply(this,arguments)}let $u=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=Ir(g)}verifyPhoneNumber(g,T){return iu(this.auth,g,(0,H.Ku)(T))}static credential(g,T){return uo._fromVerification(g,T)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:G}=g;return T&&G?uo._fromTokenResponse(T,G):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function pi(I,h){return h?Fn(h):(Se(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Qa extends ji{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return An(h,this._buildIdpRequest())}_linkToIdToken(h,g){return An(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return An(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function ju(I){return br(I.auth,new Qa(I),I.bypassAuthState)}function Fs(I){const{auth:h,user:g}=I;return Se(g,h,"internal-error"),Mn(g,new Qa(I),I.bypassAuthState)}function Lo(I){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.A)(function*(I){const{auth:h,user:g}=I;return Se(g,h,"internal-error"),je(g,new Qa(I),I.bypassAuthState)})).apply(this,arguments)}class Ya{constructor(h,g,T,G,se=!1){this.auth=h,this.resolver=T,this.user=G,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,c.A)(function*(T,G){h.pendingPromise={resolve:T,reject:G};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(T,G){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,c.A)(function*(){const{urlResponse:T,sessionId:G,postBody:se,tenantId:Ge,error:At,type:an}=h;if(At)return void g.reject(At);const xn={auth:g.auth,requestUri:T,sessionId:G,tenantId:Ge||void 0,postBody:se||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(an)(xn))}catch(Yn){g.reject(Yn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ju;case"linkViaPopup":case"linkViaRedirect":return Lo;case"reauthViaPopup":case"reauthViaRedirect":return Fs;default:ge(this.auth,"internal-error")}}resolve(h){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hs=new ye(2e3,1e4);function zs(){return(zs=(0,c.A)(function*(I,h,g){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Ce(I,"operation-not-supported-in-this-environment"));const T=Ir(I);Ct(I,h,Ii);const G=pi(T,g);return new Dc(T,"signInViaPopup",h,G).executeNotNull()})).apply(this,arguments)}function Ls(){return(Ls=(0,c.A)(function*(I,h,g){const T=(0,H.Ku)(I);if((0,xe._isFirebaseServerApp)(T.auth.app))return Promise.reject(Ce(T.auth,"operation-not-supported-in-this-environment"));Ct(T.auth,h,Ii);const G=pi(T.auth,g);return new Dc(T.auth,"reauthViaPopup",h,G,T).executeNotNull()})).apply(this,arguments)}function bc(){return(bc=(0,c.A)(function*(I,h,g){const T=(0,H.Ku)(I);Ct(T.auth,h,Ii);const G=pi(T.auth,g);return new Dc(T.auth,"linkViaPopup",h,G,T).executeNotNull()})).apply(this,arguments)}let Dc=(()=>{class I extends Ya{constructor(g,T,G,se,Ge){super(g,T,se,Ge),this.provider=G,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.A)(function*(){const T=yield g.execute();return Se(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,c.A)(function*(){Xt(1===g.filter.length,"Popup operations only handle one event");const T=xs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(G=>{g.reject(G)}),g.resolver._isIframeWebStorageSupported(g.auth,G=>{G||g.reject(Ce(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,G;this.pollId=null!==(G=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==G&&G.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Hs.get())};g()}}return I.currentPopupAction=null,I})();const wc="pendingRedirect",ou=new Map;class dd extends Ya{constructor(h,g,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,c.A)(function*(){let T=ou.get(g.auth._key());if(!T){try{const se=(yield function Ll(I,h){return su.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;T=()=>Promise.resolve(se)}catch(G){T=()=>Promise.reject(G)}ou.set(g.auth._key(),T)}return g.bypassAuthState||ou.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,T=this;return(0,c.A)(function*(){if("signInViaRedirect"===h.type)return g().call(T,h);if("unknown"!==h.type){if(h.eventId){const G=yield T.auth._redirectUserForId(h.eventId);if(G)return T.user=G,g().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function su(){return(su=(0,c.A)(function*(I,h){const g=tm(h),T=hd(I);if(!(yield T._isAvailable()))return!1;const G="true"===(yield T._get(g));return yield T._remove(g),G})).apply(this,arguments)}function Fa(I,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.A)(function*(I,h){return hd(I)._set(tm(h),"true")})).apply(this,arguments)}function Hu(I,h){ou.set(I._key(),h)}function hd(I){return Fn(I._redirectPersistence)}function tm(I){return cr(wc,I.config.apiKey,I.name)}function sp(I,h,g){return function nm(I,h,g){return Th.apply(this,arguments)}(I,h,g)}function Th(){return(Th=(0,c.A)(function*(I,h,g){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const T=Ir(I);Ct(I,h,Ii),yield T._initializationPromise;const G=pi(T,g);return yield Fa(G,T),G._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function ap(I,h,g){return function Gs(I,h,g){return Vl.apply(this,arguments)}(I,h,g)}function Vl(){return(Vl=(0,c.A)(function*(I,h,g){const T=(0,H.Ku)(I);if(Ct(T.auth,h,Ii),(0,xe._isFirebaseServerApp)(T.auth.app))return Promise.reject(Xe(T.auth));yield T.auth._initializationPromise;const G=pi(T.auth,g);yield Fa(G,T.auth);const se=yield zu(T);return G._openRedirect(T.auth,h,"reauthViaRedirect",se)})).apply(this,arguments)}function lp(I,h,g){return function rm(I,h,g){return fd.apply(this,arguments)}(I,h,g)}function fd(){return(fd=(0,c.A)(function*(I,h,g){const T=(0,H.Ku)(I);Ct(T.auth,h,Ii),yield T.auth._initializationPromise;const G=pi(T.auth,g);yield dn(!1,T,h.providerId),yield Fa(G,T.auth);const se=yield zu(T);return G._openRedirect(T.auth,h,"linkViaRedirect",se)})).apply(this,arguments)}function en(){return(en=(0,c.A)(function*(I,h){return yield Ir(I)._initializationPromise,si(I,h,!1)})).apply(this,arguments)}function si(I,h){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,c.A)(function*(I,h,g=!1){if((0,xe._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const T=Ir(I),G=pi(T,h),Ge=yield new dd(T,G,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield T._persistUserIfCurrent(Ge.user),yield T._setRedirectUser(null,h)),Ge})).apply(this,arguments)}function zu(I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.A)(function*(I){const h=xs(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class Ia{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(g=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Mc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rc(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var T;if(h.error&&!Rc(h)){const G=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Ce(this.auth,G))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const T=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ds(h))}saveEventToCache(h){this.cachedEventUids.add(Ds(h)),this.lastProcessedEventTime=Date.now()}}function Ds(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Rc({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Pc(I){return bh.apply(this,arguments)}function bh(){return(bh=(0,c.A)(function*(I,h={}){return Ze(I,"GET","/v1/projects",h)})).apply(this,arguments)}const im=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,up=/^https?/;function xc(){return(xc=(0,c.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield Pc(I);for(const g of h)try{if(us(g))return}catch{}ge(I,"unauthorized-domain")})).apply(this,arguments)}function us(I){const h=wn(),{protocol:g,hostname:T}=new URL(h);if(I.startsWith("chrome-extension://")){const Ge=new URL(I);return""===Ge.hostname&&""===T?"chrome-extension:"===g&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===T}if(!up.test(g))return!1;if(im.test(I))return T===I;const G=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(T)}const la=new ye(3e4,6e4);function wh(){const I=Ei().___jsl;if(null!=I&&I.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let Ea=null;const dp=new ye(5e3,15e3),om="__/auth/iframe",sm="emulator/auth/iframe",lu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ml=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Za(I){const h=I.config;Se(h.authDomain,I,"auth-domain-config-required");const g=h.emulator?me(h,sm):`https://${I.config.authDomain}/${om}`,T={apiKey:h.apiKey,appName:I.name,v:xe.SDK_VERSION},G=ml.get(I.config.apiHost);G&&(T.eid=G);const se=I._getFrameworks();return se.length&&(T.fw=se.join(",")),`${g}?${(0,H.Am)(T).slice(1)}`}function pd(){return pd=(0,c.A)(function*(I){const h=yield function cp(I){return Ea=Ea||function ms(I){return new Promise((h,g)=>{var T,G,se;function Ge(){wh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{wh(),g(Ce(I,"network-request-failed"))},timeout:la.get()})}if(null!==(G=null===(T=Ei().gapi)||void 0===T?void 0:T.iframes)&&void 0!==G&&G.Iframe)h(gapi.iframes.getContext());else{if(null===(se=Ei().gapi)||void 0===se||!se.load){const At=bo("iframefcb");return Ei()[At]=()=>{gapi.load?Ge():g(Ce(I,"network-request-failed"))},vr(`${function vn(){return On.gapiScript}()}?onload=${At}`).catch(an=>g(an))}Ge()}}).catch(h=>{throw Ea=null,h})}(I),Ea}(I),g=Ei().gapi;return Se(g,I,"internal-error"),h.open({where:document.body,url:Za(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lu,dontclear:!0},T=>new Promise(function(){var G=(0,c.A)(function*(se,Ge){yield T.restyle({setHideOnLeave:!1});const At=Ce(I,"network-request-failed"),an=Ei().setTimeout(()=>{Ge(At)},dp.get());function xn(){Ei().clearTimeout(an),se(T)}T.ping(xn).then(xn,()=>{Ge(At)})});return function(se,Ge){return G.apply(this,arguments)}}()))}),pd.apply(this,arguments)}const Sh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Go="__/auth/handler",uu="emulator/auth/handler",qi=encodeURIComponent("fac");function Gu(I,h,g,T,G,se){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,c.A)(function*(I,h,g,T,G,se){Se(I.config.authDomain,I,"auth-domain-config-required"),Se(I.config.apiKey,I,"invalid-api-key");const Ge={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:T,v:xe.SDK_VERSION,eventId:G};if(h instanceof Ii){h.setDefaultLanguage(I.languageCode),Ge.providerId=h.providerId||"",(0,H.Im)(h.getCustomParameters())||(Ge.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Yn,Kn]of Object.entries(se||{}))Ge[Yn]=Kn}if(h instanceof Ui){const Yn=h.getScopes().filter(Kn=>""!==Kn);Yn.length>0&&(Ge.scopes=Yn.join(","))}I.tenantId&&(Ge.tid=I.tenantId);const At=Ge;for(const Yn of Object.keys(At))void 0===At[Yn]&&delete At[Yn];const an=yield I._getAppCheckToken(),xn=an?`#${qi}=${encodeURIComponent(an)}`:"";return`${function fp({config:I}){return I.emulator?me(I,uu):`https://${I.authDomain}/${Go}`}(I)}?${(0,H.Am)(At).slice(1)}${xn}`})).apply(this,arguments)}const Bl="webStorageSupport",$l=class Wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ro,this._completeRedirectFn=si,this._overrideRedirectResult=Hu}_openPopup(h,g,T,G){var se=this;return(0,c.A)(function*(){var Ge;Xt(null===(Ge=se.eventManagers[h._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const At=yield Gu(h,g,T,wn(),G);return function kc(I,h,g,T=500,G=600){const se=Math.max((window.screen.availHeight-G)/2,0).toString(),Ge=Math.max((window.screen.availWidth-T)/2,0).toString();let At="";const an=Object.assign(Object.assign({},Sh),{width:T.toString(),height:G.toString(),top:se,left:Ge}),xn=(0,H.ZQ)().toLowerCase();g&&(At=Lt(xn)?"_blank":g),Tn(xn)&&(h=h||"http://localhost",an.scrollbars="yes");const Yn=Object.entries(an).reduce((po,[Ws,rl])=>`${po}${Ws}=${rl},`,"");if(function Pt(I=(0,H.ZQ)()){var h;return to(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(xn)&&"_self"!==At)return function hp(I,h){const g=document.createElement("a");g.href=I,g.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(h||"",At),new Oc(null);const Kn=window.open(h||"",At,Yn);Se(Kn,I,"popup-blocked");try{Kn.focus()}catch{}return new Oc(Kn)}(h,At,xs())})()}_openRedirect(h,g,T,G){var se=this;return(0,c.A)(function*(){return yield se._originValidation(h),function or(I){Ei().location.href=I}(yield Gu(h,g,T,wn(),G)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:G,promise:se}=this.eventManagers[g];return G?Promise.resolve(G):(Xt(se,"If manager is not set, promise should be"),se)}const T=this.initAndGetManager(h);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(h){var g=this;return(0,c.A)(function*(){const T=yield function Nc(I){return pd.apply(this,arguments)}(h),G=new Ia(h);return T.register("authEvent",se=>(Se(null==se?void 0:se.authEvent,h,"invalid-auth-event"),{status:G.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:G},g.iframes[h._key()]=T,G})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Bl,{type:Bl},G=>{var se;const Ge=null===(se=null==G?void 0:G[0])||void 0===se?void 0:se[Bl];void 0!==Ge&&g(!!Ge),ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Dh(I){return xc.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ht()||gi()||to()}};class cu{constructor(h){this.factorId=h}_process(h,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,T);case"signin":return this._finalizeSignIn(h,g.credential);default:return Wt("unexpected MultiFactorSessionType")}}}class ua extends cu{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ua(h)}_finalizeEnroll(h,g,T){return function So(I,h){return Ze(I,"POST","/v2/accounts/mfaEnrollment:finalize",Fe(I,h))}(h,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function b(I,h){return Ze(I,"POST","/v2/accounts/mfaSignIn:finalize",Fe(I,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ws=(()=>{class I{constructor(){}static assertion(g){return ua._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var Ja="@firebase/auth";class pp{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,c.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(T=>{h((null==T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qu(){return window}(0,H.XA)("authIdTokenMaxAge"),function Ar(I){On=I}({loadJS:I=>new Promise((h,g)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=h,T.onerror=G=>{const se=Ce("internal-error");se.customData=G,g(se)},T.type="text/javascript",T.charset="UTF-8",function mp(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Fc(I){(0,xe._registerComponent)(new te.uA("auth",(h,{options:g})=>{const T=h.getProvider("app").getImmediate(),G=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:Ge,authDomain:At}=T.options;Se(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:T.name});const an={apiKey:Ge,authDomain:At,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sn(I)},xn=new Xr(T,G,se,an);return function As(I,h){const g=(null==h?void 0:h.persistence)||[],T=(Array.isArray(g)?g:[g]).map(Fn);null!=h&&h.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(T,null==h?void 0:h.popupRedirectResolver)}(xn,g),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,T)=>{h.getProvider("auth-internal").initialize()})),(0,xe._registerComponent)(new te.uA("auth-internal",h=>{const g=Ir(h.getProvider("auth").getImmediate());return new pp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,xe.registerVersion)(Ja,"1.7.9",function Aa(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,xe.registerVersion)(Ja,"1.7.9","esm2017")}("Browser");function Ca(){return Ca=(0,c.A)(function*(I,h,g){var T;const{BuildInfo:G}=qu();Xt(h.sessionId,"AuthEvent did not contain a session ID");const se=yield function zl(I){return Nh.apply(this,arguments)}(h.sessionId),Ge={};return to()?Ge.ibi=G.packageName:nn()?Ge.apn=G.packageName:ge(I,"operation-not-supported-in-this-environment"),G.displayName&&(Ge.appDisplayName=G.displayName),Ge.sessionId=se,Gu(I,g,h.type,void 0,null!==(T=h.eventId)&&void 0!==T?T:void 0,Ge)}),Ca.apply(this,arguments)}function hu(){return(hu=(0,c.A)(function*(I){const{BuildInfo:h}=qu(),g={};to()?g.iosBundleId=h.packageName:nn()?g.androidPackageName=h.packageName:ge(I,"operation-not-supported-in-this-environment"),yield Pc(I,g)})).apply(this,arguments)}function Id(){return(Id=(0,c.A)(function*(I,h,g){const{cordova:T}=qu();let G=()=>{};try{yield new Promise((se,Ge)=>{let At=null;function an(){var Kn;se();const po=null===(Kn=T.plugins.browsertab)||void 0===Kn?void 0:Kn.close;"function"==typeof po&&po(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function xn(){At||(At=window.setTimeout(()=>{Ge(Ce(I,"redirect-cancelled-by-user"))},2e3))}function Yn(){"visible"===(null==document?void 0:document.visibilityState)&&xn()}h.addPassiveListener(an),document.addEventListener("resume",xn,!1),nn()&&document.addEventListener("visibilitychange",Yn,!1),G=()=>{h.removePassiveListener(an),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",Yn,!1),At&&window.clearTimeout(At)}})}finally{G()}})).apply(this,arguments)}function Nh(){return(Nh=(0,c.A)(function*(I){const h=function Oh(I){if(Xt(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const h=new ArrayBuffer(I.length),g=new Uint8Array(h);for(let T=0;T<I.length;T++)g[T]=I.charCodeAt(T);return g}(I),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class yp extends Ia{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.A)(function*(){yield h.initPromise})()}}function Vc(I){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.A)(function*(I){const h=yield Uc()._get(kh(I));return h&&(yield Uc()._remove(kh(I))),h})).apply(this,arguments)}function Ed(){const I=[];for(let g=0;g<20;g++){const T=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(T))}return I.join("")}function Uc(){return Fn(pa)}function kh(I){return cr("authEvent",I.config.apiKey,I.name)}function Bc(I){if(null==I||!I.includes("?"))return{};const[h,...g]=I.split("?");return(0,H.I9)(g.join("?"))}const Td=class Cd{constructor(){this._redirectPersistence=Ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=si,this._overrideRedirectResult=Hu}_initialize(h){var g=this;return(0,c.A)(function*(){const T=h._key();let G=g.eventManagers.get(T);return G||(G=new yp(h),g.eventManagers.set(T,G),g.attachCallbackListeners(h,G)),G})()}_openPopup(h){ge(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,T,G){var se=this;return(0,c.A)(function*(){!function _l(I){var h,g,T,G,se,Ge,At,an,xn,Yn;const Kn=qu();Se("function"==typeof(null===(h=null==Kn?void 0:Kn.universalLinks)||void 0===h?void 0:h.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof(null===(g=null==Kn?void 0:Kn.BuildInfo)||void 0===g?void 0:g.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(se=null===(G=null===(T=null==Kn?void 0:Kn.cordova)||void 0===T?void 0:T.plugins)||void 0===G?void 0:G.browsertab)||void 0===se?void 0:se.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(an=null===(At=null===(Ge=null==Kn?void 0:Kn.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===At?void 0:At.browsertab)||void 0===an?void 0:an.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Yn=null===(xn=null==Kn?void 0:Kn.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===Yn?void 0:Yn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ge=yield se._initialize(h);yield Ge.initialized(),Ge.resetRedirect(),function au(){ou.clear()}(),yield se._originValidation(h);const At=function tl(I,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Ed(),postBody:null,tenantId:I.tenantId,error:Ce(I,"no-auth-event")}}(h,T,G);yield function lm(I,h){return Uc()._set(kh(I),h)}(h,At);const an=yield function xh(I,h,g){return Ca.apply(this,arguments)}(h,At,g),xn=yield function vp(I){const{cordova:h}=qu();return new Promise(g=>{h.plugins.browsertab.isAvailable(T=>{let G=null;T?h.plugins.browsertab.openUrl(I):G=h.InAppBrowser.open(I,function Pr(I=(0,H.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),g(G)})})}(an);return function Lc(I,h,g){return Id.apply(this,arguments)}(h,Ge,xn)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function yd(I){return hu.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:T,handleOpenURL:G,BuildInfo:se}=qu(),Ge=setTimeout((0,c.A)(function*(){yield Vc(h),g.onEvent(yl())}),500),At=function(){var Yn=(0,c.A)(function*(Kn){clearTimeout(Ge);const po=yield Vc(h);let Ws=null;po&&null!=Kn&&Kn.url&&(Ws=function Jo(I,h){var g,T;const G=function Ad(I){const h=Bc(I),g=h.link?decodeURIComponent(h.link):void 0,T=Bc(g).link,G=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Bc(G).link||G||T||g||I}(h);if(G.includes("/__/auth/callback")){const se=Bc(G),Ge=se.firebaseError?function Ip(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(se.firebaseError)):null,At=null===(T=null===(g=null==Ge?void 0:Ge.code)||void 0===g?void 0:g.split("auth/"))||void 0===T?void 0:T[1],an=At?Ce(At):null;return an?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:an,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:G,postBody:null}}return null}(po,Kn.url)),g.onEvent(Ws||yl())});return function(po){return Yn.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,At);const an=G,xn=`${se.packageName.toLowerCase()}://`;qu().handleOpenURL=function(){var Yn=(0,c.A)(function*(Kn){if(Kn.toLowerCase().startsWith(xn)&&At({url:Kn}),"function"==typeof an)try{an(Kn)}catch(po){console.error(po)}});return function(Kn){return Yn.apply(this,arguments)}}()}};function yl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function Ta(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function Ep(I=(0,H.ZQ)()){return!("file:"!==Ta()&&"ionic:"!==Ta()&&"capacitor:"!==Ta()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function pu(){try{const I=self.localStorage,h=xs();if(I)return I.setItem(h,"1"),I.removeItem(h),!function Uh(I=(0,H.ZQ)()){return function Vh(){return(0,H.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Ap(I=(0,H.ZQ)()){return/Edge\/\d+/.test(I)}(I)}()||(0,H.zW)()}catch{return Bh()&&(0,H.zW)()}return!1}function Bh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jc(){return(function Vo(){return"http:"===Ta()||"https:"===Ta()}()||(0,H.sr)()||Ep())&&!function Lh(){return(0,H.lV)()||(0,H.Ll)()}()&&pu()&&!Bh()}function Dd(){return Ep()&&typeof document<"u"}function wd(){return(wd=(0,c.A)(function*(){return!!Dd()&&new Promise(I=>{const h=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),I(!0)})})})).apply(this,arguments)}const cs={LOCAL:"local",NONE:"none",SESSION:"session"},gu=Se,Yu="persistence";function zc(I){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,c.A)(function*(I){yield I._initializationPromise;const h=$h(),g=cr(Yu,I.config.apiKey,I.name);h&&h.setItem(g,I._getPersistence())})).apply(this,arguments)}function $h(){var I;try{return(null===(I=function Qu(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const Tp=Se;class La{constructor(){this.browserResolver=Fn($l),this.cordovaResolver=Fn(Td),this.underlyingResolver=null,this._redirectPersistence=Ro,this._completeRedirectFn=si,this._overrideRedirectResult=Hu}_initialize(h){var g=this;return(0,c.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,T,G){var se=this;return(0,c.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(h,g,T,G)})()}_openRedirect(h,g,T,G){var se=this;return(0,c.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(h,g,T,G)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Dd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.A)(function*(){if(h.underlyingResolver)return;const g=yield function Hc(){return wd.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function vs(I){return I.unwrap()}function jh(I){return mu(I)}function mu(I){const{_tokenResponse:h}=I instanceof H.g?I.customData:I;if(!h)return null;if(!(I instanceof H.g)&&"temporaryProof"in h&&"phoneNumber"in h)return $u.credentialFromResult(I);const g=h.providerId;if(!g||g===Ke.PASSWORD)return null;let T;switch(g){case Ke.GOOGLE:T=Ma;break;case Ke.FACEBOOK:T=Qo;break;case Ke.GITHUB:T=di;break;case Ke.TWITTER:T=yo;break;default:const{oauthIdToken:G,oauthAccessToken:se,oauthTokenSecret:Ge,pendingToken:At,nonce:an}=h;return se||Ge||G||At?At?g.startsWith("saml.")?ar._create(g,At):Wn._fromParams({providerId:g,signInMethod:g,pendingToken:At,idToken:G,accessToken:se}):new ro(g).credential({idToken:G,accessToken:se,rawNonce:an}):null}return I instanceof H.g?T.credentialFromError(I):T.credentialFromResult(I)}function Ss(I,h){return h.catch(g=>{throw g instanceof H.g&&function Hh(I,h){var g;const T=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new _u(I,function Jn(I,h){var g;const T=(0,H.Ku)(I),G=h;return Se(h.customData.operationType,T,"argument-error"),Se(null===(g=G.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),gn._fromError(T,G)}(I,h));else if(T){const G=mu(h),se=h;G&&(se.credential=G,se.tenantId=T.tenantId||void 0,se.email=T.email||void 0,se.phoneNumber=T.phoneNumber||void 0)}}(I,g),g}).then(g=>{const G=g.user;return{operationType:g.operationType,credential:jh(g),additionalUserInfo:ue(g),user:nl.getOrCreate(G)}})}function vu(I,h){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.A)(function*(I,h){const g=yield h;return{verificationId:g.verificationId,confirm:T=>Ss(I,g.confirm(T))}})).apply(this,arguments)}class _u{constructor(h,g){this.resolver=g,this.auth=function cm(I){return I.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Ss(vs(this.auth),this.resolver.resolveSignIn(h))}}class nl{constructor(h){this._delegate=h,this.multiFactor=function oa(I){const h=(0,H.Ku)(I);return Bi.has(h)||Bi.set(h,Li._fromUser(h)),Bi.get(h)}(h)}static getOrCreate(h){return nl.USER_MAP.has(h)||nl.USER_MAP.set(h,new nl(h)),nl.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,c.A)(function*(){return Ss(g.auth,B(g._delegate,h))})()}linkWithPhoneNumber(h,g){var T=this;return(0,c.A)(function*(){return vu(T.auth,function Bu(I,h,g){return hl.apply(this,arguments)}(T._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,c.A)(function*(){return Ss(g.auth,function cd(I,h,g){return bc.apply(this,arguments)}(g._delegate,h,La))})()}linkWithRedirect(h){var g=this;return(0,c.A)(function*(){return yield zc(Ir(g.auth)),lp(g._delegate,h,La)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,c.A)(function*(){return Ss(g.auth,Kt(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return vu(this.auth,function ld(I,h,g){return fl.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Ss(this.auth,function op(I,h,g){return Ls.apply(this,arguments)}(this._delegate,h,La))}reauthenticateWithRedirect(h){var g=this;return(0,c.A)(function*(){return yield zc(Ir(g.auth)),ap(g._delegate,h,La)})()}sendEmailVerification(h){return function kl(I,h){return eu.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,c.A)(function*(){return yield function fe(I,h){return Me.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Wa(I,h){const g=(0,H.Ku)(I);return(0,xe._isFirebaseServerApp)(g.auth.app)?Promise.reject(Xe(g.auth)):ss(g,h,null)}(this._delegate,h)}updatePassword(h){return function Ka(I,h){return ss((0,H.Ku)(I),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Xa(I,h){return ud.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Fl(I,h){return Ga.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function ll(I,h,g){return ia.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nl.USER_MAP=new WeakMap;const Gc=Se;let El=(()=>{class I{constructor(g,T){if(this.app=g,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=g.options;Gc(G,"invalid-api-key",{appName:g.name}),Gc(G,"invalid-api-key",{appName:g.name});const se=typeof window<"u"?La:void 0;this._delegate=T.initialize({options:{persistence:zh(G,g.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap(lt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,T){!function $t(I,h,g){const T=Ir(I);Se(T._canInitEmulator,T,"emulator-config-failed"),Se(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const G=!(null==g||!g.disableWarnings),se=Tr(h),{host:Ge,port:At}=function Ko(I){const h=Tr(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(T);if(G){const se=G[1];return{host:se,port:yt(T.substr(se.length+1))}}{const[se,Ge]=T.split(":");return{host:se,port:yt(Ge)}}}(h);T.config.emulator={url:`${se}//${Ge}${null===At?"":`:${At}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ge,port:At,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function qo(){function I(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,g,T)}applyActionCode(g){return function Ha(I,h){return hi.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return os(this._delegate,g)}confirmPasswordReset(g,T){return function Eo(I,h,g){return Ji.apply(this,arguments)}(this._delegate,g,T)}createUserWithEmailAndPassword(g,T){var G=this;return(0,c.A)(function*(){return Ss(G._delegate,function xl(I,h,g){return Pa.apply(this,arguments)}(G._delegate,g,T))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Ol(I,h){return Oa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Nl(I,h){const g=$o.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.A)(function*(){Gc(jc(),g._delegate,"operation-not-supported-in-this-environment");const T=yield function gl(I,h){return en.apply(this,arguments)}(g._delegate,La);return T?Ss(g._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Fh(I,h){Ir(I)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,T,G){const{next:se,error:Ge,complete:At}=Rd(g,T,G);return this._delegate.onAuthStateChanged(se,Ge,At)}onIdTokenChanged(g,T,G){const{next:se,error:Ge,complete:At}=Rd(g,T,G);return this._delegate.onIdTokenChanged(se,Ge,At)}sendSignInLinkToEmail(g,T){return function ki(I,h,g){return gs.apply(this,arguments)}(this._delegate,g,T)}sendPasswordResetEmail(g,T){return function co(I,h,g){return Yo.apply(this,arguments)}(this._delegate,g,T||void 0)}setPersistence(g){var T=this;return(0,c.A)(function*(){let G;switch(function Cp(I,h){gu(Object.values(cs).includes(h),I,"invalid-persistence-type"),(0,H.lV)()?gu(h!==cs.SESSION,I,"unsupported-persistence-type"):(0,H.Ll)()?gu(h===cs.NONE,I,"unsupported-persistence-type"):Bh()?gu(h===cs.NONE||h===cs.LOCAL&&(0,H.zW)(),I,"unsupported-persistence-type"):gu(h===cs.NONE||pu(),I,"unsupported-persistence-type")}(T._delegate,g),g){case cs.SESSION:G=Ro;break;case cs.LOCAL:G=(yield Fn(ka)._isAvailable())?ka:pa;break;case cs.NONE:G=yr;break;default:return ge("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ss(this._delegate,function Pl(I){return Mo.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ss(this._delegate,P(this._delegate,g))}signInWithCustomToken(g){return Ss(this._delegate,function ii(I,h){return Io.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,T){return Ss(this._delegate,function ni(I,h,g){return(0,xe._isFirebaseServerApp)(I.app)?Promise.reject(Xe(I)):P((0,H.Ku)(I),ps.credential(h,g)).catch(function(){var T=(0,c.A)(function*(G){throw"auth/password-does-not-meet-requirements"===G.code&&jr(I),G});return function(G){return T.apply(this,arguments)}}())}(this._delegate,g,T))}signInWithEmailLink(g,T){return Ss(this._delegate,function ra(I,h,g){return xa.apply(this,arguments)}(this._delegate,g,T))}signInWithPhoneNumber(g,T){return vu(this._delegate,function ls(I,h,g){return dl.apply(this,arguments)}(this._delegate,g,T))}signInWithPopup(g){var T=this;return(0,c.A)(function*(){return Gc(jc(),T._delegate,"operation-not-supported-in-this-environment"),Ss(T._delegate,function Tc(I,h,g){return zs.apply(this,arguments)}(T._delegate,g,La))})()}signInWithRedirect(g){var T=this;return(0,c.A)(function*(){return Gc(jc(),T._delegate,"operation-not-supported-in-this-environment"),yield zc(T._delegate),sp(T._delegate,g,La)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function za(I,h){return fa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=cs,I})();function Rd(I,h,g){let T=I;"function"!=typeof I&&({next:T,error:h,complete:g}=I);const G=T;return{next:Ge=>G(Ge&&nl.getOrCreate(Ge)),error:h,complete:g}}function zh(I,h){const g=function um(I,h){const g=$h();if(!g)return[];const T=cr(Yu,I,h);switch(g.getItem(T)){case cs.NONE:return[yr];case cs.LOCAL:return[ka,Ro];case cs.SESSION:return[Ro];default:return[]}}(I,h);if(typeof self<"u"&&!g.includes(ka)&&g.push(ka),typeof window<"u")for(const T of[pa,Ro])g.includes(T)||g.push(T);return g.includes(yr)||g.push(yr),g}class ba{constructor(){this.providerId="phone",this._delegate=new $u(vs(f.A.auth()))}static credential(h,g){return $u.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}ba.PHONE_SIGN_IN_METHOD=$u.PHONE_SIGN_IN_METHOD,ba.PROVIDER_ID=$u.PROVIDER_ID;const Md=Se;class _s{constructor(h,g,T=f.A.app()){var G;Md(null===(G=T.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Ho(T.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dm(I){I.INTERNAL.registerComponent(new te.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),T=h.getProvider("auth");return new El(g,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ps,FacebookAuthProvider:Qo,GithubAuthProvider:di,GoogleAuthProvider:Ma,OAuthProvider:ro,SAMLAuthProvider:_o,PhoneAuthProvider:ba,PhoneMultiFactorGenerator:ws,RecaptchaVerifier:_s,TwitterAuthProvider:yo,Auth:El,AuthCredential:ji,Error:H.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.5.14")}(f.A)},4341:(Rn,ht,j)=>{"use strict";j.d(ht,{me:()=>ge,YN:()=>Qn,zX:()=>Ii,VZ:()=>ro,cz:()=>Xe,kq:()=>at,vO:()=>zt,BC:()=>Nn,cb:()=>Bn,cV:()=>xi,vS:()=>Uo,YS:()=>di,qT:()=>Ps});var c=j(4438),f=j(177),xe=j(8455),H=j(1985),De=j(3073),he=j(8750),te=j(3794),Ne=j(4360),Ke=j(6450),Ae=j(8496),Re=j(1413),Ue=j(6354);let Le=(()=>{var z;class P{constructor(B,de){this._renderer=B,this._elementRef=de,this.onChange=Kt=>{},this.onTouched=()=>{}}setProperty(B,de){this._renderer.setProperty(this._elementRef.nativeElement,B,de)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}}return(z=P).\u0275fac=function(B){return new(B||z)(c.rXU(c.sFG),c.rXU(c.aKT))},z.\u0275dir=c.FsC({type:z}),P})(),lt=(()=>{var z;class P extends Le{}return(z=P).\u0275fac=(()=>{let Z;return function(de){return(Z||(Z=c.xGo(z)))(de||z)}})(),z.\u0275dir=c.FsC({type:z,features:[c.Vt3]}),P})();const at=new c.nKC(""),pt={provide:at,useExisting:(0,c.Rfq)(()=>ge),multi:!0},dt=new c.nKC("");let ge=(()=>{var z;class P extends Le{constructor(B,de,Kt){super(B,de),this._compositionMode=Kt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ut(){const z=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(B){this.setProperty("value",null==B?"":B)}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}}return(z=P).\u0275fac=function(B){return new(B||z)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(dt,8))},z.\u0275dir=c.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,de){1&B&&c.bIt("input",function(jn){return de._handleInput(jn.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(jn){return de._compositionEnd(jn.target.value)})},features:[c.Jv_([pt]),c.Vt3]}),P})();function Ce(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}const Xe=new c.nKC(""),Ct=new c.nKC("");function wn(z){return Ce(z.value)?{required:!0}:null}function me(z){return null}function J(z){return null!=z}function Ee(z){return(0,c.jNT)(z)?(0,xe.H)(z):z}function ze(z){let P={};return z.forEach(Z=>{P=null!=Z?{...P,...Z}:P}),0===Object.keys(P).length?null:P}function Fe(z,P){return P.map(Z=>Z(z))}function mt(z){return z.map(P=>function Ze(z){return!z.validate}(P)?P:Z=>P.validate(Z))}function ln(z){return null!=z?function _n(z){if(!z)return null;const P=z.filter(J);return 0==P.length?null:function(Z){return ze(Fe(Z,P))}}(mt(z)):null}function mn(z){return null!=z?function Hn(z){if(!z)return null;const P=z.filter(J);return 0==P.length?null:function(Z){return function ce(...z){const P=(0,te.ms)(z),{args:Z,keys:B}=(0,De.D)(z),de=new H.c(Kt=>{const{length:jn}=Z;if(!jn)return void Kt.complete();const ti=new Array(jn);let $r=jn,ii=jn;for(let Io=0;Io<jn;Io++){let io=!1;(0,he.Tg)(Z[Io]).subscribe((0,Ne._)(Kt,jo=>{io||(io=!0,ii--),ti[Io]=jo},()=>$r--,void 0,()=>{(!$r||!io)&&(ii||Kt.next(B?(0,Ae.e)(B,ti):ti),Kt.complete())}))}});return P?de.pipe((0,Ke.I)(P)):de}(Fe(Z,P).map(Ee)).pipe((0,Ue.T)(ze))}}(mt(z)):null}function Nt(z,P){return null===z?[P]:Array.isArray(z)?[...z,P]:[z,P]}function Gn(z){return z?Array.isArray(z)?z:[z]:[]}function dr(z,P){return Array.isArray(z)?z.includes(P):z===P}function nr(z,P){const Z=Gn(P);return Gn(z).forEach(de=>{dr(Z,de)||Z.push(de)}),Z}function zr(z,P){return Gn(P).filter(Z=>!dr(z,Z))}class Gt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=ln(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,Z){return!!this.control&&this.control.hasError(P,Z)}getError(P,Z){return this.control?this.control.getError(P,Z):null}}class St extends Gt{get formDirective(){return null}get path(){return null}}class zt extends Gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ft{constructor(P){this._cd=P}get isTouched(){var P,Z,B;return null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||null===(Z=P._touched)||void 0===Z||Z.call(P),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P,Z,B;return null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||null===(Z=P._pristine)||void 0===Z||Z.call(P),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P,Z,B;return null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||null===(Z=P._status)||void 0===Z||Z.call(P),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P,Z,B;return null===(P=this._cd)||void 0===P||null===(Z=P._submitted)||void 0===Z||Z.call(P),!(null===(B=this._cd)||void 0===B||!B.submitted)}}let Nn=(()=>{var z;class P extends ft{constructor(B){super(B)}}return(z=P).\u0275fac=function(B){return new(B||z)(c.rXU(zt,2))},z.\u0275dir=c.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,de){2&B&&c.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[c.Vt3]}),P})(),Bn=(()=>{var z;class P extends ft{constructor(B){super(B)}}return(z=P).\u0275fac=function(B){return new(B||z)(c.rXU(St,10))},z.\u0275dir=c.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(B,de){2&B&&c.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[c.Vt3]}),P})();const kt="VALID",Qe="INVALID",Je="PENDING",sn="DISABLED";class ve{}class Te extends ve{constructor(P,Z){super(),this.value=P,this.source=Z}}class Ve extends ve{constructor(P,Z){super(),this.pristine=P,this.source=Z}}class Ot extends ve{constructor(P,Z){super(),this.touched=P,this.source=Z}}class Ye extends ve{constructor(P,Z){super(),this.status=P,this.source=Z}}function Bt(z){return(Jt(z)?z.validators:z)||null}function cr(z,P){return(Jt(P)?P.asyncValidators:z)||null}function Jt(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class Lt{constructor(P,Z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new Re.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(Z)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(P){(0,c.O8t)(()=>this.statusReactive.set(P))}get valid(){return this.status===kt}get invalid(){return this.status===Qe}get pending(){return this.status==Je}get disabled(){return this.status===sn}get enabled(){return this.status!==sn}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(P){(0,c.O8t)(()=>this.pristineReactive.set(P))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(P){(0,c.O8t)(()=>this.touchedReactive.set(P))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(nr(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(nr(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(zr(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(zr(P,this._rawAsyncValidators))}hasValidator(P){return dr(this._rawValidators,P)}hasAsyncValidator(P){return dr(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){var Z;const B=!1===this.touched;this.touched=!0;const de=null!==(Z=P.sourceControl)&&void 0!==Z?Z:this;this._parent&&!P.onlySelf&&this._parent.markAsTouched({...P,sourceControl:de}),B&&!1!==P.emitEvent&&this._events.next(new Ot(!0,de))}markAllAsTouched(P={}){this.markAsTouched({onlySelf:!0,emitEvent:P.emitEvent,sourceControl:this}),this._forEachChild(Z=>Z.markAllAsTouched(P))}markAsUntouched(P={}){var Z;const B=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const de=null!==(Z=P.sourceControl)&&void 0!==Z?Z:this;this._forEachChild(Kt=>{Kt.markAsUntouched({onlySelf:!0,emitEvent:P.emitEvent,sourceControl:de})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P,de),B&&!1!==P.emitEvent&&this._events.next(new Ot(!1,de))}markAsDirty(P={}){var Z;const B=!0===this.pristine;this.pristine=!1;const de=null!==(Z=P.sourceControl)&&void 0!==Z?Z:this;this._parent&&!P.onlySelf&&this._parent.markAsDirty({...P,sourceControl:de}),B&&!1!==P.emitEvent&&this._events.next(new Ve(!1,de))}markAsPristine(P={}){var Z;const B=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const de=null!==(Z=P.sourceControl)&&void 0!==Z?Z:this;this._forEachChild(Kt=>{Kt.markAsPristine({onlySelf:!0,emitEvent:P.emitEvent})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P,de),B&&!1!==P.emitEvent&&this._events.next(new Ve(!0,de))}markAsPending(P={}){var Z;this.status=Je;const B=null!==(Z=P.sourceControl)&&void 0!==Z?Z:this;!1!==P.emitEvent&&(this._events.next(new Ye(this.status,B)),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.markAsPending({...P,sourceControl:B})}disable(P={}){var Z;const B=this._parentMarkedDirty(P.onlySelf);this.status=sn,this.errors=null,this._forEachChild(Kt=>{Kt.disable({...P,onlySelf:!0})}),this._updateValue();const de=null!==(Z=P.sourceControl)&&void 0!==Z?Z:this;!1!==P.emitEvent&&(this._events.next(new Te(this.value,de)),this._events.next(new Ye(this.status,de)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:B},this),this._onDisabledChange.forEach(Kt=>Kt(!0))}enable(P={}){const Z=this._parentMarkedDirty(P.onlySelf);this.status=kt,this._forEachChild(B=>{B.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:Z},this),this._onDisabledChange.forEach(B=>B(!1))}_updateAncestors(P,Z){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine({},Z),this._parent._updateTouched({},Z))}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){var Z;if(this._setInitialStatus(),this._updateValue(),this.enabled){const de=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===Je)&&this._runAsyncValidator(de,P.emitEvent)}const B=null!==(Z=P.sourceControl)&&void 0!==Z?Z:this;!1!==P.emitEvent&&(this._events.next(new Te(this.value,B)),this._events.next(new Ye(this.status,B)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity({...P,sourceControl:B})}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(Z=>Z._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sn:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P,Z){if(this.asyncValidator){this.status=Je,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Z};const B=Ee(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(de=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(de,{emitEvent:Z,shouldHaveEmitted:P})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var P,Z;this._asyncValidationSubscription.unsubscribe();const B=null!==(P=null===(Z=this._hasOwnPendingAsyncValidator)||void 0===Z?void 0:Z.emitEvent)&&void 0!==P&&P;return this._hasOwnPendingAsyncValidator=null,B}return!1}setErrors(P,Z={}){this.errors=P,this._updateControlsErrors(!1!==Z.emitEvent,this,Z.shouldHaveEmitted)}get(P){let Z=P;return null==Z||(Array.isArray(Z)||(Z=Z.split(".")),0===Z.length)?null:Z.reduce((B,de)=>B&&B._find(de),this)}getError(P,Z){const B=Z?this.get(Z):this;return B&&B.errors?B.errors[P]:null}hasError(P,Z){return!!this.getError(P,Z)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P,Z,B){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),(P||B)&&this._events.next(new Ye(this.status,Z)),this._parent&&this._parent._updateControlsErrors(P,Z,B)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?sn:this.errors?Qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Je)?Je:this._anyControlsHaveStatus(Qe)?Qe:kt}_anyControlsHaveStatus(P){return this._anyControls(Z=>Z.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P,Z){const B=!this._anyControlsDirty(),de=this.pristine!==B;this.pristine=B,this._parent&&!P.onlySelf&&this._parent._updatePristine(P,Z),de&&this._events.next(new Ve(this.pristine,Z))}_updateTouched(P={},Z){this.touched=this._anyControlsTouched(),this._events.next(new Ot(this.touched,Z)),this._parent&&!P.onlySelf&&this._parent._updateTouched(P,Z)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){Jt(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function yr(z){return Array.isArray(z)?ln(z):z||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function Vr(z){return Array.isArray(z)?mn(z):z||null}(this._rawAsyncValidators)}}class Mt extends Lt{constructor(P,Z,B){super(Bt(Z),cr(B,Z)),this.controls=P,this._initObservables(),this._setUpdateStrategy(Z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,Z){return this.controls[P]?this.controls[P]:(this.controls[P]=Z,Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange),Z)}addControl(P,Z,B={}){this.registerControl(P,Z),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}removeControl(P,Z={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}setControl(P,Z,B={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],Z&&this.registerControl(P,Z),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,Z={}){(function gi(z,P,Z){z._forEachChild((B,de)=>{if(void 0===Z[de])throw new c.wOt(1002,"")})})(this,0,P),Object.keys(P).forEach(B=>{(function Tn(z,P,Z){const B=z.controls;if(!(P?Object.keys(B):B).length)throw new c.wOt(1e3,"");if(!B[Z])throw new c.wOt(1001,"")})(this,!0,B),this.controls[B].setValue(P[B],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z)}patchValue(P,Z={}){null!=P&&(Object.keys(P).forEach(B=>{const de=this.controls[B];de&&de.patchValue(P[B],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z))}reset(P={},Z={}){this._forEachChild((B,de)=>{B.reset(P?P[de]:null,{onlySelf:!0,emitEvent:Z.emitEvent})}),this._updatePristine(Z,this),this._updateTouched(Z,this),this.updateValueAndValidity(Z)}getRawValue(){return this._reduceChildren({},(P,Z,B)=>(P[B]=Z.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(Z,B)=>!!B._syncPendingControls()||Z);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(Z=>{const B=this.controls[Z];B&&P(B,Z)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[Z,B]of Object.entries(this.controls))if(this.contains(Z)&&P(B))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Z,B,de)=>((B.enabled||this.disabled)&&(Z[de]=B.value),Z))}_reduceChildren(P,Z){let B=P;return this._forEachChild((de,Kt)=>{B=Z(B,de,Kt)}),B}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}const Pt=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>it}),it="always";function Sn(z,P,Z=it){var B,de;Xn(z,P),P.valueAccessor.writeValue(z.value),(z.disabled||"always"===Z)&&(null===(B=(de=P.valueAccessor).setDisabledState)||void 0===B||B.call(de,z.disabled)),function Xr(z,P){P.valueAccessor.registerOnChange(Z=>{z._pendingValue=Z,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Ln(z,P)})}(z,P),function On(z,P){const Z=(B,de)=>{P.valueAccessor.writeValue(B),de&&P.viewToModelUpdate(B)};z.registerOnChange(Z),P._registerOnDestroy(()=>{z._unregisterOnChange(Z)})}(z,P),function Ir(z,P){P.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Ln(z,P),"submit"!==z.updateOn&&z.markAsTouched()})}(z,P),function bn(z,P){if(P.valueAccessor.setDisabledState){const Z=B=>{P.valueAccessor.setDisabledState(B)};z.registerOnDisabledChange(Z),P._registerOnDestroy(()=>{z._unregisterOnDisabledChange(Z)})}}(z,P)}function Yt(z,P){z.forEach(Z=>{Z.registerOnValidatorChange&&Z.registerOnValidatorChange(P)})}function Xn(z,P){const Z=function Mr(z){return z._rawValidators}(z);null!==P.validator?z.setValidators(Nt(Z,P.validator)):"function"==typeof Z&&z.setValidators([Z]);const B=function Fr(z){return z._rawAsyncValidators}(z);null!==P.asyncValidator?z.setAsyncValidators(Nt(B,P.asyncValidator)):"function"==typeof B&&z.setAsyncValidators([B]);const de=()=>z.updateValueAndValidity();Yt(P._rawValidators,de),Yt(P._rawAsyncValidators,de)}function Ln(z,P){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}const ao={provide:St,useExisting:(0,c.Rfq)(()=>xi)},yi=Promise.resolve();let xi=(()=>{var z;class P extends St{get submitted(){return(0,c.O8t)(this.submittedReactive)}constructor(B,de,Kt){super(),this.callSetDisabledState=Kt,this._submitted=(0,c.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,c.vPA)(!1),this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Mt({},ln(B),mn(de))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(B){yi.then(()=>{const de=this._findContainer(B.path);B.control=de.registerControl(B.name,B.control),Sn(B.control,B,this.callSetDisabledState),B.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(B)})}getControl(B){return this.form.get(B.path)}removeControl(B){yi.then(()=>{const de=this._findContainer(B.path);de&&de.removeControl(B.name),this._directives.delete(B)})}addFormGroup(B){yi.then(()=>{const de=this._findContainer(B.path),Kt=new Mt({});(function Ar(z,P){Xn(z,P)})(Kt,B),de.registerControl(B.name,Kt),Kt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(B){yi.then(()=>{const de=this._findContainer(B.path);de&&de.removeControl(B.name)})}getFormGroup(B){return this.form.get(B.path)}updateModel(B,de){yi.then(()=>{this.form.get(B.path).setValue(de)})}setValue(B){this.control.setValue(B)}onSubmit(B){var de;return this.submittedReactive.set(!0),function Qi(z,P){z._syncPendingControls(),P.forEach(Z=>{const B=Z.control;"submit"===B.updateOn&&B._pendingChange&&(Z.viewToModelUpdate(B._pendingValue),B._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(B),"dialog"===(null==B||null===(de=B.target)||void 0===de?void 0:de.method)}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(B){return B.pop(),B.length?this.form.get(B):this.form}}return(z=P).\u0275fac=function(B){return new(B||z)(c.rXU(Xe,10),c.rXU(Ct,10),c.rXU(Pt,8))},z.\u0275dir=c.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(B,de){1&B&&c.bIt("submit",function(jn){return de.onSubmit(jn)})("reset",function(){return de.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([ao]),c.Vt3]}),P})();function As(z,P){const Z=z.indexOf(P);Z>-1&&z.splice(Z,1)}function $t(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Tr=class extends Lt{constructor(P=null,Z,B){super(Bt(Z),cr(B,Z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(Z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jt(Z)&&(Z.nonNullable||Z.initialValueIsDefault)&&(this.defaultValue=$t(P)?P.value:P)}setValue(P,Z={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==Z.emitModelToViewChange&&this._onChange.forEach(B=>B(this.value,!1!==Z.emitViewToModelChange)),this.updateValueAndValidity(Z)}patchValue(P,Z={}){this.setValue(P,Z)}reset(P=this.defaultValue,Z={}){this._applyFormState(P),this.markAsPristine(Z),this.markAsUntouched(Z),this.setValue(this.value,Z),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){As(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){As(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){$t(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},bi={provide:zt,useExisting:(0,c.Rfq)(()=>Uo)},hs=Promise.resolve();let Uo=(()=>{var z;class P extends zt{constructor(B,de,Kt,jn,ti,$r){super(),this._changeDetectorRef=ti,this.callSetDisabledState=$r,this.control=new Tr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=B,this._setValidators(de),this._setAsyncValidators(Kt),this.valueAccessor=function go(z,P){if(!P)return null;let Z,B,de;return Array.isArray(P),P.forEach(Kt=>{Kt.constructor===ge?Z=Kt:function Ms(z){return Object.getPrototypeOf(z.constructor)===lt}(Kt)?B=Kt:de=Kt}),de||B||Z||null}(0,jn)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const de=B.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),function Xi(z,P){if(!z.hasOwnProperty("model"))return!1;const Z=z.model;return!!Z.isFirstChange()||!Object.is(P,Z.currentValue)}(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){hs.then(()=>{var de;this.control.setValue(B,{emitViewToModelChange:!1}),null===(de=this._changeDetectorRef)||void 0===de||de.markForCheck()})}_updateDisabled(B){const de=B.isDisabled.currentValue,Kt=0!==de&&(0,c.L39)(de);hs.then(()=>{var jn;Kt&&!this.control.disabled?this.control.disable():!Kt&&this.control.disabled&&this.control.enable(),null===(jn=this._changeDetectorRef)||void 0===jn||jn.markForCheck()})}_getPath(B){return this._parent?function Ht(z,P){return[...P.path,z]}(B,this._parent):[B]}}return(z=P).\u0275fac=function(B){return new(B||z)(c.rXU(St,9),c.rXU(Xe,10),c.rXU(Ct,10),c.rXU(at,10),c.rXU(c.gRc,8),c.rXU(Pt,8))},z.\u0275dir=c.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([bi]),c.Vt3,c.OA$]}),P})(),Ps=(()=>{var z;class P{}return(z=P).\u0275fac=function(B){return new(B||z)},z.\u0275dir=c.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})();function $o(z){return"number"==typeof z?z:parseFloat(z)}let no=(()=>{var z;class P{constructor(){this._validator=me}ngOnChanges(B){if(this.inputName in B){const de=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):me,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}}return(z=P).\u0275fac=function(B){return new(B||z)},z.\u0275dir=c.FsC({type:z,features:[c.OA$]}),P})();const ps={provide:Xe,useExisting:(0,c.Rfq)(()=>Ii),multi:!0};let Ii=(()=>{var z;class P extends no{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=B=>$o(B),this.createValidator=B=>function Xt(z){return P=>{if(Ce(P.value)||Ce(z))return null;const Z=parseFloat(P.value);return!isNaN(Z)&&Z>z?{max:{max:z,actual:P.value}}:null}}(B)}}return(z=P).\u0275fac=(()=>{let Z;return function(de){return(Z||(Z=c.xGo(z)))(de||z)}})(),z.\u0275dir=c.FsC({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(B,de){2&B&&c.BMQ("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[c.Jv_([ps]),c.Vt3]}),P})();const Ui={provide:Xe,useExisting:(0,c.Rfq)(()=>ro),multi:!0};let ro=(()=>{var z;class P extends no{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=B=>$o(B),this.createValidator=B=>function Wt(z){return P=>{if(Ce(P.value)||Ce(z))return null;const Z=parseFloat(P.value);return!isNaN(Z)&&Z<z?{min:{min:z,actual:P.value}}:null}}(B)}}return(z=P).\u0275fac=(()=>{let Z;return function(de){return(Z||(Z=c.xGo(z)))(de||z)}})(),z.\u0275dir=c.FsC({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(B,de){2&B&&c.BMQ("min",de._enabled?de.min:null)},inputs:{min:"min"},features:[c.Jv_([Ui]),c.Vt3]}),P})();const Qo={provide:Xe,useExisting:(0,c.Rfq)(()=>di),multi:!0};let di=(()=>{var z;class P extends no{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=B=>wn}enabled(B){return B}}return(z=P).\u0275fac=(()=>{let Z;return function(de){return(Z||(Z=c.xGo(z)))(de||z)}})(),z.\u0275dir=c.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(B,de){2&B&&c.BMQ("required",de._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([Qo]),c.Vt3]}),P})(),q=(()=>{var z;class P{}return(z=P).\u0275fac=function(B){return new(B||z)},z.\u0275mod=c.$C({type:z}),z.\u0275inj=c.G2t({}),P})(),Qn=(()=>{var z;class P{static withConfig(B){var de;return{ngModule:P,providers:[{provide:Pt,useValue:null!==(de=B.callSetDisabledState)&&void 0!==de?de:it}]}}}return(z=P).\u0275fac=function(B){return new(B||z)},z.\u0275mod=c.$C({type:z}),z.\u0275inj=c.G2t({imports:[q]}),P})()},345:(Rn,ht,j)=>{"use strict";j.d(ht,{Bb:()=>Fr,hE:()=>nr,sG:()=>Hn});var c=j(177),f=j(4438);class xe extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends xe{static makeCurrent(){(0,c.ZD)(new H)}onAndCancel(st,kt,Qe){return st.addEventListener(kt,Qe),()=>{st.removeEventListener(kt,Qe)}}dispatchEvent(st,kt){st.dispatchEvent(kt)}remove(st){st.remove()}createElement(st,kt){return(kt=kt||this.getDefaultDocument()).createElement(st)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(st){return st.nodeType===Node.ELEMENT_NODE}isShadowRoot(st){return st instanceof DocumentFragment}getGlobalEventTarget(st,kt){return"window"===kt?window:"document"===kt?st:"body"===kt?st.body:null}getBaseHref(st){const kt=function he(){return De=De||document.querySelector("base"),De?De.getAttribute("href"):null}();return null==kt?null:function te(Rt){return new URL(Rt,document.baseURI).pathname}(kt)}resetBaseElement(){De=null}getUserAgent(){return window.navigator.userAgent}getCookie(st){return(0,c._b)(document.cookie,st)}}let De=null,Ke=(()=>{var Rt;class st{build(){return new XMLHttpRequest}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)},Rt.\u0275prov=f.jDH({token:Rt,factory:Rt.\u0275fac}),st})();const Ae=new f.nKC("");let ce=(()=>{var Rt;class st{constructor(Qe,Je){this._zone=Je,this._eventNameToPlugin=new Map,Qe.forEach(sn=>{sn.manager=this}),this._plugins=Qe.slice().reverse()}addEventListener(Qe,Je,sn){return this._findPluginFor(Je).addEventListener(Qe,Je,sn)}getZone(){return this._zone}_findPluginFor(Qe){let Je=this._eventNameToPlugin.get(Qe);if(Je)return Je;if(Je=this._plugins.find(ve=>ve.supports(Qe)),!Je)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(Qe,Je),Je}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)(f.KVO(Ae),f.KVO(f.SKi))},Rt.\u0275prov=f.jDH({token:Rt,factory:Rt.\u0275fac}),st})();class Re{constructor(st){this._doc=st}}const Ue="ng-app-id";let Le=(()=>{var Rt;class st{constructor(Qe,Je,sn,ve={}){this.doc=Qe,this.appId=Je,this.nonce=sn,this.platformId=ve,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(ve),this.resetHostNodes()}addStyles(Qe){for(const Je of Qe)1===this.changeUsageCount(Je,1)&&this.onStyleAdded(Je)}removeStyles(Qe){for(const Je of Qe)this.changeUsageCount(Je,-1)<=0&&this.onStyleRemoved(Je)}ngOnDestroy(){const Qe=this.styleNodesInDOM;Qe&&(Qe.forEach(Je=>Je.remove()),Qe.clear());for(const Je of this.getAllStyles())this.onStyleRemoved(Je);this.resetHostNodes()}addHost(Qe){this.hostNodes.add(Qe);for(const Je of this.getAllStyles())this.addStyleToHost(Qe,Je)}removeHost(Qe){this.hostNodes.delete(Qe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Qe){for(const Je of this.hostNodes)this.addStyleToHost(Je,Qe)}onStyleRemoved(Qe){var Je;const sn=this.styleRef;null===(Je=sn.get(Qe))||void 0===Je||null===(Je=Je.elements)||void 0===Je||Je.forEach(ve=>ve.remove()),sn.delete(Qe)}collectServerRenderedStyles(){var Qe;const Je=null===(Qe=this.doc.head)||void 0===Qe?void 0:Qe.querySelectorAll(`style[${Ue}="${this.appId}"]`);if(null!=Je&&Je.length){const sn=new Map;return Je.forEach(ve=>{null!=ve.textContent&&sn.set(ve.textContent,ve)}),sn}return null}changeUsageCount(Qe,Je){const sn=this.styleRef;if(sn.has(Qe)){const ve=sn.get(Qe);return ve.usage+=Je,ve.usage}return sn.set(Qe,{usage:Je,elements:[]}),Je}getStyleElement(Qe,Je){const sn=this.styleNodesInDOM,ve=null==sn?void 0:sn.get(Je);if((null==ve?void 0:ve.parentNode)===Qe)return sn.delete(Je),ve.removeAttribute(Ue),ve;{const Te=this.doc.createElement("style");return this.nonce&&Te.setAttribute("nonce",this.nonce),Te.textContent=Je,this.platformIsServer&&Te.setAttribute(Ue,this.appId),Qe.appendChild(Te),Te}}addStyleToHost(Qe,Je){var sn;const ve=this.getStyleElement(Qe,Je),Te=this.styleRef,Ve=null===(sn=Te.get(Je))||void 0===sn?void 0:sn.elements;Ve?Ve.push(ve):Te.set(Je,{elements:[ve],usage:1})}resetHostNodes(){const Qe=this.hostNodes;Qe.clear(),Qe.add(this.doc.head)}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)(f.KVO(c.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))},Rt.\u0275prov=f.jDH({token:Rt,factory:Rt.\u0275fac}),st})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},at=/%COMP%/g,dt=new f.nKC("",{providedIn:"root",factory:()=>!0});function He(Rt,st){return st.map(kt=>kt.replace(at,Rt))}let Xe=(()=>{var Rt;class st{constructor(Qe,Je,sn,ve,Te,Ve,Ot,Ye=null){this.eventManager=Qe,this.sharedStylesHost=Je,this.appId=sn,this.removeStylesOnCompDestroy=ve,this.doc=Te,this.platformId=Ve,this.ngZone=Ot,this.nonce=Ye,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(Ve),this.defaultRenderer=new Ct(Qe,Te,Ot,this.platformIsServer)}createRenderer(Qe,Je){if(!Qe||!Je)return this.defaultRenderer;this.platformIsServer&&Je.encapsulation===f.gXe.ShadowDom&&(Je={...Je,encapsulation:f.gXe.Emulated});const sn=this.getOrCreateRenderer(Qe,Je);return sn instanceof un?sn.applyToHost(Qe):sn instanceof wn&&sn.applyStyles(),sn}getOrCreateRenderer(Qe,Je){const sn=this.rendererByCompId;let ve=sn.get(Je.id);if(!ve){const Te=this.doc,Ve=this.ngZone,Ot=this.eventManager,Ye=this.sharedStylesHost,Cn=this.removeStylesOnCompDestroy,Fn=this.platformIsServer;switch(Je.encapsulation){case f.gXe.Emulated:ve=new un(Ot,Ye,Je,this.appId,Cn,Te,Ve,Fn);break;case f.gXe.ShadowDom:return new Xt(Ot,Ye,Qe,Je,Te,Ve,this.nonce,Fn);default:ve=new wn(Ot,Ye,Je,Cn,Te,Ve,Fn)}sn.set(Je.id,ve)}return ve}ngOnDestroy(){this.rendererByCompId.clear()}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)(f.KVO(ce),f.KVO(Le),f.KVO(f.sZ2),f.KVO(dt),f.KVO(c.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))},Rt.\u0275prov=f.jDH({token:Rt,factory:Rt.\u0275fac}),st})();class Ct{constructor(st,kt,Qe,Je){this.eventManager=st,this.doc=kt,this.ngZone=Qe,this.platformIsServer=Je,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(st,kt){return kt?this.doc.createElementNS(lt[kt]||kt,st):this.doc.createElement(st)}createComment(st){return this.doc.createComment(st)}createText(st){return this.doc.createTextNode(st)}appendChild(st,kt){(Wt(st)?st.content:st).appendChild(kt)}insertBefore(st,kt,Qe){st&&(Wt(st)?st.content:st).insertBefore(kt,Qe)}removeChild(st,kt){kt.remove()}selectRootElement(st,kt){let Qe="string"==typeof st?this.doc.querySelector(st):st;if(!Qe)throw new f.wOt(-5104,!1);return kt||(Qe.textContent=""),Qe}parentNode(st){return st.parentNode}nextSibling(st){return st.nextSibling}setAttribute(st,kt,Qe,Je){if(Je){kt=Je+":"+kt;const sn=lt[Je];sn?st.setAttributeNS(sn,kt,Qe):st.setAttribute(kt,Qe)}else st.setAttribute(kt,Qe)}removeAttribute(st,kt,Qe){if(Qe){const Je=lt[Qe];Je?st.removeAttributeNS(Je,kt):st.removeAttribute(`${Qe}:${kt}`)}else st.removeAttribute(kt)}addClass(st,kt){st.classList.add(kt)}removeClass(st,kt){st.classList.remove(kt)}setStyle(st,kt,Qe,Je){Je&(f.czy.DashCase|f.czy.Important)?st.style.setProperty(kt,Qe,Je&f.czy.Important?"important":""):st.style[kt]=Qe}removeStyle(st,kt,Qe){Qe&f.czy.DashCase?st.style.removeProperty(kt):st.style[kt]=""}setProperty(st,kt,Qe){null!=st&&(st[kt]=Qe)}setValue(st,kt){st.nodeValue=kt}listen(st,kt,Qe){if("string"==typeof st&&!(st=(0,c.QT)().getGlobalEventTarget(this.doc,st)))throw new Error(`Unsupported event target ${st} for event ${kt}`);return this.eventManager.addEventListener(st,kt,this.decoratePreventDefault(Qe))}decoratePreventDefault(st){return kt=>{if("__ngUnwrap__"===kt)return st;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>st(kt)):st(kt))&&kt.preventDefault()}}}function Wt(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class Xt extends Ct{constructor(st,kt,Qe,Je,sn,ve,Te,Ve){super(st,sn,ve,Ve),this.sharedStylesHost=kt,this.hostEl=Qe,this.shadowRoot=Qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=He(Je.id,Je.styles);for(const Ye of Ot){const Cn=document.createElement("style");Te&&Cn.setAttribute("nonce",Te),Cn.textContent=Ye,this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(st){return st===this.hostEl?this.shadowRoot:st}appendChild(st,kt){return super.appendChild(this.nodeOrShadowRoot(st),kt)}insertBefore(st,kt,Qe){return super.insertBefore(this.nodeOrShadowRoot(st),kt,Qe)}removeChild(st,kt){return super.removeChild(null,kt)}parentNode(st){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(st)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wn extends Ct{constructor(st,kt,Qe,Je,sn,ve,Te,Ve){super(st,sn,ve,Te),this.sharedStylesHost=kt,this.removeStylesOnCompDestroy=Je,this.styles=Ve?He(Ve,Qe.styles):Qe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class un extends wn{constructor(st,kt,Qe,Je,sn,ve,Te,Ve){const Ot=Je+"-"+Qe.id;super(st,kt,Qe,sn,ve,Te,Ve,Ot),this.contentAttr=function ge(Rt){return"_ngcontent-%COMP%".replace(at,Rt)}(Ot),this.hostAttr=function Ce(Rt){return"_nghost-%COMP%".replace(at,Rt)}(Ot)}applyToHost(st){this.applyStyles(),this.setAttribute(st,this.hostAttr,"")}createElement(st,kt){const Qe=super.createElement(st,kt);return super.setAttribute(Qe,this.contentAttr,""),Qe}}let Un=(()=>{var Rt;class st extends Re{constructor(Qe){super(Qe)}supports(Qe){return!0}addEventListener(Qe,Je,sn){return Qe.addEventListener(Je,sn,!1),()=>this.removeEventListener(Qe,Je,sn)}removeEventListener(Qe,Je,sn){return Qe.removeEventListener(Je,sn)}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)(f.KVO(c.qQ))},Rt.\u0275prov=f.jDH({token:Rt,factory:Rt.\u0275fac}),st})();const Ut=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ye={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let me=(()=>{var Rt;class st extends Re{constructor(Qe){super(Qe)}supports(Qe){return null!=st.parseEventName(Qe)}addEventListener(Qe,Je,sn){const ve=st.parseEventName(Je),Te=st.eventCallback(ve.fullKey,sn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(Qe,ve.domEventName,Te))}static parseEventName(Qe){const Je=Qe.toLowerCase().split("."),sn=Je.shift();if(0===Je.length||"keydown"!==sn&&"keyup"!==sn)return null;const ve=st._normalizeKey(Je.pop());let Te="",Ve=Je.indexOf("code");if(Ve>-1&&(Je.splice(Ve,1),Te="code."),Ut.forEach(Ye=>{const Cn=Je.indexOf(Ye);Cn>-1&&(Je.splice(Cn,1),Te+=Ye+".")}),Te+=ve,0!=Je.length||0===ve.length)return null;const Ot={};return Ot.domEventName=sn,Ot.fullKey=Te,Ot}static matchEventFullKeyCode(Qe,Je){let sn=_e[Qe.key]||Qe.key,ve="";return Je.indexOf("code.")>-1&&(sn=Qe.code,ve="code."),!(null==sn||!sn)&&(sn=sn.toLowerCase()," "===sn?sn="space":"."===sn&&(sn="dot"),Ut.forEach(Te=>{Te!==sn&&(0,ye[Te])(Qe)&&(ve+=Te+".")}),ve+=sn,ve===Je)}static eventCallback(Qe,Je,sn){return ve=>{st.matchEventFullKeyCode(ve,Qe)&&sn.runGuarded(()=>Je(ve))}}static _normalizeKey(Qe){return"esc"===Qe?"escape":Qe}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)(f.KVO(c.qQ))},Rt.\u0275prov=f.jDH({token:Rt,factory:Rt.\u0275fac}),st})();const Hn=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:c.AJ},{provide:f.PLl,useValue:function Ze(){H.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function _n(){return(0,f.TL$)(document),document},deps:[]}]),mn=new f.nKC(""),Nt=[{provide:f.e01,useClass:class Ne{addToWindow(st){f.JZv.getAngularTestability=(Qe,Je=!0)=>{const sn=st.findTestabilityInTree(Qe,Je);if(null==sn)throw new f.wOt(5103,!1);return sn},f.JZv.getAllAngularTestabilities=()=>st.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>st.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(Qe=>{const Je=f.JZv.getAllAngularTestabilities();let sn=Je.length;const ve=function(){sn--,0==sn&&Qe()};Je.forEach(Te=>{Te.whenStable(ve)})})}findTestabilityInTree(st,kt,Qe){if(null==kt)return null;const Je=st.getTestability(kt);return null!=Je?Je:Qe?(0,c.QT)().isShadowRoot(kt)?this.findTestabilityInTree(st,kt.host,!0):this.findTestabilityInTree(st,kt.parentElement,!0):null}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],Mr=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function mt(){return new f.zcH},deps:[]},{provide:Ae,useClass:Un,multi:!0,deps:[c.qQ,f.SKi,f.Agw]},{provide:Ae,useClass:me,multi:!0,deps:[c.qQ]},Xe,Le,ce,{provide:f._9s,useExisting:Xe},{provide:c.N0,useClass:Ke,deps:[]},[]];let Fr=(()=>{var Rt;class st{constructor(Qe){}static withServerTransition(Qe){return{ngModule:st,providers:[{provide:f.sZ2,useValue:Qe.appId}]}}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)(f.KVO(mn,12))},Rt.\u0275mod=f.$C({type:Rt}),Rt.\u0275inj=f.G2t({providers:[...Mr,...Nt],imports:[c.MD,f.Hbi]}),st})(),nr=(()=>{var Rt;class st{constructor(Qe){this._doc=Qe}getTitle(){return this._doc.title}setTitle(Qe){this._doc.title=Qe||""}}return(Rt=st).\u0275fac=function(Qe){return new(Qe||Rt)(f.KVO(c.qQ))},Rt.\u0275prov=f.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),st})()},4964:(Rn,ht,j)=>{"use strict";j.d(ht,{nX:()=>qt,Zp:()=>Ni,Z:()=>ds,Xk:()=>ln,Ix:()=>Wi,Wk:()=>Jn,iI:()=>ma,Sd:()=>sr});var c=j(4438),f=j(1985),xe=j(8071),De=j(8455),he=j(7673),te=j(4412),Ne=j(4572),Ke=j(9350),Ae=j(8793),ce=j(8750);function Re(b){return new f.c(S=>{(0,ce.Tg)(b()).subscribe(S)})}var Ue=j(1203);function Le(b,S){const O=(0,xe.T)(b)?b:()=>b,R=F=>F.error(O());return new f.c(S?F=>S.schedule(R,0,F):R)}var lt=j(983),at=j(8359),tt=j(9974),rt=j(4360);function pt(){return(0,tt.N)((b,S)=>{let O=null;b._refCount++;const R=(0,rt._)(S,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(O=null);const F=b._connection,re=O;O=null,F&&(!re||F===re)&&F.unsubscribe(),S.unsubscribe()});b.subscribe(R),R.closed||(O=b.connect())})}class ut extends f.c{constructor(S,O){super(),this.source=S,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,tt.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,null==S||S.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new at.yU;const O=this.getSubject();S.add(this.source.subscribe((0,rt._)(O,void 0,()=>{this._teardown(),O.complete()},R=>{this._teardown(),O.error(R)},()=>this._teardown()))),S.closed&&(this._connection=null,S=at.yU.EMPTY)}return S}refCount(){return pt()(this)}}var dt=j(1413),ge=j(177),Ce=j(6354),He=j(5558),Xe=j(6697),Ct=j(9172),wt=j(5964),Se=j(1397),Wt=j(1594);function Xt(b,S){return(0,xe.T)(S)?(0,Se.Z)(b,S,1):(0,Se.Z)(b,1)}var wn=j(8141);function un(b){return(0,tt.N)((S,O)=>{let re,R=null,F=!1;R=S.subscribe((0,rt._)(O,void 0,void 0,le=>{re=(0,ce.Tg)(b(le,un(b)(S))),R?(R.unsubscribe(),R=null,re.subscribe(O)):F=!0})),F&&(R.unsubscribe(),R=null,re.subscribe(O))})}var Un=j(2816),Ut=j(9901);function _e(b){return b<=0?()=>lt.w:(0,tt.N)((S,O)=>{let R=[];S.subscribe((0,rt._)(O,F=>{R.push(F),b<R.length&&R.shift()},()=>{for(const F of R)O.next(F);O.complete()},void 0,()=>{R=null}))})}var ye=j(3774),me=j(3669);function ze(b){return(0,tt.N)((S,O)=>{try{S.subscribe(O)}finally{O.add(b)}})}var Fe=j(5343),mt=j(6365),_n=j(345);const ln="primary",Hn=Symbol("RouteTitle");class mn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O[0]:O}return null}getAll(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Nt(b){return new mn(b)}function Mr(b,S,O){const R=O.path.split("/");if(R.length>b.length||"full"===O.pathMatch&&(S.hasChildren()||R.length<b.length))return null;const F={};for(let re=0;re<R.length;re++){const le=R[re],vt=b[re];if(":"===le[0])F[le.substring(1)]=vt;else if(le!==vt.path)return null}return{consumed:b.slice(0,R.length),posParams:F}}function Gn(b,S){const O=b?dr(b):void 0,R=S?dr(S):void 0;if(!O||!R||O.length!=R.length)return!1;let F;for(let re=0;re<O.length;re++)if(F=O[re],!nr(b[F],S[F]))return!1;return!0}function dr(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function nr(b,S){if(Array.isArray(b)&&Array.isArray(S)){if(b.length!==S.length)return!1;const O=[...b].sort(),R=[...S].sort();return O.every((F,re)=>R[re]===F)}return b===S}function zr(b){return b.length>0?b[b.length-1]:null}function Gt(b){return function H(b){return!!b&&(b instanceof f.c||(0,xe.T)(b.lift)&&(0,xe.T)(b.subscribe))}(b)?b:(0,c.jNT)(b)?(0,De.H)(Promise.resolve(b)):(0,he.of)(b)}const St={exact:function fr(b,S,O){if(!mr(b.segments,S.segments)||!Er(b.segments,S.segments,O)||b.numberOfChildren!==S.numberOfChildren)return!1;for(const R in S.children)if(!b.children[R]||!fr(b.children[R],S.children[R],O))return!1;return!0},subset:Bn},zt={exact:function hr(b,S){return Gn(b,S)},subset:function Nn(b,S){return Object.keys(S).length<=Object.keys(b).length&&Object.keys(S).every(O=>nr(b[O],S[O]))},ignored:()=>!0};function ft(b,S,O){return St[O.paths](b.root,S.root,O.matrixParams)&&zt[O.queryParams](b.queryParams,S.queryParams)&&!("exact"===O.fragment&&b.fragment!==S.fragment)}function Bn(b,S,O){return _r(b,S,S.segments,O)}function _r(b,S,O,R){if(b.segments.length>O.length){const F=b.segments.slice(0,O.length);return!(!mr(F,O)||S.hasChildren()||!Er(F,O,R))}if(b.segments.length===O.length){if(!mr(b.segments,O)||!Er(b.segments,O,R))return!1;for(const F in S.children)if(!b.children[F]||!Bn(b.children[F],S.children[F],R))return!1;return!0}{const F=O.slice(0,b.segments.length),re=O.slice(b.segments.length);return!!(mr(b.segments,F)&&Er(b.segments,F,R)&&b.children[ln])&&_r(b.children[ln],S,re,R)}}function Er(b,S,O){return S.every((R,F)=>zt[O](b[F].parameters,R.parameters))}class lr{constructor(S=new gr([],{}),O={},R=null){this.root=S,this.queryParams=O,this.fragment=R}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return pr.serialize(this)}}class gr{constructor(S,O){this.segments=S,this.children=O,this.parent=null,Object.values(O).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $i(this)}}class wr{constructor(S,O){this.path=S,this.parameters=O}get parameterMap(){var S;return null!==(S=this._parameterMap)&&void 0!==S||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return Qe(this)}}function mr(b,S){return b.length===S.length&&b.every((O,R)=>O.path===S[R].path)}let sr=(()=>{var b;class S{}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:()=>new Mi,providedIn:"root"}),S})();class Mi{parse(S){const O=new yr(S);return new lr(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(S){const O=`/${ai(S.root,!0)}`,R=function sn(b){const S=Object.entries(b).map(([O,R])=>Array.isArray(R)?R.map(F=>`${Pi(O)}=${Pi(F)}`).join("&"):`${Pi(O)}=${Pi(R)}`).filter(O=>O);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${O}${R}${"string"==typeof S.fragment?`#${function Yr(b){return encodeURI(b)}(S.fragment)}`:""}`}}const pr=new Mi;function $i(b){return b.segments.map(S=>Qe(S)).join("/")}function ai(b,S){if(!b.hasChildren())return $i(b);if(S){const O=b.children[ln]?ai(b.children[ln],!1):"",R=[];return Object.entries(b.children).forEach(([F,re])=>{F!==ln&&R.push(`${F}:${ai(re,!1)}`)}),R.length>0?`${O}(${R.join("//")})`:O}{const O=function ir(b,S){let O=[];return Object.entries(b.children).forEach(([R,F])=>{R===ln&&(O=O.concat(S(F,R)))}),Object.entries(b.children).forEach(([R,F])=>{R!==ln&&(O=O.concat(S(F,R)))}),O}(b,(R,F)=>F===ln?[ai(b.children[ln],!1)]:[`${F}:${ai(R,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[ln]?`${$i(b)}/${O[0]}`:`${$i(b)}/(${O.join("//")})`}}function ur(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pi(b){return ur(b).replace(/%3B/gi,";")}function Rt(b){return ur(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function st(b){return decodeURIComponent(b)}function kt(b){return st(b.replace(/\+/g,"%20"))}function Qe(b){return`${Rt(b.path)}${function Je(b){return Object.entries(b).map(([S,O])=>`;${Rt(S)}=${Rt(O)}`).join("")}(b.parameters)}`}const ve=/^[^\/()?;#]+/;function Te(b){const S=b.match(ve);return S?S[0]:""}const Ve=/^[^\/()?;=#]+/,Ye=/^[^=?&#]+/,Fn=/^[^&#]+/;class yr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gr([],{}):new gr([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(S.length>0||Object.keys(O).length>0)&&(R[ln]=new gr(S,O)),R}parseSegment(){const S=Te(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(S),new wr(st(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const O=function Ot(b){const S=b.match(Ve);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let R="";if(this.consumeOptional("=")){const F=Te(this.remaining);F&&(R=F,this.capture(R))}S[st(O)]=st(R)}parseQueryParam(S){const O=function Cn(b){const S=b.match(Ye);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let R="";if(this.consumeOptional("=")){const le=function Bt(b){const S=b.match(Fn);return S?S[0]:""}(this.remaining);le&&(R=le,this.capture(R))}const F=kt(O),re=kt(R);if(S.hasOwnProperty(F)){let le=S[F];Array.isArray(le)||(le=[le],S[F]=le),le.push(re)}else S[F]=re}parseParens(S){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Te(this.remaining),F=this.remaining[R.length];if("/"!==F&&")"!==F&&";"!==F)throw new c.wOt(4010,!1);let re;R.indexOf(":")>-1?(re=R.slice(0,R.indexOf(":")),this.capture(re),this.capture(":")):S&&(re=ln);const le=this.parseChildren();O[re]=1===Object.keys(le).length?le[ln]:new gr([],le),this.consumeOptional("//")}return O}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new c.wOt(4011,!1)}}function cr(b){return b.segments.length>0?new gr([],{[ln]:b}):b}function Vr(b){const S={};for(const[R,F]of Object.entries(b.children)){const re=Vr(F);if(R===ln&&0===re.segments.length&&re.hasChildren())for(const[le,vt]of Object.entries(re.children))S[le]=vt;else(re.segments.length>0||re.hasChildren())&&(S[R]=re)}return function Jt(b){if(1===b.numberOfChildren&&b.children[ln]){const S=b.children[ln];return new gr(b.segments.concat(S.segments),S.children)}return b}(new gr(b.segments,S))}function Tn(b){return b instanceof lr}function Lt(b){var S;let O;const re=cr(function R(le){const vt={};for(const Et of le.children){const kn=R(Et);vt[Et.outlet]=kn}const on=new gr(le.url,vt);return le===b&&(O=on),on}(b.root));return null!==(S=O)&&void 0!==S?S:re}function Mt(b,S,O,R){let F=b;for(;F.parent;)F=F.parent;if(0===S.length)return Vi(F,F,F,O,R);const re=function Pt(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Pr(!0,0,b);let S=0,O=!1;const R=b.reduce((F,re,le)=>{if("object"==typeof re&&null!=re){if(re.outlets){const vt={};return Object.entries(re.outlets).forEach(([on,Et])=>{vt[on]="string"==typeof Et?Et.split("/"):Et}),[...F,{outlets:vt}]}if(re.segmentPath)return[...F,re.segmentPath]}return"string"!=typeof re?[...F,re]:0===le?(re.split("/").forEach((vt,on)=>{0==on&&"."===vt||(0==on&&""===vt?O=!0:".."===vt?S++:""!=vt&&F.push(vt))}),F):[...F,re]},[]);return new Pr(O,S,R)}(S);if(re.toRoot())return Vi(F,F,new gr([],{}),O,R);const le=function Ht(b,S,O){if(b.isAbsolute)return new it(S,!0,0);if(!O)return new it(S,!1,NaN);if(null===O.parent)return new it(O,!0,0);const R=nn(b.commands[0])?0:1;return function Sn(b,S,O){let R=b,F=S,re=O;for(;re>F;){if(re-=F,R=R.parent,!R)throw new c.wOt(4005,!1);F=R.segments.length}return new it(R,!1,F-re)}(O,O.segments.length-1+R,b.numberOfDoubleDots)}(re,F,b),vt=le.processChildren?bn(le.segmentGroup,le.index,re.commands):Yt(le.segmentGroup,le.index,re.commands);return Vi(F,le.segmentGroup,vt,O,R)}function nn(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Ur(b){return"object"==typeof b&&null!=b&&b.outlets}function Vi(b,S,O,R,F){let le,re={};R&&Object.entries(R).forEach(([on,Et])=>{re[on]=Array.isArray(Et)?Et.map(kn=>`${kn}`):`${Et}`}),le=b===S?O:to(b,S,O);const vt=cr(Vr(le));return new lr(vt,re,F)}function to(b,S,O){const R={};return Object.entries(b.children).forEach(([F,re])=>{R[F]=re===S?O:to(re,S,O)}),new gr(b.segments,R)}class Pr{constructor(S,O,R){if(this.isAbsolute=S,this.numberOfDoubleDots=O,this.commands=R,S&&R.length>0&&nn(R[0]))throw new c.wOt(4003,!1);const F=R.find(Ur);if(F&&F!==zr(R))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class it{constructor(S,O,R){this.segmentGroup=S,this.processChildren=O,this.index=R}}function Yt(b,S,O){var R;if(null!==(R=b)&&void 0!==R||(b=new gr([],{})),0===b.segments.length&&b.hasChildren())return bn(b,S,O);const F=function Xn(b,S,O){let R=0,F=S;const re={match:!1,pathIndex:0,commandIndex:0};for(;F<b.segments.length;){if(R>=O.length)return re;const le=b.segments[F],vt=O[R];if(Ur(vt))break;const on=`${vt}`,Et=R<O.length-1?O[R+1]:null;if(F>0&&void 0===on)break;if(on&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!Ln(on,Et,le))return re;R+=2}else{if(!Ln(on,{},le))return re;R++}F++}return{match:!0,pathIndex:F,commandIndex:R}}(b,S,O),re=O.slice(F.commandIndex);if(F.match&&F.pathIndex<b.segments.length){const le=new gr(b.segments.slice(0,F.pathIndex),{});return le.children[ln]=new gr(b.segments.slice(F.pathIndex),b.children),bn(le,0,re)}return F.match&&0===re.length?new gr(b.segments,{}):F.match&&!b.hasChildren()?En(b,S,O):F.match?bn(b,0,re):En(b,S,O)}function bn(b,S,O){if(0===O.length)return new gr(b.segments,{});{const R=function ct(b){return Ur(b[0])?b[0].outlets:{[ln]:b}}(O),F={};if(Object.keys(R).some(re=>re!==ln)&&b.children[ln]&&1===b.numberOfChildren&&0===b.children[ln].segments.length){const re=bn(b.children[ln],S,O);return new gr(b.segments,re.children)}return Object.entries(R).forEach(([re,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(F[re]=Yt(b.children[re],S,le))}),Object.entries(b.children).forEach(([re,le])=>{void 0===R[re]&&(F[re]=le)}),new gr(b.segments,F)}}function En(b,S,O){const R=b.segments.slice(0,S);let F=0;for(;F<O.length;){const re=O[F];if(Ur(re)){const on=Xr(re.outlets);return new gr(R,on)}if(0===F&&nn(O[0])){R.push(new wr(b.segments[S].path,Ir(O[0]))),F++;continue}const le=Ur(re)?re.outlets[ln]:`${re}`,vt=F<O.length-1?O[F+1]:null;le&&vt&&nn(vt)?(R.push(new wr(le,Ir(vt))),F+=2):(R.push(new wr(le,{})),F++)}return new gr(R,{})}function Xr(b){const S={};return Object.entries(b).forEach(([O,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(S[O]=En(new gr([],{}),0,R))}),S}function Ir(b){const S={};return Object.entries(b).forEach(([O,R])=>S[O]=`${R}`),S}function Ln(b,S,O){return b==O.path&&Gn(S,O.parameters)}const On="imperative";var Ar=function(b){return b[b.NavigationStart=0]="NavigationStart",b[b.NavigationEnd=1]="NavigationEnd",b[b.NavigationCancel=2]="NavigationCancel",b[b.NavigationError=3]="NavigationError",b[b.RoutesRecognized=4]="RoutesRecognized",b[b.ResolveStart=5]="ResolveStart",b[b.ResolveEnd=6]="ResolveEnd",b[b.GuardsCheckStart=7]="GuardsCheckStart",b[b.GuardsCheckEnd=8]="GuardsCheckEnd",b[b.RouteConfigLoadStart=9]="RouteConfigLoadStart",b[b.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",b[b.ChildActivationStart=11]="ChildActivationStart",b[b.ChildActivationEnd=12]="ChildActivationEnd",b[b.ActivationStart=13]="ActivationStart",b[b.ActivationEnd=14]="ActivationEnd",b[b.Scroll=15]="Scroll",b[b.NavigationSkipped=16]="NavigationSkipped",b}(Ar||{});class vr{constructor(S,O){this.id=S,this.url=O}}class ds extends vr{constructor(S,O,R="imperative",F=null){super(S,O),this.type=Ar.NavigationStart,this.navigationTrigger=R,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qr extends vr{constructor(S,O,R){super(S,O),this.urlAfterRedirects=R,this.type=Ar.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var vn=function(b){return b[b.Redirect=0]="Redirect",b[b.SupersededByNewNavigation=1]="SupersededByNewNavigation",b[b.NoDataFromResolver=2]="NoDataFromResolver",b[b.GuardRejected=3]="GuardRejected",b}(vn||{}),bo=function(b){return b[b.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",b[b.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",b}(bo||{});class mi extends vr{constructor(S,O,R,F){super(S,O),this.reason=R,this.code=F,this.type=Ar.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xi extends vr{constructor(S,O,R,F){super(S,O),this.reason=R,this.code=F,this.type=Ar.NavigationSkipped}}class Ms extends vr{constructor(S,O,R,F){super(S,O),this.error=R,this.target=F,this.type=Ar.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qi extends vr{constructor(S,O,R,F){super(S,O),this.urlAfterRedirects=R,this.state=F,this.type=Ar.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go extends vr{constructor(S,O,R,F){super(S,O),this.urlAfterRedirects=R,this.state=F,this.type=Ar.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do extends vr{constructor(S,O,R,F,re){super(S,O),this.urlAfterRedirects=R,this.state=F,this.shouldActivate=re,this.type=Ar.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ns extends vr{constructor(S,O,R,F){super(S,O),this.urlAfterRedirects=R,this.state=F,this.type=Ar.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends vr{constructor(S,O,R,F){super(S,O),this.urlAfterRedirects=R,this.state=F,this.type=Ar.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi{constructor(S){this.route=S,this.type=Ar.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xi{constructor(S){this.route=S,this.type=Ar.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class As{constructor(S){this.snapshot=S,this.type=Ar.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(S){this.snapshot=S,this.type=Ar.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(S){this.snapshot=S,this.type=Ar.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(S){this.snapshot=S,this.type=Ar.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yt{constructor(S,O,R){this.routerEvent=S,this.position=O,this.anchor=R,this.type=Ar.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qo{}class ji{constructor(S,O){this.url=S,this.navigationBehaviorOptions=O}}function li(b){return b.outlet||ln}function xo(b){var S;if(!b)return null;if(null!==(S=b.routeConfig)&&void 0!==S&&S._injector)return b.routeConfig._injector;for(let O=b.parent;O;O=O.parent){const R=O.routeConfig;if(null!=R&&R._loadedInjector)return R._loadedInjector;if(null!=R&&R._injector)return R._injector}return null}class fs{get injector(){var S,O;return null!==(S=xo(null===(O=this.route)||void 0===O?void 0:O.snapshot))&&void 0!==S?S:this.rootInjector}set injector(S){}constructor(S){this.rootInjector=S,this.outlet=null,this.route=null,this.children=new Ni(this.rootInjector),this.attachRef=null}}let Ni=(()=>{var b;class S{constructor(R){this.rootInjector=R,this.contexts=new Map}onChildOutletCreated(R,F){const re=this.getOrCreateContext(R);re.outlet=F,this.contexts.set(R,re)}onChildOutletDestroyed(R){const F=this.getContext(R);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let F=this.getContext(R);return F||(F=new fs(this.rootInjector),this.contexts.set(R,F)),F}getContext(R){return this.contexts.get(R)||null}}return(b=S).\u0275fac=function(R){return new(R||b)(c.KVO(c.uvJ))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})();class K{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const O=this.pathFromRoot(S);return O.length>1?O[O.length-2]:null}children(S){const O=oe(S,this._root);return O?O.children.map(R=>R.value):[]}firstChild(S){const O=oe(S,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(S){const O=we(S,this._root);return O.length<2?[]:O[O.length-2].children.map(F=>F.value).filter(F=>F!==S)}pathFromRoot(S){return we(S,this._root).map(O=>O.value)}}function oe(b,S){if(b===S.value)return S;for(const O of S.children){const R=oe(b,O);if(R)return R}return null}function we(b,S){if(b===S.value)return[S];for(const O of S.children){const R=we(b,O);if(R.length)return R.unshift(S),R}return[]}class Oe{constructor(S,O){this.value=S,this.children=O}toString(){return`TreeNode(${this.value})`}}function et(b){const S={};return b&&b.children.forEach(O=>S[O.value.outlet]=O),S}class qe extends K{constructor(S,O){super(S),this.snapshot=O,qn(this,S)}toString(){return this.snapshot.toString()}}function Qt(b){const S=function _t(b){const re=new An([],{},{},"",{},ln,b,null,{});return new Pn("",new Oe(re,[]))}(b),O=new te.t([new wr("",{})]),R=new te.t({}),F=new te.t({}),re=new te.t({}),le=new te.t(""),vt=new qt(O,R,re,le,F,ln,b,S.root);return vt.snapshot=S.root,new qe(new Oe(vt,[]),S)}class qt{constructor(S,O,R,F,re,le,vt,on){var Et,kn;this.urlSubject=S,this.paramsSubject=O,this.queryParamsSubject=R,this.fragmentSubject=F,this.dataSubject=re,this.outlet=le,this.component=vt,this._futureSnapshot=on,this.title=null!==(Et=null===(kn=this.dataSubject)||void 0===kn?void 0:kn.pipe((0,Ce.T)(Or=>Or[Hn])))&&void 0!==Et?Et:(0,he.of)(void 0),this.url=S,this.params=O,this.queryParams=R,this.fragment=F,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=this.params.pipe((0,Ce.T)(O=>Nt(O)))),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=this.queryParams.pipe((0,Ce.T)(O=>Nt(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rn(b,S,O="emptyOnly"){var R;let F;const{routeConfig:re}=b;var le;return F=null===S||"always"!==O&&""!==(null==re?void 0:re.path)&&(S.component||null!==(R=S.routeConfig)&&void 0!==R&&R.loadComponent)?{params:{...b.params},data:{...b.data},resolve:{...b.data,...null!==(le=b._resolvedData)&&void 0!==le?le:{}}}:{params:{...S.params,...b.params},data:{...S.data,...b.data},resolve:{...b.data,...S.data,...null==re?void 0:re.data,...b._resolvedData}},re&&Di(re)&&(F.resolve[Hn]=re.title),F}class An{get title(){var S;return null===(S=this.data)||void 0===S?void 0:S[Hn]}constructor(S,O,R,F,re,le,vt,on,Et){this.url=S,this.params=O,this.queryParams=R,this.fragment=F,this.data=re,this.outlet=le,this.component=vt,this.routeConfig=on,this._resolve=Et}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pn extends K{constructor(S,O){super(O),this.url=S,qn(this,O)}toString(){return Wn(this._root)}}function qn(b,S){S.value._routerState=b,S.children.forEach(O=>qn(b,O))}function Wn(b){const S=b.children.length>0?` { ${b.children.map(Wn).join(", ")} } `:"";return`${b.value}${S}`}function Zr(b){if(b.snapshot){const S=b.snapshot,O=b._futureSnapshot;b.snapshot=O,Gn(S.queryParams,O.queryParams)||b.queryParamsSubject.next(O.queryParams),S.fragment!==O.fragment&&b.fragmentSubject.next(O.fragment),Gn(S.params,O.params)||b.paramsSubject.next(O.params),function Fr(b,S){if(b.length!==S.length)return!1;for(let O=0;O<b.length;++O)if(!Gn(b[O],S[O]))return!1;return!0}(S.url,O.url)||b.urlSubject.next(O.url),Gn(S.data,O.data)||b.dataSubject.next(O.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function ci(b,S){const O=Gn(b.params,S.params)&&function Ti(b,S){return mr(b,S)&&b.every((O,R)=>Gn(O.parameters,S[R].parameters))}(b.url,S.url);return O&&!(!b.parent!=!S.parent)&&(!b.parent||ci(b.parent,S.parent))}function Di(b){return"string"==typeof b.title||null===b.title}let ri=(()=>{var b;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(Ni),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(lo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:F,previousValue:re}=R.name;if(F)return;this.isTrackedInParentContexts(re)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(re)),this.initializeOutletWithName()}}ngOnDestroy(){var R;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(R=this.inputBinder)||void 0===R||R.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){var F;return(null===(F=this.parentContexts.getContext(R))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);null!=R&&R.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,F){var re;this.activated=R,this._activatedRoute=F,this.location.insert(R.hostView),null===(re=this.inputBinder)||void 0===re||re.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,F){var re;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=R;const le=this.location,on=R.snapshot.component,Et=this.parentContexts.getOrCreateContext(this.name).children,kn=new wi(R,Et,le.injector);this.activated=le.createComponent(on,{index:le.length,injector:kn,environmentInjector:F}),this.changeDetector.markForCheck(),null===(re=this.inputBinder)||void 0===re||re.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275dir=c.FsC({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),S})();class wi{__ngOutletInjector(S){return new wi(this.route,this.childContexts,S)}constructor(S,O,R){this.route=S,this.childContexts=O,this.parent=R}get(S,O){return S===qt?this.route:S===Ni?this.childContexts:this.parent.get(S,O)}}const lo=new c.nKC("");let wo=(()=>{var b;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){var F;null===(F=this.outletDataSubscriptions.get(R))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:F}=R,re=(0,Ne.z)([F.queryParams,F.params,F.data]).pipe((0,He.n)(([le,vt,on],Et)=>(on={...le,...vt,...on},0===Et?(0,he.of)(on):Promise.resolve(on)))).subscribe(le=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(R);const vt=(0,c.HJs)(F.component);if(vt)for(const{templateName:on}of vt.inputs)R.activatedComponentRef.setInput(on,le[on]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,re)}}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac}),S})();function No(b,S,O){if(O&&b.shouldReuseRoute(S.value,O.value.snapshot)){const R=O.value;R._futureSnapshot=S.value;const F=function uo(b,S,O){return S.children.map(R=>{for(const F of O.children)if(b.shouldReuseRoute(R.value,F.value.snapshot))return No(b,R,F);return No(b,R)})}(b,S,O);return new Oe(R,F)}{if(b.shouldAttach(S.value)){const re=b.retrieve(S.value);if(null!==re){const le=re.route;return le.value._futureSnapshot=S.value,le.children=S.children.map(vt=>No(b,vt)),le}}const R=function Xo(b){return new qt(new te.t(b.url),new te.t(b.params),new te.t(b.queryParams),new te.t(b.fragment),new te.t(b.data),b.outlet,b.component,b)}(S.value),F=S.children.map(re=>No(b,re));return new Oe(R,F)}}class Bo{constructor(S,O){this.redirectTo=S,this.navigationBehaviorOptions=O}}const $o="ngNavigationCancelingError";function no(b,S){const{redirectTo:O,navigationBehaviorOptions:R}=Tn(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,F=ps(!1,vn.Redirect);return F.url=O,F.navigationBehaviorOptions=R,F}function ps(b,S){const O=new Error(`NavigationCancelingError: ${b||""}`);return O[$o]=!0,O.cancellationCode=S,O}function Ui(b){return!!b&&b[$o]}class Ma{constructor(S,O,R,F,re){this.routeReuseStrategy=S,this.futureState=O,this.currState=R,this.forwardEvent=F,this.inputBindingEnabled=re}activate(S){const O=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,R,S),Zr(this.futureState.root),this.activateChildRoutes(O,R,S)}deactivateChildRoutes(S,O,R){const F=et(O);S.children.forEach(re=>{const le=re.value.outlet;this.deactivateRoutes(re,F[le],R),delete F[le]}),Object.values(F).forEach(re=>{this.deactivateRouteAndItsChildren(re,R)})}deactivateRoutes(S,O,R){const F=S.value,re=O?O.value:null;if(F===re)if(F.component){const le=R.getContext(F.outlet);le&&this.deactivateChildRoutes(S,O,le.children)}else this.deactivateChildRoutes(S,O,R);else re&&this.deactivateRouteAndItsChildren(O,R)}deactivateRouteAndItsChildren(S,O){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,O):this.deactivateRouteAndOutlet(S,O)}detachAndStoreRouteSubtree(S,O){const R=O.getContext(S.value.outlet),F=R&&S.value.component?R.children:O,re=et(S);for(const le of Object.values(re))this.deactivateRouteAndItsChildren(le,F);if(R&&R.outlet){const le=R.outlet.detach(),vt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:le,route:S,contexts:vt})}}deactivateRouteAndOutlet(S,O){const R=O.getContext(S.value.outlet),F=R&&S.value.component?R.children:O,re=et(S);for(const le of Object.values(re))this.deactivateRouteAndItsChildren(le,F);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(S,O,R){const F=et(O);S.children.forEach(re=>{this.activateRoutes(re,F[re.value.outlet],R),this.forwardEvent(new Ko(re.value.snapshot))}),S.children.length&&this.forwardEvent(new $t(S.value.snapshot))}activateRoutes(S,O,R){const F=S.value,re=O?O.value:null;if(Zr(F),F===re)if(F.component){const le=R.getOrCreateContext(F.outlet);this.activateChildRoutes(S,O,le.children)}else this.activateChildRoutes(S,O,R);else if(F.component){const le=R.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const vt=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),le.children.onOutletReAttached(vt.contexts),le.attachRef=vt.componentRef,le.route=vt.route.value,le.outlet&&le.outlet.attach(vt.componentRef,vt.route.value),Zr(vt.route.value),this.activateChildRoutes(S,null,le.children)}else le.attachRef=null,le.route=F,le.outlet&&le.outlet.activateWith(F,le.injector),this.activateChildRoutes(S,null,le.children)}else this.activateChildRoutes(S,null,R)}}class di{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Yi{constructor(S,O){this.component=S,this.route=O}}function ar(b,S,O){const R=b._root;return yo(R,S?S._root:null,O,[R.value])}function _o(b,S){const O=Symbol(),R=S.get(b,O);return R===O?"function"!=typeof b||(0,c.LfX)(b)?S.get(b):b:R}function yo(b,S,O,R,F={canDeactivateChecks:[],canActivateChecks:[]}){const re=et(S);return b.children.forEach(le=>{(function Hi(b,S,O,R,F={canDeactivateChecks:[],canActivateChecks:[]}){const re=b.value,le=S?S.value:null,vt=O?O.getContext(b.value.outlet):null;if(le&&re.routeConfig===le.routeConfig){const on=function rs(b,S,O){if("function"==typeof O)return O(b,S);switch(O){case"pathParamsChange":return!mr(b.url,S.url);case"pathParamsOrQueryParamsChange":return!mr(b.url,S.url)||!Gn(b.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ci(b,S)||!Gn(b.queryParams,S.queryParams);default:return!ci(b,S)}}(le,re,re.routeConfig.runGuardsAndResolvers);on?F.canActivateChecks.push(new di(R)):(re.data=le.data,re._resolvedData=le._resolvedData),yo(b,S,re.component?vt?vt.children:null:O,R,F),on&&vt&&vt.outlet&&vt.outlet.isActivated&&F.canDeactivateChecks.push(new Yi(vt.outlet.component,le))}else le&&Oi(S,vt,F),F.canActivateChecks.push(new di(R)),yo(b,null,re.component?vt?vt.children:null:O,R,F)})(le,re[le.value.outlet],O,R.concat([le.value]),F),delete re[le.value.outlet]}),Object.entries(re).forEach(([le,vt])=>Oi(vt,O.getContext(le),F)),F}function Oi(b,S,O){const R=et(b),F=b.value;Object.entries(R).forEach(([re,le])=>{Oi(le,F.component?S?S.children.getContext(re):null:S,O)}),O.canDeactivateChecks.push(new Yi(F.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,F))}function Jr(b){return"function"==typeof b}function Me(b){return b instanceof Ke.G||"EmptyError"===(null==b?void 0:b.name)}const je=Symbol("INITIAL_VALUE");function bt(){return(0,He.n)(b=>(0,Ne.z)(b.map(S=>S.pipe((0,Xe.s)(1),(0,Ct.Z)(je)))).pipe((0,Ce.T)(S=>{for(const O of S)if(!0!==O){if(O===je)return je;if(!1===O||dn(O))return O}return!0}),(0,wt.p)(S=>S!==je),(0,Xe.s)(1)))}function dn(b){return Tn(b)||b instanceof Bo}function Kt(b){return(0,Ue.F)((0,wn.M)(S=>{if("boolean"!=typeof S)throw no(0,S)}),(0,Ce.T)(S=>!0===S))}class ti{constructor(S){this.segmentGroup=S||null}}class $r extends Error{constructor(S){super(),this.urlTree=S}}function ii(b){return Le(new ti(b))}class Oo{constructor(S,O){this.urlSerializer=S,this.urlTree=O}lineralizeSegments(S,O){let R=[],F=O.root;for(;;){if(R=R.concat(F.segments),0===F.numberOfChildren)return(0,he.of)(R);if(F.numberOfChildren>1||!F.children[ln])return Le(new c.wOt(4e3,!1));F=F.children[ln]}}applyRedirectCommands(S,O,R,F,re){if("string"!=typeof O){const vt=O,{queryParams:on,fragment:Et,routeConfig:kn,url:Or,outlet:Si,params:Gr,data:fo,title:Ho}=F,zo=(0,c.N4e)(re,()=>vt({params:Gr,data:fo,queryParams:on,fragment:Et,routeConfig:kn,url:Or,outlet:Si,title:Ho}));if(zo instanceof lr)throw new $r(zo);O=zo}const le=this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),S,R);if("/"===O[0])throw new $r(le);return le}applyRedirectCreateUrlTree(S,O,R,F){const re=this.createSegmentGroup(S,O.root,R,F);return new lr(re,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(S,O){const R={};return Object.entries(S).forEach(([F,re])=>{if("string"==typeof re&&":"===re[0]){const vt=re.substring(1);R[F]=O[vt]}else R[F]=re}),R}createSegmentGroup(S,O,R,F){const re=this.createSegments(S,O.segments,R,F);let le={};return Object.entries(O.children).forEach(([vt,on])=>{le[vt]=this.createSegmentGroup(S,on,R,F)}),new gr(re,le)}createSegments(S,O,R,F){return O.map(re=>":"===re.path[0]?this.findPosParam(S,re,F):this.findOrReturn(re,R))}findPosParam(S,O,R){const F=R[O.path.substring(1)];if(!F)throw new c.wOt(4001,!1);return F}findOrReturn(S,O){let R=0;for(const F of O){if(F.path===S.path)return O.splice(R),F;R++}return S}}const is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jr(b,S,O,R,F){const re=Zi(b,S,O);return re.matched?(R=function Cs(b,S){var O;return b.providers&&!b._injector&&(b._injector=(0,c.Ol2)(b.providers,S,`Route: ${b.path}`)),null!==(O=b._injector)&&void 0!==O?O:S}(S,R),function jn(b,S,O,R){const F=S.canMatch;if(!F||0===F.length)return(0,he.of)(!0);const re=F.map(le=>{const vt=_o(le,b);return Gt(function fe(b){return b&&Jr(b.canMatch)}(vt)?vt.canMatch(S,O):(0,c.N4e)(b,()=>vt(S,O)))});return(0,he.of)(re).pipe(bt(),Kt())}(R,S,O).pipe((0,Ce.T)(le=>!0===le?re:{...is}))):(0,he.of)(re)}function Zi(b,S,O){var R,F;if("**"===S.path)return function co(b){return{matched:!0,parameters:b.length>0?zr(b).parameters:{},consumedSegments:b,remainingSegments:[],positionalParamSegments:{}}}(O);if(""===S.path)return"full"===S.pathMatch&&(b.hasChildren()||O.length>0)?{...is}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const le=(S.matcher||Mr)(O,b,S);if(!le)return{...is};const vt={};Object.entries(null!==(R=le.posParams)&&void 0!==R?R:{}).forEach(([Et,kn])=>{vt[Et]=kn.path});const on=le.consumed.length>0?{...vt,...le.consumed[le.consumed.length-1].parameters}:vt;return{matched:!0,consumedSegments:le.consumed,remainingSegments:O.slice(le.consumed.length),parameters:on,positionalParamSegments:null!==(F=le.posParams)&&void 0!==F?F:{}}}function Yo(b,S,O,R){return O.length>0&&function Ha(b,S,O){return O.some(R=>os(b,S,R)&&li(R)!==ln)}(b,O,R)?{segmentGroup:new gr(S,Ji(R,new gr(O,b.children))),slicedSegments:[]}:0===O.length&&function hi(b,S,O){return O.some(R=>os(b,S,R))}(b,O,R)?{segmentGroup:new gr(b.segments,Eo(b,O,R,b.children)),slicedSegments:O}:{segmentGroup:new gr(b.segments,b.children),slicedSegments:O}}function Eo(b,S,O,R){const F={};for(const re of O)if(os(b,S,re)&&!R[li(re)]){const le=new gr([],{});F[li(re)]=le}return{...R,...F}}function Ji(b,S){const O={};O[ln]=S;for(const R of b)if(""===R.path&&li(R)!==ln){const F=new gr([],{});O[li(R)]=F}return O}function os(b,S,O){return(!(b.hasChildren()||S.length>0)||"full"!==O.pathMatch)&&""===O.path}class za{}class Pa{constructor(S,O,R,F,re,le,vt){this.injector=S,this.configLoader=O,this.rootComponentType=R,this.config=F,this.urlTree=re,this.paramsInheritanceStrategy=le,this.urlSerializer=vt,this.applyRedirects=new Oo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(S){return new c.wOt(4002,`'${S.segmentGroup}'`)}recognize(){const S=Yo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(S).pipe((0,Ce.T)(({children:O,rootSnapshot:R})=>{const F=new Oe(R,O),re=new Pn("",F),le=function gi(b,S,O=null,R=null){return Mt(Lt(b),S,O,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(le),{state:re,tree:le}}))}match(S){const O=new An([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ln,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,S,ln,O).pipe((0,Ce.T)(R=>({children:R,rootSnapshot:O})),un(R=>{if(R instanceof $r)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof ti?this.noMatchError(R):R}))}processSegmentGroup(S,O,R,F,re){return 0===R.segments.length&&R.hasChildren()?this.processChildren(S,O,R,re):this.processSegment(S,O,R,R.segments,F,!0,re).pipe((0,Ce.T)(le=>le instanceof Oe?[le]:[]))}processChildren(S,O,R,F){const re=[];for(const le of Object.keys(R.children))"primary"===le?re.unshift(le):re.push(le);return(0,De.H)(re).pipe(Xt(le=>{const vt=R.children[le],on=function yn(b,S){const O=b.filter(R=>li(R)===S);return O.push(...b.filter(R=>li(R)!==S)),O}(O,le);return this.processSegmentGroup(S,on,vt,le,F)}),(0,Un.S)((le,vt)=>(le.push(...vt),le)),(0,Ut.U)(null),function J(b,S){const O=arguments.length>=2;return R=>R.pipe(b?(0,wt.p)((F,re)=>b(F,re,R)):me.D,_e(1),O?(0,Ut.U)(S):(0,ye.v)(()=>new Ke.G))}(),(0,Se.Z)(le=>{if(null===le)return ii(R);const vt=gs(le);return function ni(b){b.sort((S,O)=>S.value.outlet===ln?-1:O.value.outlet===ln?1:S.value.outlet.localeCompare(O.value.outlet))}(vt),(0,he.of)(vt)}))}processSegment(S,O,R,F,re,le,vt){return(0,De.H)(O).pipe(Xt(on=>{var Et;return this.processSegmentAgainstRoute(null!==(Et=on._injector)&&void 0!==Et?Et:S,O,on,R,F,re,le,vt).pipe(un(kn=>{if(kn instanceof ti)return(0,he.of)(null);throw kn}))}),(0,Wt.$)(on=>!!on),un(on=>{if(Me(on))return function na(b,S,O){return 0===S.length&&!b.children[O]}(R,F,re)?(0,he.of)(new za):ii(R);throw on}))}processSegmentAgainstRoute(S,O,R,F,re,le,vt,on){return li(R)===le||le!==ln&&os(F,re,R)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(S,F,R,re,le,on):this.allowRedirects&&vt?this.expandSegmentAgainstRouteUsingRedirect(S,F,O,R,re,le,on):ii(F):ii(F)}expandSegmentAgainstRouteUsingRedirect(S,O,R,F,re,le,vt){var on,Et;const{matched:kn,parameters:Or,consumedSegments:Si,positionalParamSegments:Gr,remainingSegments:fo}=Zi(O,F,re);if(!kn)return ii(O);"string"==typeof F.redirectTo&&"/"===F.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ho=new An(re,Or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ra(F),li(F),null!==(on=null!==(Et=F.component)&&void 0!==Et?Et:F._loadedComponent)&&void 0!==on?on:null,F,xa(F)),zo=rn(Ho,vt,this.paramsInheritanceStrategy);Ho.params=Object.freeze(zo.params),Ho.data=Object.freeze(zo.data);const ks=this.applyRedirects.applyRedirectCommands(Si,F.redirectTo,Gr,Ho,S);return this.applyRedirects.lineralizeSegments(F,ks).pipe((0,Se.Z)(ls=>this.processSegment(S,R,O,ls.concat(fo),le,!1,vt)))}matchSegmentAgainstRoute(S,O,R,F,re,le){const vt=jr(O,R,F,S);return"**"===R.path&&(O.children={}),vt.pipe((0,He.n)(on=>{var Et;return on.matched?(S=null!==(Et=R._injector)&&void 0!==Et?Et:S,this.getChildConfig(S,R,F).pipe((0,He.n)(({routes:kn})=>{var Or,Si,Gr;const fo=null!==(Or=R._loadedInjector)&&void 0!==Or?Or:S,{parameters:Ho,consumedSegments:zo,remainingSegments:ks}=on,ls=new An(zo,Ho,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ra(R),li(R),null!==(Si=null!==(Gr=R.component)&&void 0!==Gr?Gr:R._loadedComponent)&&void 0!==Si?Si:null,R,xa(R)),dl=rn(ls,le,this.paramsInheritanceStrategy);ls.params=Object.freeze(dl.params),ls.data=Object.freeze(dl.data);const{segmentGroup:Bu,slicedSegments:hl}=Yo(O,zo,ks,kn);if(0===hl.length&&Bu.hasChildren())return this.processChildren(fo,kn,Bu,ls).pipe((0,Ce.T)(fl=>new Oe(ls,fl)));if(0===kn.length&&0===hl.length)return(0,he.of)(new Oe(ls,[]));const ld=li(R)===re;return this.processSegment(fo,kn,Bu,hl,ld?ln:re,!0,ls).pipe((0,Ce.T)(fl=>new Oe(ls,fl instanceof Oe?[fl]:[])))}))):ii(O)}))}getChildConfig(S,O,R){return O.children?(0,he.of)({routes:O.children,injector:S}):O.loadChildren?void 0!==O._loadedRoutes?(0,he.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function de(b,S,O,R){const F=S.canLoad;if(void 0===F||0===F.length)return(0,he.of)(!0);const re=F.map(le=>{const vt=_o(le,b);return Gt(function Mo(b){return b&&Jr(b.canLoad)}(vt)?vt.canLoad(S,O):(0,c.N4e)(b,()=>vt(S,O)))});return(0,he.of)(re).pipe(bt(),Kt())}(S,O,R).pipe((0,Se.Z)(F=>F?this.configLoader.loadChildren(S,O).pipe((0,wn.M)(re=>{O._loadedRoutes=re.routes,O._loadedInjector=re.injector})):function jo(){return Le(ps(!1,vn.GuardRejected))}())):(0,he.of)({routes:[],injector:S})}}function ki(b){const S=b.value.routeConfig;return S&&""===S.path}function gs(b){const S=[],O=new Set;for(const R of b){if(!ki(R)){S.push(R);continue}const F=S.find(re=>R.value.routeConfig===re.value.routeConfig);void 0!==F?(F.children.push(...R.children),O.add(F)):S.push(R)}for(const R of O){const F=gs(R.children);S.push(new Oe(R.value,F))}return S.filter(R=>!O.has(R))}function ra(b){return b.data||{}}function xa(b){return b.resolve||{}}function Ol(b){const S=b.children.map(O=>Ol(O)).flat();return[b,...S]}function ll(b){return(0,He.n)(S=>{const O=b(S);return O?(0,De.H)(O).pipe((0,Ce.T)(()=>S)):(0,he.of)(S)})}let ia=(()=>{var b;class S{buildTitle(R){let F,re=R.root;for(;void 0!==re;){var le;F=null!==(le=this.getResolvedTitleForRoute(re))&&void 0!==le?le:F,re=re.children.find(vt=>vt.outlet===ln)}return F}getResolvedTitleForRoute(R){return R.data[Hn]}}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(bs),providedIn:"root"}),S})(),bs=(()=>{var b;class S extends ia{constructor(R){super(),this.title=R}updateTitle(R){const F=this.buildTitle(R);void 0!==F&&this.title.setTitle(F)}}return(b=S).\u0275fac=function(R){return new(R||b)(c.KVO(_n.hE))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})();const Zo=new c.nKC("",{providedIn:"root",factory:()=>({})});let Fl=(()=>{var b;class S{}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275cmp=c.VBU({type:b,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(R,F){1&R&&c.nrm(0,"router-outlet")},dependencies:[ri],encapsulation:2}),S})();function Ga(b){const S=b.children&&b.children.map(Ga),O=S?{...b,children:S}:{...b};return!O.component&&!O.loadComponent&&(S||O.loadChildren)&&O.outlet&&O.outlet!==ln&&(O.component=Fl),O}const Wa=new c.nKC("");let Ka=(()=>{var b;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,he.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const F=Gt(R.loadComponent()).pipe((0,Ce.T)(M),(0,wn.M)(le=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=le}),ze(()=>{this.componentLoaders.delete(R)})),re=new ut(F,()=>new dt.B).pipe(pt());return this.componentLoaders.set(R,re),re}loadChildren(R,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,he.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const le=function ss(b,S,O,R){return Gt(b.loadChildren()).pipe((0,Ce.T)(M),(0,Se.Z)(F=>F instanceof c.Co$||Array.isArray(F)?(0,he.of)(F):(0,De.H)(S.compileModuleAsync(F))),(0,Ce.T)(F=>{R&&R(b);let re,le,vt=!1;return Array.isArray(F)?(le=F,!0):(re=F.create(O).injector,le=re.get(Wa,[],{optional:!0,self:!0}).flat()),{routes:le.map(Ga),injector:re}}))}(F,this.compiler,R,this.onLoadEndListener).pipe(ze(()=>{this.childrenLoaders.delete(F)})),vt=new ut(le,()=>new dt.B).pipe(pt());return this.childrenLoaders.set(F,vt),vt}}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})();function M(b){return function E(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let $=(()=>{var b;class S{}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(y),providedIn:"root"}),S})(),y=(()=>{var b;class S{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,F){return R}}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})();const U=new c.nKC(""),ie=new c.nKC("");function C(b,S,O){const R=b.get(ie),F=b.get(ge.qQ);return b.get(c.SKi).runOutsideAngular(()=>{if(!F.startViewTransition||R.skipNextTransition)return R.skipNextTransition=!1,new Promise(Et=>setTimeout(Et));let re;const le=new Promise(Et=>{re=Et}),vt=F.startViewTransition(()=>(re(),function N(b){return new Promise(S=>{(0,c.mal)({read:()=>setTimeout(S)},{injector:b})})}(b))),{onViewTransitionCreated:on}=R;return on&&(0,c.N4e)(b,()=>on({transition:vt,from:S,to:O})),le})}const ue=new c.nKC("");let k=(()=>{var b;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt.B,this.transitionAbortSubject=new dt.B,this.configLoader=(0,c.WQX)(Ka),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(sr),this.rootContexts=(0,c.WQX)(Ni),this.location=(0,c.WQX)(ge.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(lo,{optional:!0}),this.titleStrategy=(0,c.WQX)(ia),this.options=(0,c.WQX)(Zo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)($),this.createViewTransition=(0,c.WQX)(U,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(ue,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=re=>this.events.next(new xi(re)),this.configLoader.onLoadStartListener=re=>this.events.next(new yi(re))}complete(){var R;null===(R=this.transitions)||void 0===R||R.complete()}handleNavigationRequest(R){var F;const re=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...R,id:re})}setupNavigations(R,F,re){return this.transitions=new te.t({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:On,restoredState:null,currentSnapshot:re.snapshot,targetSnapshot:null,currentRouterState:re,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.p)(le=>0!==le.id),(0,Ce.T)(le=>({...le,extractedUrl:this.urlHandlingStrategy.extract(le.rawUrl)})),(0,He.n)(le=>{let vt=!1,on=!1;return(0,he.of)(le).pipe((0,He.n)(Et=>{var kn;if(this.navigationId>le.id)return this.cancelNavigationTransition(le,"",vn.SupersededByNewNavigation),lt.w;this.currentTransition=le,this.currentNavigation={id:Et.id,initialUrl:Et.rawUrl,extractedUrl:Et.extractedUrl,targetBrowserUrl:"string"==typeof Et.extras.browserUrl?this.urlSerializer.parse(Et.extras.browserUrl):Et.extras.browserUrl,trigger:Et.source,extras:Et.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Or=!R.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Si=null!==(kn=Et.extras.onSameUrlNavigation)&&void 0!==kn?kn:R.onSameUrlNavigation;if(!Or&&"reload"!==Si){const Gr="";return this.events.next(new Xi(Et.id,this.urlSerializer.serialize(Et.rawUrl),Gr,bo.IgnoredSameUrlNavigation)),Et.resolve(!1),lt.w}if(this.urlHandlingStrategy.shouldProcessUrl(Et.rawUrl))return(0,he.of)(Et).pipe((0,He.n)(Gr=>{var fo,Ho;const zo=null===(fo=this.transitions)||void 0===fo?void 0:fo.getValue();return this.events.next(new ds(Gr.id,this.urlSerializer.serialize(Gr.extractedUrl),Gr.source,Gr.restoredState)),zo!==(null===(Ho=this.transitions)||void 0===Ho?void 0:Ho.getValue())?lt.w:Promise.resolve(Gr)}),function Na(b,S,O,R,F,re){return(0,Se.Z)(le=>function fa(b,S,O,R,F,re,le="emptyOnly"){return new Pa(b,S,O,R,F,le,re).recognize()}(b,S,O,R,le.extractedUrl,F,re).pipe((0,Ce.T)(({state:vt,tree:on})=>({...le,targetSnapshot:vt,urlAfterRedirects:on}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,wn.M)(Gr=>{le.targetSnapshot=Gr.targetSnapshot,le.urlAfterRedirects=Gr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Gr.urlAfterRedirects};const fo=new Qi(Gr.id,this.urlSerializer.serialize(Gr.extractedUrl),this.urlSerializer.serialize(Gr.urlAfterRedirects),Gr.targetSnapshot);this.events.next(fo)}));if(Or&&this.urlHandlingStrategy.shouldProcessUrl(Et.currentRawUrl)){const{id:Gr,extractedUrl:fo,source:Ho,restoredState:zo,extras:ks}=Et,ls=new ds(Gr,this.urlSerializer.serialize(fo),Ho,zo);this.events.next(ls);const dl=Qt(this.rootComponentType).snapshot;return this.currentTransition=le={...Et,targetSnapshot:dl,urlAfterRedirects:fo,extras:{...ks,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=fo,(0,he.of)(le)}{const Gr="";return this.events.next(new Xi(Et.id,this.urlSerializer.serialize(Et.extractedUrl),Gr,bo.IgnoredByUrlHandlingStrategy)),Et.resolve(!1),lt.w}}),(0,wn.M)(Et=>{const kn=new go(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next(kn)}),(0,Ce.T)(Et=>(this.currentTransition=le={...Et,guards:ar(Et.targetSnapshot,Et.currentSnapshot,this.rootContexts)},le)),function $n(b,S){return(0,Se.Z)(O=>{const{targetSnapshot:R,currentSnapshot:F,guards:{canActivateChecks:re,canDeactivateChecks:le}}=O;return 0===le.length&&0===re.length?(0,he.of)({...O,guardsResult:!0}):function Mn(b,S,O,R){return(0,De.H)(b).pipe((0,Se.Z)(F=>function B(b,S,O,R,F){const re=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,he.of)(!0);const le=re.map(vt=>{var on;const Et=null!==(on=xo(S))&&void 0!==on?on:F,kn=_o(vt,Et);return Gt(function W(b){return b&&Jr(b.canDeactivate)}(kn)?kn.canDeactivate(b,S,O,R):(0,c.N4e)(Et,()=>kn(b,S,O,R))).pipe((0,Wt.$)())});return(0,he.of)(le).pipe(bt())}(F.component,F.route,O,S,R)),(0,Wt.$)(F=>!0!==F,!0))}(le,R,F,b).pipe((0,Se.Z)(vt=>vt&&function Pl(b){return"boolean"==typeof b}(vt)?function Qn(b,S,O,R){return(0,De.H)(S).pipe(Xt(F=>(0,Ae.x)(function z(b,S){return null!==b&&S&&S(new As(b)),(0,he.of)(!0)}(F.route.parent,R),function br(b,S){return null!==b&&S&&S(new Tr(b)),(0,he.of)(!0)}(F.route,R),function Z(b,S,O){const R=S[S.length-1],re=S.slice(0,S.length-1).reverse().map(le=>function Br(b){const S=b.routeConfig?b.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:b,guards:S}:null}(le)).filter(le=>null!==le).map(le=>Re(()=>{const vt=le.guards.map(on=>{var Et;const kn=null!==(Et=xo(le.node))&&void 0!==Et?Et:O,Or=_o(on,kn);return Gt(function q(b){return b&&Jr(b.canActivateChild)}(Or)?Or.canActivateChild(R,b):(0,c.N4e)(kn,()=>Or(R,b))).pipe((0,Wt.$)())});return(0,he.of)(vt).pipe(bt())}));return(0,he.of)(re).pipe(bt())}(b,F.path,O),function P(b,S,O){const R=S.routeConfig?S.routeConfig.canActivate:null;if(!R||0===R.length)return(0,he.of)(!0);const F=R.map(re=>Re(()=>{var le;const vt=null!==(le=xo(S))&&void 0!==le?le:O,on=_o(re,vt);return Gt(function Ai(b){return b&&Jr(b.canActivate)}(on)?on.canActivate(S,b):(0,c.N4e)(vt,()=>on(S,b))).pipe((0,Wt.$)())}));return(0,he.of)(F).pipe(bt())}(b,F.route,O))),(0,Wt.$)(F=>!0!==F,!0))}(R,re,b,S):(0,he.of)(vt)),(0,Ce.T)(vt=>({...O,guardsResult:vt})))})}(this.environmentInjector,Et=>this.events.next(Et)),(0,wn.M)(Et=>{if(le.guardsResult=Et.guardsResult,Et.guardsResult&&"boolean"!=typeof Et.guardsResult)throw no(0,Et.guardsResult);const kn=new Do(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot,!!Et.guardsResult);this.events.next(kn)}),(0,wt.p)(Et=>!!Et.guardsResult||(this.cancelNavigationTransition(Et,"",vn.GuardRejected),!1)),ll(Et=>{if(Et.guards.canActivateChecks.length)return(0,he.of)(Et).pipe((0,wn.M)(kn=>{const Or=new ns(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Or)}),(0,He.n)(kn=>{let Or=!1;return(0,he.of)(kn).pipe(function js(b,S){return(0,Se.Z)(O=>{const{targetSnapshot:R,guards:{canActivateChecks:F}}=O;if(!F.length)return(0,he.of)(O);const re=new Set(F.map(on=>on.route)),le=new Set;for(const on of re)if(!le.has(on))for(const Et of Ol(on))le.add(Et);let vt=0;return(0,De.H)(le).pipe(Xt(on=>re.has(on)?function Oa(b,S,O,R){const F=b.routeConfig,re=b._resolve;return void 0!==(null==F?void 0:F.title)&&!Di(F)&&(re[Hn]=F.title),function kl(b,S,O,R){const F=dr(b);if(0===F.length)return(0,he.of)({});const re={};return(0,De.H)(F).pipe((0,Se.Z)(le=>function eu(b,S,O,R){var F;const re=null!==(F=xo(S))&&void 0!==F?F:R,le=_o(b,re);return Gt(le.resolve?le.resolve(S,O):(0,c.N4e)(re,()=>le(S,O)))}(b[le],S,O,R).pipe((0,Wt.$)(),(0,wn.M)(vt=>{if(vt instanceof Bo)throw no(new Mi,vt);re[le]=vt}))),_e(1),function Ee(b){return(0,Ce.T)(()=>b)}(re),un(le=>Me(le)?lt.w:Le(le)))}(re,b,S,R).pipe((0,Ce.T)(le=>(b._resolvedData=le,b.data=rn(b,b.parent,O).resolve,null)))}(on,R,b,S):(on.data=rn(on,on.parent,b).resolve,(0,he.of)(void 0))),(0,wn.M)(()=>vt++),_e(1),(0,Se.Z)(on=>vt===le.size?(0,he.of)(O):lt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,wn.M)({next:()=>Or=!0,complete:()=>{Or||this.cancelNavigationTransition(kn,"",vn.NoDataFromResolver)}}))}),(0,wn.M)(kn=>{const Or=new ao(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Or)}))}),ll(Et=>{const kn=Or=>{var Si;const Gr=[];null!==(Si=Or.routeConfig)&&void 0!==Si&&Si.loadComponent&&!Or.routeConfig._loadedComponent&&Gr.push(this.configLoader.loadComponent(Or.routeConfig).pipe((0,wn.M)(fo=>{Or.component=fo}),(0,Ce.T)(()=>{})));for(const fo of Or.children)Gr.push(...kn(fo));return Gr};return(0,Ne.z)(kn(Et.targetSnapshot.root)).pipe((0,Ut.U)(null),(0,Xe.s)(1))}),ll(()=>this.afterPreactivation()),(0,He.n)(()=>{var Et;const{currentSnapshot:kn,targetSnapshot:Or}=le,Si=null===(Et=this.createViewTransition)||void 0===Et?void 0:Et.call(this,this.environmentInjector,kn.root,Or.root);return Si?(0,De.H)(Si).pipe((0,Ce.T)(()=>le)):(0,he.of)(le)}),(0,Ce.T)(Et=>{const kn=function vo(b,S,O){const R=No(b,S._root,O?O._root:void 0);return new qe(R,S)}(R.routeReuseStrategy,Et.targetSnapshot,Et.currentRouterState);return this.currentTransition=le={...Et,targetRouterState:kn},this.currentNavigation.targetRouterState=kn,le}),(0,wn.M)(()=>{this.events.next(new qo)}),((b,S,O,R)=>(0,Ce.T)(F=>(new Ma(S,F.targetRouterState,F.currentRouterState,O,R).activate(b),F)))(this.rootContexts,R.routeReuseStrategy,Et=>this.events.next(Et),this.inputBindingEnabled),(0,Xe.s)(1),(0,wn.M)({next:Et=>{var kn;vt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qr(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects))),null===(kn=this.titleStrategy)||void 0===kn||kn.updateTitle(Et.targetRouterState.snapshot),Et.resolve(!0)},complete:()=>{vt=!0}}),function Ze(b){return(0,tt.N)((S,O)=>{(0,ce.Tg)(b).subscribe((0,rt._)(O,()=>O.complete(),Fe.l)),!O.closed&&S.subscribe(O)})}(this.transitionAbortSubject.pipe((0,wn.M)(Et=>{throw Et}))),ze(()=>{var Et;!vt&&!on&&this.cancelNavigationTransition(le,"",vn.SupersededByNewNavigation),(null===(Et=this.currentTransition)||void 0===Et?void 0:Et.id)===le.id&&(this.currentNavigation=null,this.currentTransition=null)}),un(Et=>{if(on=!0,Ui(Et))this.events.next(new mi(le.id,this.urlSerializer.serialize(le.extractedUrl),Et.message,Et.cancellationCode)),function Ii(b){return Ui(b)&&Tn(b.url)}(Et)?this.events.next(new ji(Et.url,Et.navigationBehaviorOptions)):le.resolve(!1);else{var kn;const Or=new Ms(le.id,this.urlSerializer.serialize(le.extractedUrl),Et,null!==(kn=le.targetSnapshot)&&void 0!==kn?kn:void 0);try{const Si=(0,c.N4e)(this.environmentInjector,()=>{var Gr;return null===(Gr=this.navigationErrorHandler)||void 0===Gr?void 0:Gr.call(this,Or)});if(Si instanceof Bo){const{message:Gr,cancellationCode:fo}=no(0,Si);this.events.next(new mi(le.id,this.urlSerializer.serialize(le.extractedUrl),Gr,fo)),this.events.next(new ji(Si.redirectTo,Si.navigationBehaviorOptions))}else{this.events.next(Or);const Gr=R.errorHandler(Et);le.resolve(!!Gr)}}catch(Si){this.options.resolveNavigationPromiseOnError?le.resolve(!1):le.reject(Si)}}return lt.w}))}))}cancelNavigationTransition(R,F,re){const le=new mi(R.id,this.urlSerializer.serialize(R.extractedUrl),F,re);this.events.next(le),R.resolve(!1)}isUpdatingInternalState(){var R,F;return(null===(R=this.currentTransition)||void 0===R?void 0:R.extractedUrl.toString())!==(null===(F=this.currentTransition)||void 0===F?void 0:F.currentUrlTree.toString())}isUpdatedBrowserUrl(){var R,F,re,le;const vt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),on=null!==(R=null===(F=this.currentNavigation)||void 0===F?void 0:F.targetBrowserUrl)&&void 0!==R?R:null===(re=this.currentNavigation)||void 0===re?void 0:re.extractedUrl;return vt.toString()!==(null==on?void 0:on.toString())&&!(null!==(le=this.currentNavigation)&&void 0!==le&&le.extras.skipLocationChange)}}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})();function ee(b){return b!==On}let be=(()=>{var b;class S{}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(hn),providedIn:"root"}),S})();class Ft{shouldDetach(S){return!1}store(S,O){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,O){return S.routeConfig===O.routeConfig}}let hn=(()=>{var b;class S extends Ft{}return(b=S).\u0275fac=(()=>{let O;return function(F){return(O||(O=c.xGo(b)))(F||b)}})(),b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})(),er=(()=>{var b;class S{}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(Cr),providedIn:"root"}),S})(),Cr=(()=>{var b;class S extends er{constructor(){super(...arguments),this.location=(0,c.WQX)(ge.aZ),this.urlSerializer=(0,c.WQX)(sr),this.options=(0,c.WQX)(Zo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)($),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new lr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Qt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var R,F;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(R=null===(F=this.restoredState())||void 0===F?void 0:F.\u0275routerPageId)&&void 0!==R?R:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(R){return this.location.subscribe(F=>{"popstate"===F.type&&R(F.url,F.state)})}handleRouterEvent(R,F){if(R instanceof ds)this.stateMemento=this.createStateMemento();else if(R instanceof Xi)this.rawUrlTree=F.initialUrl;else if(R instanceof Qi){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){var re;const vt=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(null!==(re=F.targetBrowserUrl)&&void 0!==re?re:vt,F)}}else if(R instanceof qo){var le;this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"!==this.urlUpdateStrategy||F.extras.skipLocationChange||this.setBrowserUrl(null!==(le=F.targetBrowserUrl)&&void 0!==le?le:this.rawUrlTree,F)}else R instanceof mi&&(R.code===vn.GuardRejected||R.code===vn.NoDataFromResolver)?this.restoreHistory(F):R instanceof Ms?this.restoreHistory(F,!0):R instanceof Qr&&(this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId)}setBrowserUrl(R,F){const re=R instanceof lr?this.urlSerializer.serialize(R):R;if(this.location.isCurrentPathEqualTo(re)||F.extras.replaceUrl){const vt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(re,"",vt)}else{const le={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(re,"",le)}}restoreHistory(R,F=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.currentUrlTree===R.finalUrl&&0===le&&(this.resetState(R),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){var F;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(F=R.finalUrl)&&void 0!==F?F:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,F){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:F}:{navigationId:R}}}return(b=S).\u0275fac=(()=>{let O;return function(F){return(O||(O=c.xGo(b)))(F||b)}})(),b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})();var ei=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(ei||{});function Hr(b,S){b.events.pipe((0,wt.p)(O=>O instanceof Qr||O instanceof mi||O instanceof Ms||O instanceof Xi),(0,Ce.T)(O=>O instanceof Qr||O instanceof Xi?ei.COMPLETE:O instanceof mi&&(O.code===vn.Redirect||O.code===vn.SupersededByNewNavigation)?ei.REDIRECTING:ei.FAILED),(0,wt.p)(O=>O!==ei.REDIRECTING),(0,Xe.s)(1)).subscribe(()=>{S()})}function _i(b){throw b}const fi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{var b;class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var R,F;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(er),this.options=(0,c.WQX)(Zo,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(k),this.urlSerializer=(0,c.WQX)(sr),this.location=(0,c.WQX)(ge.aZ),this.urlHandlingStrategy=(0,c.WQX)($),this._events=new dt.B,this.errorHandler=this.options.errorHandler||_i,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(be),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(R=null===(F=(0,c.WQX)(Wa,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==R?R:[],this.componentInputBindingEnabled=!!(0,c.WQX)(lo,{optional:!0}),this.eventsSubscription=new at.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:re=>{this.console.warn(re)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(F=>{try{const re=this.navigationTransitions.currentTransition,le=this.navigationTransitions.currentNavigation;if(null!==re&&null!==le)if(this.stateManager.handleRouterEvent(F,le),F instanceof mi&&F.code!==vn.Redirect&&F.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(F instanceof Qr)this.navigated=!0;else if(F instanceof ji){const vt=F.navigationBehaviorOptions,on=this.urlHandlingStrategy.merge(F.url,re.currentRawUrl),Et={browserUrl:re.extras.browserUrl,info:re.extras.info,skipLocationChange:re.extras.skipLocationChange,replaceUrl:re.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ee(re.source),...vt};this.scheduleNavigation(on,On,null,Et,{resolve:re.resolve,reject:re.reject,promise:re.promise})}(function gn(b){return!(b instanceof qo||b instanceof ji)})(F)&&this._events.next(F)}catch(re){this.navigationTransitions.transitionAbortSubject.next(re)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),On,this.stateManager.restoredState())}setUpLocationChangeListener(){var R;null!==(R=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==R||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((F,re)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(F,"popstate",re)},0)}))}navigateToSyncWithBrowser(R,F,re){const le={replaceUrl:!0},vt=null!=re&&re.navigationId?re:null;if(re){const Et={...re};delete Et.navigationId,delete Et.\u0275routerPageId,0!==Object.keys(Et).length&&(le.state=Et)}const on=this.parseUrl(R);this.scheduleNavigation(on,F,vt,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Ga),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,F={}){const{relativeTo:re,queryParams:le,fragment:vt,queryParamsHandling:on,preserveFragment:Et}=F,kn=Et?this.currentUrlTree.fragment:vt;let Si,Or=null;switch(null!=on?on:this.options.defaultQueryParamsHandling){case"merge":Or={...this.currentUrlTree.queryParams,...le};break;case"preserve":Or=this.currentUrlTree.queryParams;break;default:Or=le||null}null!==Or&&(Or=this.removeEmptyProps(Or));try{Si=Lt(re?re.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||"/"!==R[0][0])&&(R=[]),Si=this.currentUrlTree.root}return Mt(Si,R,Or,null!=kn?kn:null)}navigateByUrl(R,F={skipLocationChange:!1}){const re=Tn(R)?R:this.parseUrl(R),le=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(le,On,null,F)}navigate(R,F={skipLocationChange:!1}){return function oi(b){for(let S=0;S<b.length;S++)if(null==b[S])throw new c.wOt(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,F),F)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){try{return this.urlSerializer.parse(R)}catch{return this.urlSerializer.parse("/")}}isActive(R,F){let re;if(re=!0===F?{...fi}:!1===F?{...zi}:F,Tn(R))return ft(this.currentUrlTree,R,re);const le=this.parseUrl(R);return ft(this.currentUrlTree,le,re)}removeEmptyProps(R){return Object.entries(R).reduce((F,[re,le])=>(null!=le&&(F[re]=le),F),{})}scheduleNavigation(R,F,re,le,vt){if(this.disposed)return Promise.resolve(!1);let on,Et,kn;vt?(on=vt.resolve,Et=vt.reject,kn=vt.promise):kn=new Promise((Si,Gr)=>{on=Si,Et=Gr});const Or=this.pendingTasks.add();return Hr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Or))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:le,resolve:on,reject:Et,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(Si=>Promise.reject(Si))}}return(b=S).\u0275fac=function(R){return new(R||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})(),Jn=(()=>{var b;class S{constructor(R,F,re,le,vt,on){var Et;this.router=R,this.route=F,this.tabIndexAttribute=re,this.renderer=le,this.el=vt,this.locationStrategy=on,this.href=null,this.onChanges=new dt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const kn=null===(Et=vt.nativeElement.tagName)||void 0===Et?void 0:Et.toLowerCase();this.isAnchorElement="a"===kn||"area"===kn,this.isAnchorElement?this.subscription=R.events.subscribe(Or=>{Or instanceof Qr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null==R?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Tn(R)||Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0"))}onClick(R,F,re,le,vt){const on=this.urlTree;return!!(null===on||this.isAnchorElement&&(0!==R||F||re||le||vt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(on,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}updateHref(){var R;const F=this.urlTree;this.href=null!==F&&this.locationStrategy?null===(R=this.locationStrategy)||void 0===R?void 0:R.prepareExternalUrl(this.router.serializeUrl(F)):null;const re=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",re)}applyAttributeValue(R,F){const re=this.renderer,le=this.el.nativeElement;null!==F?re.setAttribute(le,R,F):re.removeAttribute(le,R)}get urlTree(){return null===this.routerLinkInput?null:Tn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(b=S).\u0275fac=function(R){return new(R||b)(c.rXU(Wi),c.rXU(qt),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(ge.hb))},b.\u0275dir=c.FsC({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,F){1&R&&c.bIt("click",function(le){return F.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&R&&c.BMQ("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),S})();class Fi{}let Li=(()=>{var b;class S{constructor(R,F,re,le,vt){this.router=R,this.injector=re,this.preloadingStrategy=le,this.loader=vt}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.p)(R=>R instanceof Qr),Xt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,F){const re=[];for(const Et of F){var le,vt;Et.providers&&!Et._injector&&(Et._injector=(0,c.Ol2)(Et.providers,R,`Route: ${Et.path}`));const kn=null!==(le=Et._injector)&&void 0!==le?le:R,Or=null!==(vt=Et._loadedInjector)&&void 0!==vt?vt:kn;var on;(Et.loadChildren&&!Et._loadedRoutes&&void 0===Et.canLoad||Et.loadComponent&&!Et._loadedComponent)&&re.push(this.preloadConfig(kn,Et)),(Et.children||Et._loadedRoutes)&&re.push(this.processRoutes(Or,null!==(on=Et.children)&&void 0!==on?on:Et._loadedRoutes))}return(0,De.H)(re).pipe((0,mt.U)())}preloadConfig(R,F){return this.preloadingStrategy.preload(F,()=>{let re;re=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(R,F):(0,he.of)(null);const le=re.pipe((0,Se.Z)(vt=>{var on;return null===vt?(0,he.of)(void 0):(F._loadedRoutes=vt.routes,F._loadedInjector=vt.injector,this.processRoutes(null!==(on=vt.injector)&&void 0!==on?on:R,vt.routes))}));if(F.loadComponent&&!F._loadedComponent){const vt=this.loader.loadComponent(F);return(0,De.H)([le,vt]).pipe((0,mt.U)())}return le})}}return(b=S).\u0275fac=function(R){return new(R||b)(c.KVO(Wi),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Fi),c.KVO(Ka))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),S})();const Bi=new c.nKC("");let oa=(()=>{var b;class S{constructor(R,F,re,le,vt={}){this.urlSerializer=R,this.transitions=F,this.viewportScroller=re,this.zone=le,this.options=vt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},vt.scrollPositionRestoration||(vt.scrollPositionRestoration="disabled"),vt.anchorScrolling||(vt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof Qr?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof Xi&&R.code===bo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof yt&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yt(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var R,F;null===(R=this.routerEventsSubscription)||void 0===R||R.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return(b=S).\u0275fac=function(R){c.QTQ()},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac}),S})();function sa(b,S){return{\u0275kind:b,\u0275providers:S}}function Ro(){const b=(0,c.WQX)(c.zZn);return S=>{var O,R;const F=b.get(c.o8S);if(S!==F.components[0])return;const re=b.get(Wi),le=b.get(ul);1===b.get(Lu)&&re.initialNavigation(),null===(O=b.get(or,null,c.$GK.Optional))||void 0===O||O.setUpPreloading(),null===(R=b.get(Bi,null,c.$GK.Optional))||void 0===R||R.init(),re.resetRootComponentType(F.componentTypes[0]),le.closed||(le.next(),le.complete(),le.unsubscribe())}}const ul=new c.nKC("",{factory:()=>new dt.B}),Lu=new c.nKC("",{providedIn:"root",factory:()=>1}),or=new c.nKC("");function aa(b){return sa(0,[{provide:or,useExisting:Li},{provide:Fi,useExisting:b}])}function Ki(b){return sa(9,[{provide:U,useValue:C},{provide:ie,useValue:{skipNextTransition:!(null==b||!b.skipInitialTransition),...b}}])}const ho=new c.nKC("ROUTER_FORROOT_GUARD"),ui=[ge.aZ,{provide:sr,useClass:Mi},Wi,Ni,{provide:qt,useFactory:function Lr(b){return b.routerState.root},deps:[Wi]},Ka,[]];let ma=(()=>{var b;class S{constructor(R){}static forRoot(R,F){return{ngModule:S,providers:[ui,[],{provide:Wa,multi:!0,useValue:R},{provide:ho,useFactory:va,deps:[[Wi,new c.Xx1,new c.kdw]]},{provide:Zo,useValue:F||{}},null!=F&&F.useHash?{provide:ge.hb,useClass:ge.fw}:{provide:ge.hb,useClass:ge.Sm},{provide:Bi,useFactory:()=>{const b=(0,c.WQX)(ge.Xr),S=(0,c.WQX)(c.SKi),O=(0,c.WQX)(Zo),R=(0,c.WQX)(k),F=(0,c.WQX)(sr);return O.scrollOffset&&b.setOffset(O.scrollOffset),new oa(F,R,b,S,O)}},null!=F&&F.preloadingStrategy?aa(F.preloadingStrategy).\u0275providers:[],null!=F&&F.initialNavigation?Uu(F):[],null!=F&&F.bindToComponentInputs?sa(8,[wo,{provide:lo,useExisting:wo}]).\u0275providers:[],null!=F&&F.enableViewTransitions?Ki().\u0275providers:[],[{provide:Ac,useFactory:Ro},{provide:c.iLQ,multi:!0,useExisting:Ac}]]}}static forChild(R){return{ngModule:S,providers:[{provide:Wa,multi:!0,useValue:R}]}}}return(b=S).\u0275fac=function(R){return new(R||b)(c.KVO(ho,8))},b.\u0275mod=c.$C({type:b}),b.\u0275inj=c.G2t({}),S})();function va(b){return"guarded"}function Uu(b){return["disabled"===b.initialNavigation?sa(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const S=(0,c.WQX)(Wi);return()=>{S.setUpLocationChangeListener()}}},{provide:Lu,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?sa(2,[{provide:Lu,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:S=>{const O=S.get(ge.hj,Promise.resolve());return()=>O.then(()=>new Promise(R=>{const F=S.get(Wi),re=S.get(ul);Hr(F,()=>{R(!0)}),S.get(k).afterPreactivation=()=>(R(!0),re.closed?(0,he.of)(void 0):re),F.initialNavigation()}))}}]).\u0275providers:[]]}const Ac=new c.nKC("")},3667:(Rn,ht,j)=>{"use strict";j.d(ht,{U1:()=>oe,Jm:()=>_t,W9:()=>ri,eU:()=>Bo,uz:()=>Qo,he:()=>_o,nf:()=>yo,AF:()=>Hi,Rg:()=>na,BC:()=>Ji,ai:()=>os,bv:()=>ss,N7:()=>Pa});var c=j(9842),f=j(4438),xe=j(4341),H=j(467),De=j(4964),he=j(177),te=j(5531),Ne=j(4442);var Xt=j(1413),wn=j(8750),un=j(1985),Un=j(1397),Ut=j(7441),_e=j(8071),ye=j(6450);const me=["addListener","removeListener"],J=["addEventListener","removeEventListener"],Ee=["on","off"];function ze(E,M,$,y){if((0,_e.T)($)&&(y=$,$=void 0),y)return ze(E,M,$).pipe((0,ye.I)(y));const[U,ie]=function _n(E){return(0,_e.T)(E.addEventListener)&&(0,_e.T)(E.removeEventListener)}(E)?J.map(C=>N=>E[C](M,N,$)):function Ze(E){return(0,_e.T)(E.addListener)&&(0,_e.T)(E.removeListener)}(E)?me.map(Fe(E,M)):function mt(E){return(0,_e.T)(E.on)&&(0,_e.T)(E.off)}(E)?Ee.map(Fe(E,M)):[];if(!U&&(0,Ut.X)(E))return(0,Un.Z)(C=>ze(C,M,$))((0,wn.Tg)(E));if(!U)throw new TypeError("Invalid event target");return new un.c(C=>{const N=(...ue)=>C.next(1<ue.length?ue:ue[0]);return U(N),()=>ie(N)})}function Fe(E,M){return $=>y=>E[$](M,y)}var ln=j(4412),Hn=j(4572),mn=j(7673),Nt=j(1635),Mr=j(5964),Fr=j(5558),Gn=j(3294);let St=(()=>{var E;class M{constructor(y,U){(0,c.A)(this,"doc",void 0),(0,c.A)(this,"_readyPromise",void 0),(0,c.A)(this,"win",void 0),(0,c.A)(this,"backButton",new Xt.B),(0,c.A)(this,"keyboardDidShow",new Xt.B),(0,c.A)(this,"keyboardDidHide",new Xt.B),(0,c.A)(this,"pause",new Xt.B),(0,c.A)(this,"resume",new Xt.B),(0,c.A)(this,"resize",new Xt.B),this.doc=y,U.run(()=>{var ie;let C;this.win=y.defaultView,this.backButton.subscribeWithPriority=function(N,ue){return this.subscribe(k=>k.register(N,ee=>U.run(()=>ue(ee))))},ft(this.pause,y,"pause",U),ft(this.resume,y,"resume",U),ft(this.backButton,y,"ionBackButton",U),ft(this.resize,this.win,"resize",U),ft(this.keyboardDidShow,this.win,"ionKeyboardDidShow",U),ft(this.keyboardDidHide,this.win,"ionKeyboardDidHide",U),this._readyPromise=new Promise(N=>{C=N}),null!==(ie=this.win)&&void 0!==ie&&ie.cordova?y.addEventListener("deviceready",()=>{C("cordova")},{once:!0}):C("dom")})}is(y){return(0,te.a)(this.win,y)}platforms(){return(0,te.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(y){return zt(this.win.location.href,y)}isLandscape(){return!this.isPortrait()}isPortrait(){var y,U;return null===(y=(U=this.win).matchMedia)||void 0===y?void 0:y.call(U,"(orientation: portrait)").matches}testUserAgent(y){const U=this.win.navigator;return!!(null!=U&&U.userAgent&&U.userAgent.indexOf(y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)(f.KVO(he.qQ),f.KVO(f.SKi))}),(0,c.A)(M,"\u0275prov",f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})),M})();const zt=(E,M)=>{M=M.replace(/[[\]\\]/g,"\\$&");const y=new RegExp("[\\?&]"+M+"=([^&#]*)").exec(E);return y?decodeURIComponent(y[1].replace(/\+/g," ")):null},ft=(E,M,$,y)=>{M&&M.addEventListener($,U=>{y.run(()=>{E.next(null!=U?U.detail:void 0)})})};let hr=(()=>{var E;class M{constructor(y,U,ie,C){(0,c.A)(this,"location",void 0),(0,c.A)(this,"serializer",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"topOutlet",void 0),(0,c.A)(this,"direction",Nn),(0,c.A)(this,"animated",Bn),(0,c.A)(this,"animationBuilder",void 0),(0,c.A)(this,"guessDirection","forward"),(0,c.A)(this,"guessAnimation",void 0),(0,c.A)(this,"lastNavId",-1),this.location=U,this.serializer=ie,this.router=C,C&&C.events.subscribe(N=>{if(N instanceof De.Z){const ue=N.restoredState?N.restoredState.navigationId:N.id;this.guessDirection=this.guessAnimation=ue<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?N.id:ue}}),y.backButton.subscribeWithPriority(0,N=>{this.pop(),N()})}navigateForward(y,U={}){return this.setDirection("forward",U.animated,U.animationDirection,U.animation),this.navigate(y,U)}navigateBack(y,U={}){return this.setDirection("back",U.animated,U.animationDirection,U.animation),this.navigate(y,U)}navigateRoot(y,U={}){return this.setDirection("root",U.animated,U.animationDirection,U.animation),this.navigate(y,U)}back(y={animated:!0,animationDirection:"back"}){return this.setDirection("back",y.animated,y.animationDirection,y.animation),this.location.back()}pop(){var y=this;return(0,H.A)(function*(){let U=y.topOutlet;for(;U;){if(yield U.pop())return!0;U=U.parentOutlet}return!1})()}setDirection(y,U,ie,C){this.direction=y,this.animated=fr(y,U,ie),this.animationBuilder=C}setTopOutlet(y){this.topOutlet=y}consumeTransition(){let U,y="root";const ie=this.animationBuilder;return"auto"===this.direction?(y=this.guessDirection,U=this.guessAnimation):(U=this.animated,y=this.direction),this.direction=Nn,this.animated=Bn,this.animationBuilder=void 0,{direction:y,animation:U,animationBuilder:ie}}navigate(y,U){if(Array.isArray(y))return this.router.navigate(y,U);{const ie=this.serializer.parse(y.toString());return void 0!==U.queryParams&&(ie.queryParams={...U.queryParams}),void 0!==U.fragment&&(ie.fragment=U.fragment),this.router.navigateByUrl(ie,U)}}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)(f.KVO(St),f.KVO(he.aZ),f.KVO(De.Sd),f.KVO(De.Ix,8))}),(0,c.A)(M,"\u0275prov",f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})),M})();const fr=(E,M,$)=>{if(!1!==M){if(void 0!==$)return $;if("forward"===E||"back"===E)return E;if("root"===E&&!0===M)return"forward"}},Nn="auto",Bn=void 0;let _r=(()=>{var E;class M{get(y,U){const ie=lr();return ie?ie.get(y,U):null}getBoolean(y,U){const ie=lr();return!!ie&&ie.getBoolean(y,U)}getNumber(y,U){const ie=lr();return ie?ie.getNumber(y,U):0}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)}),(0,c.A)(M,"\u0275prov",f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})),M})();const Er=new f.nKC("USERCONFIG"),lr=()=>{if(typeof window<"u"){const E=window.Ionic;if(null!=E&&E.config)return E.config}return null};class gr{constructor(M={}){(0,c.A)(this,"data",void 0),this.data=M,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(M){return this.data[M]}}let wr=(()=>{var E;class M{constructor(){(0,c.A)(this,"zone",(0,f.WQX)(f.SKi)),(0,c.A)(this,"applicationRef",(0,f.WQX)(f.o8S)),(0,c.A)(this,"config",(0,f.WQX)(Er))}create(y,U,ie){var C;return new Ti(y,U,this.applicationRef,this.zone,ie,null!==(C=this.config.useSetInputAPI)&&void 0!==C&&C)}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)}),(0,c.A)(M,"\u0275prov",f.jDH({token:E,factory:E.\u0275fac})),M})();class Ti{constructor(M,$,y,U,ie,C){(0,c.A)(this,"environmentInjector",void 0),(0,c.A)(this,"injector",void 0),(0,c.A)(this,"applicationRef",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"elementReferenceKey",void 0),(0,c.A)(this,"enableSignalsSupport",void 0),(0,c.A)(this,"elRefMap",new WeakMap),(0,c.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=M,this.injector=$,this.applicationRef=y,this.zone=U,this.elementReferenceKey=ie,this.enableSignalsSupport=C}attachViewToDom(M,$,y,U){return this.zone.run(()=>new Promise(ie=>{const C={...y};void 0!==this.elementReferenceKey&&(C[this.elementReferenceKey]=M),ie(mr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,M,$,C,U,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(M,$){return this.zone.run(()=>new Promise(y=>{const U=this.elRefMap.get($);if(U){U.destroy(),this.elRefMap.delete($);const ie=this.elEventsMap.get($);ie&&(ie(),this.elEventsMap.delete($))}y()}))}}const mr=(E,M,$,y,U,ie,C,N,ue,k,ee,be)=>{const Ft=f.zZn.create({providers:pr(ue),parent:$}),hn=(0,f.a0P)(N,{environmentInjector:M,elementInjector:Ft}),er=hn.instance,Cr=hn.location.nativeElement;if(ue)if(ee&&void 0!==er[ee]&&console.error(`[Ionic Error]: ${ee} is a reserved property when using ${C.tagName.toLowerCase()}. Rename or remove the "${ee}" property from ${N.name}.`),!0===be&&void 0!==hn.setInput){const{modal:Hr,popover:_i,...fi}=ue;for(const zi in fi)hn.setInput(zi,fi[zi]);void 0!==Hr&&Object.assign(er,{modal:Hr}),void 0!==_i&&Object.assign(er,{popover:_i})}else Object.assign(er,ue);if(k)for(const Hr of k)Cr.classList.add(Hr);const ei=sr(E,er,Cr);return C.appendChild(Cr),y.attachView(hn.hostView),U.set(Cr,hn),ie.set(Cr,ei),Cr},ir=[Ne.L,Ne.a,Ne.b,Ne.c,Ne.d],sr=(E,M,$)=>E.run(()=>{const y=ir.filter(U=>"function"==typeof M[U]).map(U=>{const ie=C=>M[U](C.detail);return $.addEventListener(U,ie),()=>$.removeEventListener(U,ie)});return()=>y.forEach(U=>U())}),Mi=new f.nKC("NavParamsToken"),pr=E=>[{provide:Mi,useValue:E},{provide:gr,useFactory:$i,deps:[Mi]}],$i=E=>new gr(E),Te=(E,M)=>((E=E.filter($=>$.stackId!==M.stackId)).push(M),E),Ye=(E,M)=>{const $=E.createUrlTree(["."],{relativeTo:M});return E.serializeUrl($)},Cn=(E,M)=>!M||E.stackId!==M.stackId,Fn=(E,M)=>{if(!E)return;const $=Bt(M);for(let y=0;y<$.length;y++){if(y>=E.length)return $[y];if($[y]!==E[y])return}},Bt=E=>E.split("/").map(M=>M.trim()).filter(M=>""!==M),yr=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class cr{constructor(M,$,y,U,ie,C){(0,c.A)(this,"containerEl",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"location",void 0),(0,c.A)(this,"views",[]),(0,c.A)(this,"runningTask",void 0),(0,c.A)(this,"skipTransition",!1),(0,c.A)(this,"tabsPrefix",void 0),(0,c.A)(this,"activeView",void 0),(0,c.A)(this,"nextId",0),this.containerEl=$,this.router=y,this.navCtrl=U,this.zone=ie,this.location=C,this.tabsPrefix=void 0!==M?Bt(M):void 0}createView(M,$){var y;const U=Ye(this.router,$),ie=null==M||null===(y=M.location)||void 0===y?void 0:y.nativeElement,C=sr(this.zone,M.instance,ie);return{id:this.nextId++,stackId:Fn(this.tabsPrefix,U),unlistenEvents:C,element:ie,ref:M,url:U}}getExistingView(M){const $=Ye(this.router,M),y=this.views.find(U=>U.url===$);return y&&y.ref.changeDetectorRef.reattach(),y}setActive(M){var $,y;const U=this.navCtrl.consumeTransition();let{direction:ie,animation:C,animationBuilder:N}=U;const ue=this.activeView,k=Cn(M,ue);k&&(ie="back",C=void 0);const ee=this.views.slice();let be;const Ft=this.router;Ft.getCurrentNavigation?be=Ft.getCurrentNavigation():null!==($=Ft.navigations)&&void 0!==$&&$.value&&(be=Ft.navigations.value),null!==(y=be)&&void 0!==y&&null!==(y=y.extras)&&void 0!==y&&y.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const hn=this.views.includes(M),er=this.insertView(M,ie);hn||M.ref.changeDetectorRef.detectChanges();const Cr=M.animationBuilder;return void 0===N&&"back"===ie&&!k&&void 0!==Cr&&(N=Cr),ue&&(ue.animationBuilder=N),this.zone.runOutsideAngular(()=>this.wait(()=>(ue&&ue.ref.changeDetectorRef.detach(),M.ref.changeDetectorRef.reattach(),this.transition(M,ue,C,this.canGoBack(1),!1,N).then(()=>Vr(M,er,ee,this.location,this.zone)).then(()=>({enteringView:M,direction:ie,animation:C,tabSwitch:k})))))}canGoBack(M,$=this.getActiveStackId()){return this.getStack($).length>M}pop(M,$=this.getActiveStackId()){return this.zone.run(()=>{const y=this.getStack($);if(y.length<=M)return Promise.resolve(!1);const U=y[y.length-M-1];let ie=U.url;const C=U.savedData;if(C){var N;const k=C.get("primary");null!=k&&null!==(N=k.route)&&void 0!==N&&null!==(N=N._routerState)&&void 0!==N&&N.snapshot.url&&(ie=k.route._routerState.snapshot.url)}const{animationBuilder:ue}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ie,{...U.savedExtras,animation:ue}).then(()=>!0)})}startBackTransition(){const M=this.activeView;if(M){const $=this.getStack(M.stackId),y=$[$.length-2],U=y.animationBuilder;return this.wait(()=>this.transition(y,M,"back",this.canGoBack(2),!0,U))}return Promise.resolve()}endBackTransition(M){M?(this.skipTransition=!0,this.pop(1)):this.activeView&&Jt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(M){const $=this.getStack(M);return $.length>0?$[$.length-1]:void 0}getRootUrl(M){const $=this.getStack(M);return $.length>0?$[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(yr),this.activeView=void 0,this.views=[]}getStack(M){return this.views.filter($=>$.stackId===M)}insertView(M,$){return this.activeView=M,this.views=((E,M,$)=>"root"===$?Te(E,M):"forward"===$?((E,M)=>(E.indexOf(M)>=0?E=E.filter(y=>y.stackId!==M.stackId||y.id<=M.id):E.push(M),E))(E,M):((E,M)=>E.indexOf(M)>=0?E.filter(y=>y.stackId!==M.stackId||y.id<=M.id):Te(E,M))(E,M))(this.views,M,$),this.views.slice()}transition(M,$,y,U,ie,C){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if($===M)return Promise.resolve(!1);const N=M?M.element:void 0,ue=$?$.element:void 0,k=this.containerEl;return N&&N!==ue&&(N.classList.add("ion-page"),N.classList.add("ion-page-invisible"),k.commit)?k.commit(N,ue,{duration:void 0===y?0:void 0,direction:y,showGoBack:U,progressAnimation:ie,animationBuilder:C}):Promise.resolve(!1)}wait(M){var $=this;return(0,H.A)(function*(){void 0!==$.runningTask&&(yield $.runningTask,$.runningTask=void 0);const y=$.runningTask=M();return y.finally(()=>$.runningTask=void 0),y})()}}const Vr=(E,M,$,y,U)=>"function"==typeof requestAnimationFrame?new Promise(ie=>{requestAnimationFrame(()=>{Jt(E,M,$,y,U),ie()})}):Promise.resolve(),Jt=(E,M,$,y,U)=>{U.run(()=>$.filter(ie=>!M.includes(ie)).forEach(yr)),M.forEach(ie=>{const N=y.path().split("?")[0].split("#")[0];if(ie!==E&&ie.url!==N){const ue=ie.element;ue.setAttribute("aria-hidden","true"),ue.classList.add("ion-page-hidden"),ie.ref.changeDetectorRef.detach()}})};let Tn=(()=>{var E;class M{get activatedComponentRef(){return this.activated}set animation(y){this.nativeEl.animation=y}set animated(y){this.nativeEl.animated=y}set swipeGesture(y){this._swipeGesture=y,this.nativeEl.swipeHandler=y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:U=>this.stackCtrl.endBackTransition(U)}:void 0}constructor(y,U,ie,C,N,ue,k,ee){(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"nativeEl",void 0),(0,c.A)(this,"activatedView",null),(0,c.A)(this,"tabsPrefix",void 0),(0,c.A)(this,"_swipeGesture",void 0),(0,c.A)(this,"stackCtrl",void 0),(0,c.A)(this,"proxyMap",new WeakMap),(0,c.A)(this,"currentActivatedRoute$",new ln.t(null)),(0,c.A)(this,"activated",null),(0,c.A)(this,"_activatedRoute",null),(0,c.A)(this,"name",De.Xk),(0,c.A)(this,"stackWillChange",new f.bkB),(0,c.A)(this,"stackDidChange",new f.bkB),(0,c.A)(this,"activateEvents",new f.bkB),(0,c.A)(this,"deactivateEvents",new f.bkB),(0,c.A)(this,"parentContexts",(0,f.WQX)(De.Zp)),(0,c.A)(this,"location",(0,f.WQX)(f.c1b)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ)),(0,c.A)(this,"inputBinder",(0,f.WQX)(Lt,{optional:!0})),(0,c.A)(this,"supportsBindingToComponentInputs",!0),(0,c.A)(this,"config",(0,f.WQX)(_r)),(0,c.A)(this,"navCtrl",(0,f.WQX)(hr)),this.parentOutlet=ee,this.nativeEl=C.nativeElement,this.name=y||De.Xk,this.tabsPrefix="true"===U?Ye(N,k):void 0,this.stackCtrl=new cr(this.tabsPrefix,this.nativeEl,N,this.navCtrl,ue,ie),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var y;this.stackCtrl.destroy(),null===(y=this.inputBinder)||void 0===y||y.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const y=this.getContext();null!=y&&y.route&&this.activateWith(y.route,y.injector)}new Promise(y=>((E,M)=>{E.componentOnReady?E.componentOnReady().then($=>M($)):(E=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E)})(()=>M(E))})(this.nativeEl,y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(y,U){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const U=this.getContext();this.activatedView.savedData=new Map(U.children.contexts);const ie=this.activatedView.savedData.get("primary");if(ie&&U.route&&(ie.route={...U.route}),this.activatedView.savedExtras={},U.route){const C=U.route.snapshot;this.activatedView.savedExtras.queryParams=C.queryParams,this.activatedView.savedExtras.fragment=C.fragment}}const y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,U){var ie;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;let C,N=this.stackCtrl.getExistingView(y);if(N){C=this.activated=N.ref;const ee=N.savedData;ee&&(this.getContext().children.contexts=ee),this.updateActivatedRouteProxy(C.instance,y)}else{var ue;const ee=y._futureSnapshot,be=this.parentContexts.getOrCreateContext(this.name).children,Ft=new ln.t(null),hn=this.createActivatedRouteProxy(Ft,y),er=new gi(hn,be,this.location.injector),Cr=null!==(ue=ee.routeConfig.component)&&void 0!==ue?ue:ee.component;C=this.activated=this.outletContent.createComponent(Cr,{index:this.outletContent.length,injector:er,environmentInjector:null!=U?U:this.environmentInjector}),Ft.next(C.instance),N=this.stackCtrl.createView(this.activated,y),this.proxyMap.set(C.instance,hn),this.currentActivatedRoute$.next({component:C.instance,activatedRoute:y})}null===(ie=this.inputBinder)||void 0===ie||ie.bindActivatedRouteToOutletComponent(this),this.activatedView=N,this.navCtrl.setTopOutlet(this);const k=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:N,tabSwitch:Cn(N,k)}),this.stackCtrl.setActive(N).then(ee=>{this.activateEvents.emit(C.instance),this.stackDidChange.emit(ee)})}canGoBack(y=1,U){return this.stackCtrl.canGoBack(y,U)}pop(y=1,U){return this.stackCtrl.pop(y,U)}getLastUrl(y){const U=this.stackCtrl.getLastUrl(y);return U?U.url:void 0}getLastRouteView(y){return this.stackCtrl.getLastUrl(y)}getRootView(y){return this.stackCtrl.getRootUrl(y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(y,U){const ie=new De.nX;return ie._futureSnapshot=U._futureSnapshot,ie._routerState=U._routerState,ie.snapshot=U.snapshot,ie.outlet=U.outlet,ie.component=U.component,ie._paramMap=this.proxyObservable(y,"paramMap"),ie._queryParamMap=this.proxyObservable(y,"queryParamMap"),ie.url=this.proxyObservable(y,"url"),ie.params=this.proxyObservable(y,"params"),ie.queryParams=this.proxyObservable(y,"queryParams"),ie.fragment=this.proxyObservable(y,"fragment"),ie.data=this.proxyObservable(y,"data"),ie}proxyObservable(y,U){return y.pipe((0,Mr.p)(ie=>!!ie),(0,Fr.n)(ie=>this.currentActivatedRoute$.pipe((0,Mr.p)(C=>null!==C&&C.component===ie),(0,Fr.n)(C=>C&&C.activatedRoute[U]),(0,Gn.F)())))}updateActivatedRouteProxy(y,U){const ie=this.proxyMap.get(y);if(!ie)throw new Error("Could not find activated route proxy for view");ie._futureSnapshot=U._futureSnapshot,ie._routerState=U._routerState,ie.snapshot=U.snapshot,ie.outlet=U.outlet,ie.component=U.component,this.currentActivatedRoute$.next({component:y,activatedRoute:U})}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)(f.kS0("name"),f.kS0("tabs"),f.rXU(he.aZ),f.rXU(f.aKT),f.rXU(De.Ix),f.rXU(f.SKi),f.rXU(De.nX),f.rXU(E,12))}),(0,c.A)(M,"\u0275dir",f.FsC({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),M})();class gi{constructor(M,$,y){(0,c.A)(this,"route",void 0),(0,c.A)(this,"childContexts",void 0),(0,c.A)(this,"parent",void 0),this.route=M,this.childContexts=$,this.parent=y}get(M,$){return M===De.nX?this.route:M===De.Zp?this.childContexts:this.parent.get(M,$)}}const Lt=new f.nKC("");let Mt=(()=>{var E;class M{constructor(){(0,c.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){var U;null===(U=this.outletDataSubscriptions.get(y))||void 0===U||U.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:U}=y,ie=(0,Hn.z)([U.queryParams,U.params,U.data]).pipe((0,Fr.n)(([C,N,ue],k)=>(ue={...C,...N,...ue},0===k?(0,mn.of)(ue):Promise.resolve(ue)))).subscribe(C=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==U||null===U.component)return void this.unsubscribeFromRouteData(y);const N=(0,f.HJs)(U.component);if(N)for(const{templateName:ue}of N.inputs)y.activatedComponentRef.setInput(ue,C[ue]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,ie)}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)}),(0,c.A)(M,"\u0275prov",f.jDH({token:E,factory:E.\u0275fac})),M})();function Ur(E){return null!=E&&E.componentInputBindingEnabled?new Mt:null}let Pr=(()=>{var E;class M{constructor(y,U,ie,C,N){(0,c.A)(this,"locationStrategy",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"elementRef",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"routerLink",void 0),(0,c.A)(this,"routerDirection","forward"),(0,c.A)(this,"routerAnimation",void 0),this.locationStrategy=y,this.navCtrl=U,this.elementRef=ie,this.router=C,this.routerLink=N}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const U=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(U.tagName)&&"0"===U.getAttribute("tabindex")&&U.removeAttribute("tabindex")}updateTargetUrlAndHref(){var y;if(null!==(y=this.routerLink)&&void 0!==y&&y.urlTree){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(y){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),y.preventDefault()}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)(f.rXU(he.hb),f.rXU(hr),f.rXU(f.aKT),f.rXU(De.Ix),f.rXU(De.Wk,8))}),(0,c.A)(M,"\u0275dir",f.FsC({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,U){1&y&&f.bIt("click",function(C){return U.onClick(C)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f.OA$]})),M})();const Yt=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E);class On{constructor(M){(0,c.A)(this,"ctrl",void 0),this.ctrl=M}create(M){return this.ctrl.create(M||{})}dismiss(M,$,y){return this.ctrl.dismiss(M,$,y)}getTop(){return this.ctrl.getTop()}}j(9986),j(3604),j(5022),j(3615),j(8607);var bo=j(9483),mi=j(464),Ms=(j(1702),j(3617)),go=(j(8476),j(4261));j(1970),j(7192);const xi=bo.i,As=function(){var E=(0,H.A)(function*(M,$){if(!(typeof window>"u"))return yield xi(),(0,go.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),$)});return function($,y){return E.apply(this,arguments)}}(),$t=["*"],Tr=["outletContent"],Uo=(E,M)=>{const $=E.prototype;M.forEach(y=>{Object.defineProperty($,y,{get(){return this.el[y]},set(U){this.z.runOutsideAngular(()=>this.el[y]=U)},configurable:!0})})},Ps=(E,M)=>{const $=E.prototype;M.forEach(y=>{$[y]=function(){const U=arguments;return this.z.runOutsideAngular(()=>this.el[y].apply(this.el,U))}})},Nr=(E,M,$)=>{$.forEach(y=>E[y]=ze(M,y))};function yn(E){return function($){const{defineCustomElementFn:y,inputs:U,methods:ie}=E;return void 0!==y&&y(),U&&Uo($,U),ie&&Ps($,ie),$}}let oe=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-app"]],ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({methods:["setFocus"]})],M),M})(),_t=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement,Nr(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],M),M})(),ri=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement,Nr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],M),M})(),Bo=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["collapse","mode","translucent"]})],M),M})(),Qo=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],M),M})(),_o=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["color","mode","position"]})],M),M})(),yo=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],M),M})(),Hi=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["color","lines","mode"]})],M),M})(),Ji=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["color","size"]})],M),M})(),os=(()=>{var E;let M=((0,c.A)(E=class{constructor(y,U,ie){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=ie,y.detach(),this.el=U.nativeElement}},"\u0275fac",function(y){return new(y||E)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(E,"\u0275cmp",f.VBU({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$t,decls:1,vars:0,template:function(y,U){1&y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),E);return M=(0,Nt.Cg)([yn({inputs:["color","mode"]})],M),M})(),na=(()=>{var E;class M extends Tn{constructor(y,U,ie,C,N,ue,k,ee){super(y,U,ie,C,N,ue,k,ee),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=ee}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)(f.kS0("name"),f.kS0("tabs"),f.rXU(he.aZ),f.rXU(f.aKT),f.rXU(De.Ix),f.rXU(f.SKi),f.rXU(De.nX),f.rXU(E,12))}),(0,c.A)(M,"\u0275cmp",f.VBU({type:E,selectors:[["ion-router-outlet"]],viewQuery:function(y,U){if(1&y&&f.GBs(Tr,7,f.c1b),2&y){let ie;f.mGM(ie=f.lsd())&&(U.outletContent=ie.first)}},features:[f.Vt3],ngContentSelectors:$t,decls:3,vars:0,consts:[["outletContent",""]],template:function(y,U){1&y&&(f.NAR(),f.qex(0,null,0),f.SdG(2),f.bVm())},encapsulation:2})),M})(),Pa=(()=>{var E;class M extends Pr{}return E=M,(0,c.A)(M,"\u0275fac",(()=>{let $;return function(U){return($||($=f.xGo(E)))(U||E)}})()),(0,c.A)(M,"\u0275dir",f.FsC({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],features:[f.Vt3]})),M})();const Nl={provide:xe.cz,useExisting:(0,f.Rfq)(()=>ra),multi:!0};let ra=(()=>{var E;class M extends xe.zX{}return E=M,(0,c.A)(M,"\u0275fac",(()=>{let $;return function(U){return($||($=f.xGo(E)))(U||E)}})()),(0,c.A)(M,"\u0275dir",f.FsC({type:E,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(y,U){2&y&&f.BMQ("max",U._enabled?U.max:null)},features:[f.Jv_([Nl]),f.Vt3]})),M})();const xa={provide:xe.cz,useExisting:(0,f.Rfq)(()=>Na),multi:!0};let Na=(()=>{var E;class M extends xe.VZ{}return E=M,(0,c.A)(M,"\u0275fac",(()=>{let $;return function(U){return($||($=f.xGo(E)))(U||E)}})()),(0,c.A)(M,"\u0275dir",f.FsC({type:E,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(y,U){2&y&&f.BMQ("min",U._enabled?U.min:null)},features:[f.Jv_([xa]),f.Vt3]})),M})(),ia=(()=>{var E;class M extends On{constructor(){super(Ms.m),(0,c.A)(this,"angularDelegate",(0,f.WQX)(wr)),(0,c.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(y){return super.create({...y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)}),(0,c.A)(M,"\u0275prov",f.jDH({token:E,factory:E.\u0275fac})),M})();class Zo extends On{constructor(){super(Ms.c),(0,c.A)(this,"angularDelegate",(0,f.WQX)(wr)),(0,c.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(M){return super.create({...M,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Ga=(E,M,$)=>()=>{const y=M.defaultView;if(y&&typeof window<"u"){(0,mi.s)({...E,_zoneGate:ie=>$.run(ie)});const U="__zone_symbol__addEventListener"in M.body?"__zone_symbol__addEventListener":"addEventListener";return function yi(){var E=[];if(typeof window<"u"){var M=window;(!M.customElements||M.Element&&(!M.Element.prototype.closest||!M.Element.prototype.matches||!M.Element.prototype.remove||!M.Element.prototype.getRootNode))&&E.push(j.e(7278).then(j.t.bind(j,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||M.NodeList&&!M.NodeList.prototype.forEach||!M.fetch||!function(){try{var y=new URL("b","http://a");return y.pathname="c%20d","http://a/c%20d"===y.href&&y.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&E.push(j.e(9329).then(j.t.bind(j,7783,23)))}return Promise.all(E)}().then(()=>As(y,{exclude:["ion-tabs"],syncQueue:!0,raf:Yt,jmp:ie=>$.runOutsideAngular(ie),ael(ie,C,N,ue){ie[U](C,N,ue)},rel(ie,C,N,ue){ie.removeEventListener(C,N,ue)}}))}};let ss=(()=>{var E;class M{static forRoot(y={}){return{ngModule:M,providers:[{provide:Er,useValue:y},{provide:f.hnV,useFactory:Ga,multi:!0,deps:[Er,he.qQ,f.SKi]},wr,{provide:Lt,useFactory:Ur,deps:[De.Ix]}]}}}return E=M,(0,c.A)(M,"\u0275fac",function(y){return new(y||E)}),(0,c.A)(M,"\u0275mod",f.$C({type:E})),(0,c.A)(M,"\u0275inj",f.G2t({providers:[ia,Zo],imports:[he.MD]})),M})()},467:(Rn,ht,j)=>{"use strict";function c(xe,H,De,he,te,Ne,Ke){try{var Ae=xe[Ne](Ke),ce=Ae.value}catch(Re){return void De(Re)}Ae.done?H(ce):Promise.resolve(ce).then(he,te)}function f(xe){return function(){var H=this,De=arguments;return new Promise(function(he,te){var Ne=xe.apply(H,De);function Ke(ce){c(Ne,he,te,Ke,Ae,"next",ce)}function Ae(ce){c(Ne,he,te,Ke,Ae,"throw",ce)}Ke(void 0)})}}j.d(ht,{A:()=>f})},9842:(Rn,ht,j)=>{"use strict";function c(De){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(De)}function H(De,he,te){return(he=function xe(De){var he=function f(De,he){if("object"!=c(De)||!De)return De;var te=De[Symbol.toPrimitive];if(void 0!==te){var Ne=te.call(De,he||"default");if("object"!=c(Ne))return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===he?String:Number)(De)}(De,"string");return"symbol"==c(he)?he:he+""}(he))in De?Object.defineProperty(De,he,{value:te,enumerable:!0,configurable:!0,writable:!0}):De[he]=te,De}j.d(ht,{A:()=>H})},1635:(Rn,ht,j)=>{"use strict";function H(J,Ee){var ze={};for(var Fe in J)Object.prototype.hasOwnProperty.call(J,Fe)&&Ee.indexOf(Fe)<0&&(ze[Fe]=J[Fe]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Fe=Object.getOwnPropertySymbols(J);Ze<Fe.length;Ze++)Ee.indexOf(Fe[Ze])<0&&Object.prototype.propertyIsEnumerable.call(J,Fe[Ze])&&(ze[Fe[Ze]]=J[Fe[Ze]])}return ze}function De(J,Ee,ze,Fe){var _n,Ze=arguments.length,mt=Ze<3?Ee:null===Fe?Fe=Object.getOwnPropertyDescriptor(Ee,ze):Fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(J,Ee,ze,Fe);else for(var ln=J.length-1;ln>=0;ln--)(_n=J[ln])&&(mt=(Ze<3?_n(mt):Ze>3?_n(Ee,ze,mt):_n(Ee,ze))||mt);return Ze>3&&mt&&Object.defineProperty(Ee,ze,mt),mt}function Re(J,Ee,ze,Fe){return new(ze||(ze=Promise))(function(mt,_n){function ln(Nt){try{mn(Fe.next(Nt))}catch(Mr){_n(Mr)}}function Hn(Nt){try{mn(Fe.throw(Nt))}catch(Mr){_n(Mr)}}function mn(Nt){Nt.done?mt(Nt.value):function Ze(mt){return mt instanceof ze?mt:new ze(function(_n){_n(mt)})}(Nt.value).then(ln,Hn)}mn((Fe=Fe.apply(J,Ee||[])).next())})}function dt(J){return this instanceof dt?(this.v=J,this):new dt(J)}function ge(J,Ee,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Fe=ze.apply(J,Ee||[]),mt=[];return Ze=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ln("next"),ln("throw"),ln("return",function _n(Gn){return function(dr){return Promise.resolve(dr).then(Gn,Mr)}}),Ze[Symbol.asyncIterator]=function(){return this},Ze;function ln(Gn,dr){Fe[Gn]&&(Ze[Gn]=function(nr){return new Promise(function(zr,Gt){mt.push([Gn,nr,zr,Gt])>1||Hn(Gn,nr)})},dr&&(Ze[Gn]=dr(Ze[Gn])))}function Hn(Gn,dr){try{!function mn(Gn){Gn.value instanceof dt?Promise.resolve(Gn.value.v).then(Nt,Mr):Fr(mt[0][2],Gn)}(Fe[Gn](dr))}catch(nr){Fr(mt[0][3],nr)}}function Nt(Gn){Hn("next",Gn)}function Mr(Gn){Hn("throw",Gn)}function Fr(Gn,dr){Gn(dr),mt.shift(),mt.length&&Hn(mt[0][0],mt[0][1])}}function He(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Ee=J[Symbol.asyncIterator];return Ee?Ee.call(J):(J=function at(J){var Ee="function"==typeof Symbol&&Symbol.iterator,ze=Ee&&J[Ee],Fe=0;if(ze)return ze.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&Fe>=J.length&&(J=void 0),{value:J&&J[Fe++],done:!J}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ze={},Fe("next"),Fe("throw"),Fe("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function Fe(mt){ze[mt]=J[mt]&&function(_n){return new Promise(function(ln,Hn){!function Ze(mt,_n,ln,Hn){Promise.resolve(Hn).then(function(mn){mt({value:mn,done:ln})},_n)}(ln,Hn,(_n=J[mt](_n)).done,_n.value)})}}}j.d(ht,{AQ:()=>ge,Cg:()=>De,N3:()=>dt,Tt:()=>H,sH:()=>Re,xN:()=>He}),"function"==typeof SuppressedError&&SuppressedError}},Rn=>{Rn(Rn.s=1493)}]);